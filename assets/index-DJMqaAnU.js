(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $f(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Ru={exports:{}},Ai={},Iu={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),Af=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),Rf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),Lf=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),zf=Symbol.for("react.memo"),Ff=Symbol.for("react.lazy"),Yl=Symbol.iterator;function Bf(t){return t===null||typeof t!="object"?null:(t=Yl&&t[Yl]||t["@@iterator"],typeof t=="function"?t:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lu=Object.assign,Mu={};function an(t,e,r){this.props=t,this.context=e,this.refs=Mu,this.updater=r||Du}an.prototype.isReactComponent={};an.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};an.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uu(){}Uu.prototype=an.prototype;function Wa(t,e,r){this.props=t,this.context=e,this.refs=Mu,this.updater=r||Du}var Va=Wa.prototype=new Uu;Va.constructor=Wa;Lu(Va,an.prototype);Va.isPureReactComponent=!0;var Xl=Array.isArray,zu=Object.prototype.hasOwnProperty,Ka={current:null},Fu={key:!0,ref:!0,__self:!0,__source:!0};function Bu(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zu.call(e,n)&&!Fu.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:os,type:t,key:i,ref:o,props:s,_owner:Ka.current}}function qf(t,e){return{$$typeof:os,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ga(t){return typeof t=="object"&&t!==null&&t.$$typeof===os}function Hf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Zl=/\/+/g;function no(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hf(""+t.key):e.toString(36)}function Ms(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case os:case Af:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+no(o,0):n,Xl(s)?(r="",t!=null&&(r=t.replace(Zl,"$&/")+"/"),Ms(s,e,r,"",function(u){return u})):s!=null&&(Ga(s)&&(s=qf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Xl(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+no(i,l);o+=Ms(i,e,r,c,s)}else if(c=Bf(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+no(i,l++),o+=Ms(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(t,e,r){if(t==null)return t;var n=[],s=0;return Ms(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Wf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ee={current:null},Us={transition:null},Vf={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Us,ReactCurrentOwner:Ka};function qu(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:gs,forEach:function(t,e,r){gs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gs(t,function(){e++}),e},toArray:function(t){return gs(t,function(e){return e})||[]},only:function(t){if(!Ga(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=an;H.Fragment=Of;H.Profiler=If;H.PureComponent=Wa;H.StrictMode=Rf;H.Suspense=Uf;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vf;H.act=qu;H.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Lu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ka.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)zu.call(e,c)&&!Fu.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:os,type:t.type,key:s,ref:i,props:n,_owner:o}};H.createContext=function(t){return t={$$typeof:Lf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Df,_context:t},t.Consumer=t};H.createElement=Bu;H.createFactory=function(t){var e=Bu.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:Mf,render:t}};H.isValidElement=Ga;H.lazy=function(t){return{$$typeof:Ff,_payload:{_status:-1,_result:t},_init:Wf}};H.memo=function(t,e){return{$$typeof:zf,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Us.transition;Us.transition={};try{t()}finally{Us.transition=e}};H.unstable_act=qu;H.useCallback=function(t,e){return Ee.current.useCallback(t,e)};H.useContext=function(t){return Ee.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Ee.current.useDeferredValue(t)};H.useEffect=function(t,e){return Ee.current.useEffect(t,e)};H.useId=function(){return Ee.current.useId()};H.useImperativeHandle=function(t,e,r){return Ee.current.useImperativeHandle(t,e,r)};H.useInsertionEffect=function(t,e){return Ee.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Ee.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Ee.current.useMemo(t,e)};H.useReducer=function(t,e,r){return Ee.current.useReducer(t,e,r)};H.useRef=function(t){return Ee.current.useRef(t)};H.useState=function(t){return Ee.current.useState(t)};H.useSyncExternalStore=function(t,e,r){return Ee.current.useSyncExternalStore(t,e,r)};H.useTransition=function(){return Ee.current.useTransition()};H.version="18.3.1";Iu.exports=H;var C=Iu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=C,Gf=Symbol.for("react.element"),Jf=Symbol.for("react.fragment"),Qf=Object.prototype.hasOwnProperty,Yf=Kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xf={key:!0,ref:!0,__self:!0,__source:!0};function Hu(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Qf.call(e,n)&&!Xf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Gf,type:t,key:i,ref:o,props:s,_owner:Yf.current}}Ai.Fragment=Jf;Ai.jsx=Hu;Ai.jsxs=Hu;Ru.exports=Ai;var a=Ru.exports,Wu={exports:{}},ze={},Vu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,M){var z=A.length;A.push(M);e:for(;0<z;){var Q=z-1>>>1,te=A[Q];if(0<s(te,M))A[Q]=M,A[z]=te,z=Q;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var M=A[0],z=A.pop();if(z!==M){A[0]=z;e:for(var Q=0,te=A.length,ft=te>>>1;Q<ft;){var xe=2*(Q+1)-1,N=A[xe],L=xe+1,b=A[L];if(0>s(N,z))L<te&&0>s(b,N)?(A[Q]=b,A[L]=z,Q=L):(A[Q]=N,A[xe]=z,Q=xe);else if(L<te&&0>s(b,z))A[Q]=b,A[L]=z,Q=L;else break e}}return M}function s(A,M){var z=A.sortIndex-M.sortIndex;return z!==0?z:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,y=!1,v=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=A)n(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=r(u)}}function _(A){if(j=!1,p(A),!v)if(r(c)!==null)v=!0,sr(P);else{var M=r(u);M!==null&&ir(_,M.startTime-A)}}function P(A,M){v=!1,j&&(j=!1,g(x),x=-1),y=!0;var z=f;try{for(p(M),h=r(c);h!==null&&(!(h.expirationTime>M)||A&&!k());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var te=Q(h.expirationTime<=M);M=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(c)&&n(c),p(M)}else n(c);h=r(c)}if(h!==null)var ft=!0;else{var xe=r(u);xe!==null&&ir(_,xe.startTime-M),ft=!1}return ft}finally{h=null,f=z,y=!1}}var E=!1,w=null,x=-1,R=5,D=-1;function k(){return!(t.unstable_now()-D<R)}function F(){if(w!==null){var A=t.unstable_now();D=A;var M=!0;try{M=w(!0,A)}finally{M?Te():(E=!1,w=null)}}else E=!1}var Te;if(typeof m=="function")Te=function(){m(F)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,hn=ht.port2;ht.port1.onmessage=F,Te=function(){hn.postMessage(null)}}else Te=function(){S(F,0)};function sr(A){w=A,E||(E=!0,Te())}function ir(A,M){x=S(function(){A(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,sr(P))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var z=f;f=M;try{return A()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=f;f=A;try{return M()}finally{f=z}},t.unstable_scheduleCallback=function(A,M,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=z+te,A={id:d++,callback:M,priorityLevel:A,startTime:z,expirationTime:te,sortIndex:-1},z>Q?(A.sortIndex=z,e(u,A),r(c)===null&&A===r(u)&&(j?(g(x),x=-1):j=!0,ir(_,z-Q))):(A.sortIndex=te,e(c,A),v||y||(v=!0,sr(P))),A},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(A){var M=f;return function(){var z=f;f=M;try{return A.apply(this,arguments)}finally{f=z}}}})(Ku);Vu.exports=Ku;var Zf=Vu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=C,Ue=Zf;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gu=new Set,zn={};function br(t,e){Xr(t,e),Xr(t+"Capture",e)}function Xr(t,e){for(zn[t]=e,t=0;t<e.length;t++)Gu.add(e[t])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,tp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ec={},tc={};function rp(t){return Mo.call(tc,t)?!0:Mo.call(ec,t)?!1:tp.test(t)?tc[t]=!0:(ec[t]=!0,!1)}function np(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sp(t,e,r,n){if(e===null||typeof e>"u"||np(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ce(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Ce(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Ce(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Ce(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Ce(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Ce(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Ce(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Ce(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Ce(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Ce(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ja=/[\-:]([a-z])/g;function Qa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ja,Qa);ve[e]=new Ce(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ja,Qa);ve[e]=new Ce(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ja,Qa);ve[e]=new Ce(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Ce(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Ce(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ya(t,e,r,n){var s=ve.hasOwnProperty(e)?ve[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sp(e,r,s,n)&&(r=null),n||s===null?rp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Pt=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),Or=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),Uo=Symbol.for("react.profiler"),Ju=Symbol.for("react.provider"),Qu=Symbol.for("react.context"),Za=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Fo=Symbol.for("react.suspense_list"),el=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Yu=Symbol.for("react.offscreen"),rc=Symbol.iterator;function fn(t){return t===null||typeof t!="object"?null:(t=rc&&t[rc]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,so;function bn(t){if(so===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);so=e&&e[1]||""}return`
`+so+t}var io=!1;function oo(t,e){if(!t||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{io=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bn(t):""}function ip(t){switch(t.tag){case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return t=oo(t.type,!1),t;case 11:return t=oo(t.type.render,!1),t;case 1:return t=oo(t.type,!0),t;default:return""}}function Bo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rr:return"Fragment";case Or:return"Portal";case Uo:return"Profiler";case Xa:return"StrictMode";case zo:return"Suspense";case Fo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qu:return(t.displayName||"Context")+".Consumer";case Ju:return(t._context.displayName||"Context")+".Provider";case Za:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case el:return e=t.displayName||null,e!==null?e:Bo(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return Bo(t(e))}catch{}}return null}function op(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bo(e);case 8:return e===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ap(t){var e=Xu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vs(t){t._valueTracker||(t._valueTracker=ap(t))}function Zu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Xu(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qo(t,e){var r=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function nc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Yt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ed(t,e){e=e.checked,e!=null&&Ya(t,"checked",e,!1)}function Ho(t,e){ed(t,e);var r=Yt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wo(t,e.type,Yt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wo(t,e,r){(e!=="number"||Zs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var jn=Array.isArray;function Wr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Yt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Vo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ic(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(jn(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Yt(r)}}function td(t,e){var r=Yt(e.value),n=Yt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function oc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xs,nd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lp=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(t){lp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),En[e]=En[t]})});function sd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||En.hasOwnProperty(t)&&En[t]?(""+e).trim():e+"px"}function id(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var cp=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(t,e){if(e){if(cp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Jo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=null;function tl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yo=null,Vr=null,Kr=null;function ac(t){if(t=cs(t)){if(typeof Yo!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Li(e),Yo(t.stateNode,t.type,e))}}function od(t){Vr?Kr?Kr.push(t):Kr=[t]:Vr=t}function ad(){if(Vr){var t=Vr,e=Kr;if(Kr=Vr=null,ac(t),e)for(t=0;t<e.length;t++)ac(e[t])}}function ld(t,e){return t(e)}function cd(){}var ao=!1;function ud(t,e,r){if(ao)return t(e,r);ao=!0;try{return ld(t,e,r)}finally{ao=!1,(Vr!==null||Kr!==null)&&(cd(),ad())}}function Bn(t,e){var r=t.stateNode;if(r===null)return null;var n=Li(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var Xo=!1;if(St)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{Xo=!1}function up(t,e,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Cn=!1,ei=null,ti=!1,Zo=null,dp={onError:function(t){Cn=!0,ei=t}};function hp(t,e,r,n,s,i,o,l,c){Cn=!1,ei=null,up.apply(dp,arguments)}function fp(t,e,r,n,s,i,o,l,c){if(hp.apply(this,arguments),Cn){if(Cn){var u=ei;Cn=!1,ei=null}else throw Error(T(198));ti||(ti=!0,Zo=u)}}function jr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lc(t){if(jr(t)!==t)throw Error(T(188))}function pp(t){var e=t.alternate;if(!e){if(e=jr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return lc(s),t;if(i===n)return lc(s),e;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function hd(t){return t=pp(t),t!==null?fd(t):null}function fd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fd(t);if(e!==null)return e;t=t.sibling}return null}var pd=Ue.unstable_scheduleCallback,cc=Ue.unstable_cancelCallback,mp=Ue.unstable_shouldYield,gp=Ue.unstable_requestPaint,oe=Ue.unstable_now,yp=Ue.unstable_getCurrentPriorityLevel,rl=Ue.unstable_ImmediatePriority,md=Ue.unstable_UserBlockingPriority,ri=Ue.unstable_NormalPriority,vp=Ue.unstable_LowPriority,gd=Ue.unstable_IdlePriority,Oi=null,ut=null;function xp(t){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Oi,t,void 0,(t.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:bp,wp=Math.log,_p=Math.LN2;function bp(t){return t>>>=0,t===0?32:31-(wp(t)/_p|0)|0}var ws=64,_s=4194304;function kn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ni(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=kn(l):(i&=o,i!==0&&(n=kn(i)))}else o=r&~s,o!==0?n=kn(o):i!==0&&(n=kn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-rt(e),s=1<<r,n|=t[r],e&=~s;return n}function jp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-rt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=jp(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function ea(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yd(){var t=ws;return ws<<=1,!(ws&4194240)&&(ws=64),t}function lo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function as(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rt(e),t[e]=r}function Sp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-rt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function nl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-rt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var K=0;function vd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xd,sl,wd,_d,bd,ta=!1,bs=[],qt=null,Ht=null,Wt=null,qn=new Map,Hn=new Map,Lt=[],Np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(t,e){switch(t){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":qn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(e.pointerId)}}function mn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cs(e),e!==null&&sl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ep(t,e,r,n,s){switch(e){case"focusin":return qt=mn(qt,t,e,r,n,s),!0;case"dragenter":return Ht=mn(Ht,t,e,r,n,s),!0;case"mouseover":return Wt=mn(Wt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return qn.set(i,mn(qn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Hn.set(i,mn(Hn.get(i)||null,t,e,r,n,s)),!0}return!1}function jd(t){var e=hr(t.target);if(e!==null){var r=jr(e);if(r!==null){if(e=r.tag,e===13){if(e=dd(r),e!==null){t.blockedOn=e,bd(t.priority,function(){wd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ra(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Qo=n,r.target.dispatchEvent(n),Qo=null}else return e=cs(r),e!==null&&sl(e),t.blockedOn=r,!1;e.shift()}return!0}function dc(t,e,r){zs(t)&&r.delete(e)}function Cp(){ta=!1,qt!==null&&zs(qt)&&(qt=null),Ht!==null&&zs(Ht)&&(Ht=null),Wt!==null&&zs(Wt)&&(Wt=null),qn.forEach(dc),Hn.forEach(dc)}function gn(t,e){t.blockedOn===e&&(t.blockedOn=null,ta||(ta=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Cp)))}function Wn(t){function e(s){return gn(s,t)}if(0<bs.length){gn(bs[0],t);for(var r=1;r<bs.length;r++){var n=bs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qt!==null&&gn(qt,t),Ht!==null&&gn(Ht,t),Wt!==null&&gn(Wt,t),qn.forEach(e),Hn.forEach(e),r=0;r<Lt.length;r++)n=Lt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Lt.length&&(r=Lt[0],r.blockedOn===null);)jd(r),r.blockedOn===null&&Lt.shift()}var Gr=Pt.ReactCurrentBatchConfig,si=!0;function Tp(t,e,r,n){var s=K,i=Gr.transition;Gr.transition=null;try{K=1,il(t,e,r,n)}finally{K=s,Gr.transition=i}}function Pp(t,e,r,n){var s=K,i=Gr.transition;Gr.transition=null;try{K=4,il(t,e,r,n)}finally{K=s,Gr.transition=i}}function il(t,e,r,n){if(si){var s=ra(t,e,r,n);if(s===null)xo(t,e,n,ii,r),uc(t,n);else if(Ep(s,t,e,r,n))n.stopPropagation();else if(uc(t,n),e&4&&-1<Np.indexOf(t)){for(;s!==null;){var i=cs(s);if(i!==null&&xd(i),i=ra(t,e,r,n),i===null&&xo(t,e,n,ii,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else xo(t,e,n,null,r)}}var ii=null;function ra(t,e,r,n){if(ii=null,t=tl(n),t=hr(t),t!==null)if(e=jr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ii=t,null}function kd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yp()){case rl:return 1;case md:return 4;case ri:case vp:return 16;case gd:return 536870912;default:return 16}default:return 16}}var Ft=null,ol=null,Fs=null;function Sd(){if(Fs)return Fs;var t,e=ol,r=e.length,n,s="value"in Ft?Ft.value:Ft.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Fs=s.slice(t,1<n?1-n:void 0)}function Bs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function hc(){return!1}function Fe(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?js:hc,this.isPropagationStopped=hc,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),e}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Fe(ln),ls=se({},ln,{view:0,detail:0}),$p=Fe(ls),co,uo,yn,Ri=se({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yn&&(yn&&t.type==="mousemove"?(co=t.screenX-yn.screenX,uo=t.screenY-yn.screenY):uo=co=0,yn=t),co)},movementY:function(t){return"movementY"in t?t.movementY:uo}}),fc=Fe(Ri),Ap=se({},Ri,{dataTransfer:0}),Op=Fe(Ap),Rp=se({},ls,{relatedTarget:0}),ho=Fe(Rp),Ip=se({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Dp=Fe(Ip),Lp=se({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mp=Fe(Lp),Up=se({},ln,{data:0}),pc=Fe(Up),zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bp[t])?!!e[t]:!1}function ll(){return qp}var Hp=se({},ls,{key:function(t){if(t.key){var e=zp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(t){return t.type==="keypress"?Bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wp=Fe(Hp),Vp=se({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=Fe(Vp),Kp=se({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),Gp=Fe(Kp),Jp=se({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=Fe(Jp),Yp=se({},Ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=Fe(Yp),Zp=[9,13,27,32],cl=St&&"CompositionEvent"in window,Tn=null;St&&"documentMode"in document&&(Tn=document.documentMode);var em=St&&"TextEvent"in window&&!Tn,Nd=St&&(!cl||Tn&&8<Tn&&11>=Tn),gc=" ",yc=!1;function Ed(t,e){switch(t){case"keyup":return Zp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ir=!1;function tm(t,e){switch(t){case"compositionend":return Cd(e);case"keypress":return e.which!==32?null:(yc=!0,gc);case"textInput":return t=e.data,t===gc&&yc?null:t;default:return null}}function rm(t,e){if(Ir)return t==="compositionend"||!cl&&Ed(t,e)?(t=Sd(),Fs=ol=Ft=null,Ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nd&&e.locale!=="ko"?null:e.data;default:return null}}var nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nm[t.type]:e==="textarea"}function Td(t,e,r,n){od(n),e=oi(e,"onChange"),0<e.length&&(r=new al("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pn=null,Vn=null;function sm(t){zd(t,0)}function Ii(t){var e=Mr(t);if(Zu(e))return t}function im(t,e){if(t==="change")return e}var Pd=!1;if(St){var fo;if(St){var po="oninput"in document;if(!po){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),po=typeof xc.oninput=="function"}fo=po}else fo=!1;Pd=fo&&(!document.documentMode||9<document.documentMode)}function wc(){Pn&&(Pn.detachEvent("onpropertychange",$d),Vn=Pn=null)}function $d(t){if(t.propertyName==="value"&&Ii(Vn)){var e=[];Td(e,Vn,t,tl(t)),ud(sm,e)}}function om(t,e,r){t==="focusin"?(wc(),Pn=e,Vn=r,Pn.attachEvent("onpropertychange",$d)):t==="focusout"&&wc()}function am(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ii(Vn)}function lm(t,e){if(t==="click")return Ii(e)}function cm(t,e){if(t==="input"||t==="change")return Ii(e)}function um(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:um;function Kn(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Mo.call(e,s)||!st(t[s],e[s]))return!1}return!0}function _c(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bc(t,e){var r=_c(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_c(r)}}function Ad(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ad(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Od(){for(var t=window,e=Zs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zs(t.document)}return e}function ul(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dm(t){var e=Od(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Ad(r.ownerDocument.documentElement,r)){if(n!==null&&ul(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=bc(r,i);var o=bc(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hm=St&&"documentMode"in document&&11>=document.documentMode,Dr=null,na=null,$n=null,sa=!1;function jc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sa||Dr==null||Dr!==Zs(n)||(n=Dr,"selectionStart"in n&&ul(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$n&&Kn($n,n)||($n=n,n=oi(na,"onSelect"),0<n.length&&(e=new al("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Dr)))}function ks(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Lr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},mo={},Rd={};St&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Di(t){if(mo[t])return mo[t];if(!Lr[t])return t;var e=Lr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Rd)return mo[t]=e[r];return t}var Id=Di("animationend"),Dd=Di("animationiteration"),Ld=Di("animationstart"),Md=Di("transitionend"),Ud=new Map,kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(t,e){Ud.set(t,e),br(e,[t])}for(var go=0;go<kc.length;go++){var yo=kc[go],fm=yo.toLowerCase(),pm=yo[0].toUpperCase()+yo.slice(1);Zt(fm,"on"+pm)}Zt(Id,"onAnimationEnd");Zt(Dd,"onAnimationIteration");Zt(Ld,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Md,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sn));function Sc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,fp(n,e,void 0,t),t.currentTarget=null}function zd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Sc(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Sc(s,l,u),i=c}}}if(ti)throw t=Zo,ti=!1,Zo=null,t}function Y(t,e){var r=e[ca];r===void 0&&(r=e[ca]=new Set);var n=t+"__bubble";r.has(n)||(Fd(e,t,2,!1),r.add(n))}function vo(t,e,r){var n=0;e&&(n|=4),Fd(r,t,n,e)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Gn(t){if(!t[Ss]){t[Ss]=!0,Gu.forEach(function(r){r!=="selectionchange"&&(mm.has(r)||vo(r,!1,t),vo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ss]||(e[Ss]=!0,vo("selectionchange",!1,e))}}function Fd(t,e,r,n){switch(kd(e)){case 1:var s=Tp;break;case 4:s=Pp;break;default:s=il}r=s.bind(null,e,r,t),s=void 0,!Xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function xo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}ud(function(){var u=i,d=tl(r),h=[];e:{var f=Ud.get(t);if(f!==void 0){var y=al,v=t;switch(t){case"keypress":if(Bs(r)===0)break e;case"keydown":case"keyup":y=Wp;break;case"focusin":v="focus",y=ho;break;case"focusout":v="blur",y=ho;break;case"beforeblur":case"afterblur":y=ho;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Gp;break;case Id:case Dd:case Ld:y=Dp;break;case Md:y=Qp;break;case"scroll":y=$p;break;case"wheel":y=Xp;break;case"copy":case"cut":case"paste":y=Mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=mc}var j=(e&4)!==0,S=!j&&t==="scroll",g=j?f!==null?f+"Capture":null:f;j=[];for(var m=u,p;m!==null;){p=m;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,g!==null&&(_=Bn(m,g),_!=null&&j.push(Jn(m,_,p)))),S)break;m=m.return}0<j.length&&(f=new y(f,v,null,r,d),h.push({event:f,listeners:j}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==Qo&&(v=r.relatedTarget||r.fromElement)&&(hr(v)||v[Nt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?hr(v):null,v!==null&&(S=jr(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(j=fc,_="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(j=mc,_="onPointerLeave",g="onPointerEnter",m="pointer"),S=y==null?f:Mr(y),p=v==null?f:Mr(v),f=new j(_,m+"leave",y,r,d),f.target=S,f.relatedTarget=p,_=null,hr(d)===u&&(j=new j(g,m+"enter",v,r,d),j.target=p,j.relatedTarget=S,_=j),S=_,y&&v)t:{for(j=y,g=v,m=0,p=j;p;p=Sr(p))m++;for(p=0,_=g;_;_=Sr(_))p++;for(;0<m-p;)j=Sr(j),m--;for(;0<p-m;)g=Sr(g),p--;for(;m--;){if(j===g||g!==null&&j===g.alternate)break t;j=Sr(j),g=Sr(g)}j=null}else j=null;y!==null&&Nc(h,f,y,j,!1),v!==null&&S!==null&&Nc(h,S,v,j,!0)}}e:{if(f=u?Mr(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var P=im;else if(vc(f))if(Pd)P=cm;else{P=am;var E=om}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=lm);if(P&&(P=P(t,u))){Td(h,P,r,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Wo(f,"number",f.value)}switch(E=u?Mr(u):window,t){case"focusin":(vc(E)||E.contentEditable==="true")&&(Dr=E,na=u,$n=null);break;case"focusout":$n=na=Dr=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,jc(h,r,d);break;case"selectionchange":if(hm)break;case"keydown":case"keyup":jc(h,r,d)}var w;if(cl)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ir?Ed(t,r)&&(x="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(Nd&&r.locale!=="ko"&&(Ir||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ir&&(w=Sd()):(Ft=d,ol="value"in Ft?Ft.value:Ft.textContent,Ir=!0)),E=oi(u,x),0<E.length&&(x=new pc(x,t,null,r,d),h.push({event:x,listeners:E}),w?x.data=w:(w=Cd(r),w!==null&&(x.data=w)))),(w=em?tm(t,r):rm(t,r))&&(u=oi(u,"onBeforeInput"),0<u.length&&(d=new pc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=w))}zd(h,e)})}function Jn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function oi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bn(t,r),i!=null&&n.unshift(Jn(t,i,s)),i=Bn(t,e),i!=null&&n.push(Jn(t,i,s))),t=t.return}return n}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nc(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Bn(r,i),c!=null&&o.unshift(Jn(r,c,l))):s||(c=Bn(r,i),c!=null&&o.push(Jn(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var gm=/\r\n?/g,ym=/\u0000|\uFFFD/g;function Ec(t){return(typeof t=="string"?t:""+t).replace(gm,`
`).replace(ym,"")}function Ns(t,e,r){if(e=Ec(e),Ec(t)!==e&&r)throw Error(T(425))}function ai(){}var ia=null,oa=null;function aa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,vm=typeof clearTimeout=="function"?clearTimeout:void 0,Cc=typeof Promise=="function"?Promise:void 0,xm=typeof queueMicrotask=="function"?queueMicrotask:typeof Cc<"u"?function(t){return Cc.resolve(null).then(t).catch(wm)}:la;function wm(t){setTimeout(function(){throw t})}function wo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Wn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wn(e)}function Vt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var cn=Math.random().toString(36).slice(2),lt="__reactFiber$"+cn,Qn="__reactProps$"+cn,Nt="__reactContainer$"+cn,ca="__reactEvents$"+cn,_m="__reactListeners$"+cn,bm="__reactHandles$"+cn;function hr(t){var e=t[lt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Nt]||r[lt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Tc(t);t!==null;){if(r=t[lt])return r;t=Tc(t)}return e}t=r,r=t.parentNode}return null}function cs(t){return t=t[lt]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Li(t){return t[Qn]||null}var ua=[],Ur=-1;function er(t){return{current:t}}function X(t){0>Ur||(t.current=ua[Ur],ua[Ur]=null,Ur--)}function J(t,e){Ur++,ua[Ur]=t.current,t.current=e}var Xt={},je=er(Xt),Oe=er(!1),yr=Xt;function Zr(t,e){var r=t.type.contextTypes;if(!r)return Xt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Re(t){return t=t.childContextTypes,t!=null}function li(){X(Oe),X(je)}function Pc(t,e,r){if(je.current!==Xt)throw Error(T(168));J(je,e),J(Oe,r)}function Bd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(T(108,op(t)||"Unknown",s));return se({},r,n)}function ci(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xt,yr=je.current,J(je,t),J(Oe,Oe.current),!0}function $c(t,e,r){var n=t.stateNode;if(!n)throw Error(T(169));r?(t=Bd(t,e,yr),n.__reactInternalMemoizedMergedChildContext=t,X(Oe),X(je),J(je,t)):X(Oe),J(Oe,r)}var _t=null,Mi=!1,_o=!1;function qd(t){_t===null?_t=[t]:_t.push(t)}function jm(t){Mi=!0,qd(t)}function tr(){if(!_o&&_t!==null){_o=!0;var t=0,e=K;try{var r=_t;for(K=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}_t=null,Mi=!1}catch(s){throw _t!==null&&(_t=_t.slice(t+1)),pd(rl,tr),s}finally{K=e,_o=!1}}return null}var zr=[],Fr=0,ui=null,di=0,Be=[],qe=0,vr=null,bt=1,jt="";function lr(t,e){zr[Fr++]=di,zr[Fr++]=ui,ui=t,di=e}function Hd(t,e,r){Be[qe++]=bt,Be[qe++]=jt,Be[qe++]=vr,vr=t;var n=bt;t=jt;var s=32-rt(n)-1;n&=~(1<<s),r+=1;var i=32-rt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,bt=1<<32-rt(e)+s|r<<s|n,jt=i+t}else bt=1<<i|r<<s|n,jt=t}function dl(t){t.return!==null&&(lr(t,1),Hd(t,1,0))}function hl(t){for(;t===ui;)ui=zr[--Fr],zr[Fr]=null,di=zr[--Fr],zr[Fr]=null;for(;t===vr;)vr=Be[--qe],Be[qe]=null,jt=Be[--qe],Be[qe]=null,bt=Be[--qe],Be[qe]=null}var Me=null,Le=null,ee=!1,tt=null;function Wd(t,e){var r=We(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ac(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Me=t,Le=Vt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Me=t,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=vr!==null?{id:bt,overflow:jt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=We(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Me=t,Le=null,!0):!1;default:return!1}}function da(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ha(t){if(ee){var e=Le;if(e){var r=e;if(!Ac(t,e)){if(da(t))throw Error(T(418));e=Vt(r.nextSibling);var n=Me;e&&Ac(t,e)?Wd(n,r):(t.flags=t.flags&-4097|2,ee=!1,Me=t)}}else{if(da(t))throw Error(T(418));t.flags=t.flags&-4097|2,ee=!1,Me=t}}}function Oc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Me=t}function Es(t){if(t!==Me)return!1;if(!ee)return Oc(t),ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!aa(t.type,t.memoizedProps)),e&&(e=Le)){if(da(t))throw Vd(),Error(T(418));for(;e;)Wd(t,e),e=Vt(e.nextSibling)}if(Oc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Le=Vt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Le=null}}else Le=Me?Vt(t.stateNode.nextSibling):null;return!0}function Vd(){for(var t=Le;t;)t=Vt(t.nextSibling)}function en(){Le=Me=null,ee=!1}function fl(t){tt===null?tt=[t]:tt.push(t)}var km=Pt.ReactCurrentBatchConfig;function vn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function Cs(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rc(t){var e=t._init;return e(t._payload)}function Kd(t){function e(g,m){if(t){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Qt(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,p,_){return m===null||m.tag!==6?(m=Co(p,g.mode,_),m.return=g,m):(m=s(m,p),m.return=g,m)}function c(g,m,p,_){var P=p.type;return P===Rr?d(g,m,p.props.children,_,p.key):m!==null&&(m.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===It&&Rc(P)===m.type)?(_=s(m,p.props),_.ref=vn(g,m,p),_.return=g,_):(_=Js(p.type,p.key,p.props,null,g.mode,_),_.ref=vn(g,m,p),_.return=g,_)}function u(g,m,p,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=To(p,g.mode,_),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function d(g,m,p,_,P){return m===null||m.tag!==7?(m=gr(p,g.mode,_,P),m.return=g,m):(m=s(m,p),m.return=g,m)}function h(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Co(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ys:return p=Js(m.type,m.key,m.props,null,g.mode,p),p.ref=vn(g,null,m),p.return=g,p;case Or:return m=To(m,g.mode,p),m.return=g,m;case It:var _=m._init;return h(g,_(m._payload),p)}if(jn(m)||fn(m))return m=gr(m,g.mode,p,null),m.return=g,m;Cs(g,m)}return null}function f(g,m,p,_){var P=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return P!==null?null:l(g,m,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ys:return p.key===P?c(g,m,p,_):null;case Or:return p.key===P?u(g,m,p,_):null;case It:return P=p._init,f(g,m,P(p._payload),_)}if(jn(p)||fn(p))return P!==null?null:d(g,m,p,_,null);Cs(g,p)}return null}function y(g,m,p,_,P){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(p)||null,l(m,g,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ys:return g=g.get(_.key===null?p:_.key)||null,c(m,g,_,P);case Or:return g=g.get(_.key===null?p:_.key)||null,u(m,g,_,P);case It:var E=_._init;return y(g,m,p,E(_._payload),P)}if(jn(_)||fn(_))return g=g.get(p)||null,d(m,g,_,P,null);Cs(m,_)}return null}function v(g,m,p,_){for(var P=null,E=null,w=m,x=m=0,R=null;w!==null&&x<p.length;x++){w.index>x?(R=w,w=null):R=w.sibling;var D=f(g,w,p[x],_);if(D===null){w===null&&(w=R);break}t&&w&&D.alternate===null&&e(g,w),m=i(D,m,x),E===null?P=D:E.sibling=D,E=D,w=R}if(x===p.length)return r(g,w),ee&&lr(g,x),P;if(w===null){for(;x<p.length;x++)w=h(g,p[x],_),w!==null&&(m=i(w,m,x),E===null?P=w:E.sibling=w,E=w);return ee&&lr(g,x),P}for(w=n(g,w);x<p.length;x++)R=y(w,g,x,p[x],_),R!==null&&(t&&R.alternate!==null&&w.delete(R.key===null?x:R.key),m=i(R,m,x),E===null?P=R:E.sibling=R,E=R);return t&&w.forEach(function(k){return e(g,k)}),ee&&lr(g,x),P}function j(g,m,p,_){var P=fn(p);if(typeof P!="function")throw Error(T(150));if(p=P.call(p),p==null)throw Error(T(151));for(var E=P=null,w=m,x=m=0,R=null,D=p.next();w!==null&&!D.done;x++,D=p.next()){w.index>x?(R=w,w=null):R=w.sibling;var k=f(g,w,D.value,_);if(k===null){w===null&&(w=R);break}t&&w&&k.alternate===null&&e(g,w),m=i(k,m,x),E===null?P=k:E.sibling=k,E=k,w=R}if(D.done)return r(g,w),ee&&lr(g,x),P;if(w===null){for(;!D.done;x++,D=p.next())D=h(g,D.value,_),D!==null&&(m=i(D,m,x),E===null?P=D:E.sibling=D,E=D);return ee&&lr(g,x),P}for(w=n(g,w);!D.done;x++,D=p.next())D=y(w,g,x,D.value,_),D!==null&&(t&&D.alternate!==null&&w.delete(D.key===null?x:D.key),m=i(D,m,x),E===null?P=D:E.sibling=D,E=D);return t&&w.forEach(function(F){return e(g,F)}),ee&&lr(g,x),P}function S(g,m,p,_){if(typeof p=="object"&&p!==null&&p.type===Rr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ys:e:{for(var P=p.key,E=m;E!==null;){if(E.key===P){if(P=p.type,P===Rr){if(E.tag===7){r(g,E.sibling),m=s(E,p.props.children),m.return=g,g=m;break e}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===It&&Rc(P)===E.type){r(g,E.sibling),m=s(E,p.props),m.ref=vn(g,E,p),m.return=g,g=m;break e}r(g,E);break}else e(g,E);E=E.sibling}p.type===Rr?(m=gr(p.props.children,g.mode,_,p.key),m.return=g,g=m):(_=Js(p.type,p.key,p.props,null,g.mode,_),_.ref=vn(g,m,p),_.return=g,g=_)}return o(g);case Or:e:{for(E=p.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=To(p,g.mode,_),m.return=g,g=m}return o(g);case It:return E=p._init,S(g,m,E(p._payload),_)}if(jn(p))return v(g,m,p,_);if(fn(p))return j(g,m,p,_);Cs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,p),m.return=g,g=m):(r(g,m),m=Co(p,g.mode,_),m.return=g,g=m),o(g)):r(g,m)}return S}var tn=Kd(!0),Gd=Kd(!1),hi=er(null),fi=null,Br=null,pl=null;function ml(){pl=Br=fi=null}function gl(t){var e=hi.current;X(hi),t._currentValue=e}function fa(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Jr(t,e){fi=t,pl=Br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ae=!0),t.firstContext=null)}function Ge(t){var e=t._currentValue;if(pl!==t)if(t={context:t,memoizedValue:e,next:null},Br===null){if(fi===null)throw Error(T(308));Br=t,fi.dependencies={lanes:0,firstContext:t}}else Br=Br.next=t;return e}var fr=null;function yl(t){fr===null?fr=[t]:fr.push(t)}function Jd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,yl(e)):(r.next=s.next,s.next=r),e.interleaved=r,Et(t,n)}function Et(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Dt=!1;function vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Et(t,r)}return s=n.interleaved,s===null?(e.next=e,yl(n)):(e.next=s.next,s.next=e),n.interleaved=e,Et(t,r)}function qs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nl(t,r)}}function Ic(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pi(t,e,r,n){var s=t.updateQueue;Dt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,j=l;switch(f=e,y=r,j.tag){case 1:if(v=j.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=j.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=se({},h,f);break e;case 2:Dt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wr|=o,t.lanes=o,t.memoizedState=h}}function Dc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var us={},dt=er(us),Yn=er(us),Xn=er(us);function pr(t){if(t===us)throw Error(T(174));return t}function xl(t,e){switch(J(Xn,e),J(Yn,t),J(dt,us),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ko(e,t)}X(dt),J(dt,e)}function rn(){X(dt),X(Yn),X(Xn)}function Yd(t){pr(Xn.current);var e=pr(dt.current),r=Ko(e,t.type);e!==r&&(J(Yn,t),J(dt,r))}function wl(t){Yn.current===t&&(X(dt),X(Yn))}var re=er(0);function mi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bo=[];function _l(){for(var t=0;t<bo.length;t++)bo[t]._workInProgressVersionPrimary=null;bo.length=0}var Hs=Pt.ReactCurrentDispatcher,jo=Pt.ReactCurrentBatchConfig,xr=0,ne=null,ue=null,fe=null,gi=!1,An=!1,Zn=0,Sm=0;function we(){throw Error(T(321))}function bl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!st(t[r],e[r]))return!1;return!0}function jl(t,e,r,n,s,i){if(xr=i,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hs.current=t===null||t.memoizedState===null?Tm:Pm,t=r(n,s),An){i=0;do{if(An=!1,Zn=0,25<=i)throw Error(T(301));i+=1,fe=ue=null,e.updateQueue=null,Hs.current=$m,t=r(n,s)}while(An)}if(Hs.current=yi,e=ue!==null&&ue.next!==null,xr=0,fe=ue=ne=null,gi=!1,e)throw Error(T(300));return t}function kl(){var t=Zn!==0;return Zn=0,t}function ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ne.memoizedState=fe=t:fe=fe.next=t,fe}function Je(){if(ue===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=fe===null?ne.memoizedState:fe.next;if(e!==null)fe=e,ue=t;else{if(t===null)throw Error(T(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},fe===null?ne.memoizedState=fe=t:fe=fe.next=t}return fe}function es(t,e){return typeof e=="function"?e(t):e}function ko(t){var e=Je(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((xr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ne.lanes|=d,wr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,st(n,e.memoizedState)||(Ae=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ne.lanes|=i,wr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function So(t){var e=Je(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);st(i,e.memoizedState)||(Ae=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Xd(){}function Zd(t,e){var r=ne,n=Je(),s=e(),i=!st(n.memoizedState,s);if(i&&(n.memoizedState=s,Ae=!0),n=n.queue,Sl(rh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||fe!==null&&fe.memoizedState.tag&1){if(r.flags|=2048,ts(9,th.bind(null,r,n,s,e),void 0,null),pe===null)throw Error(T(349));xr&30||eh(r,e,s)}return s}function eh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function th(t,e,r,n){e.value=r,e.getSnapshot=n,nh(e)&&sh(t)}function rh(t,e,r){return r(function(){nh(e)&&sh(t)})}function nh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!st(t,r)}catch{return!0}}function sh(t){var e=Et(t,1);e!==null&&nt(e,t,1,-1)}function Lc(t){var e=ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},e.queue=t,t=t.dispatch=Cm.bind(null,ne,t),[e.memoizedState,t]}function ts(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ih(){return Je().memoizedState}function Ws(t,e,r,n){var s=ot();ne.flags|=t,s.memoizedState=ts(1|e,r,void 0,n===void 0?null:n)}function Ui(t,e,r,n){var s=Je();n=n===void 0?null:n;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,n!==null&&bl(n,o.deps)){s.memoizedState=ts(e,r,i,n);return}}ne.flags|=t,s.memoizedState=ts(1|e,r,i,n)}function Mc(t,e){return Ws(8390656,8,t,e)}function Sl(t,e){return Ui(2048,8,t,e)}function oh(t,e){return Ui(4,2,t,e)}function ah(t,e){return Ui(4,4,t,e)}function lh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ch(t,e,r){return r=r!=null?r.concat([t]):null,Ui(4,4,lh.bind(null,e,t),r)}function Nl(){}function uh(t,e){var r=Je();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function dh(t,e){var r=Je();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function hh(t,e,r){return xr&21?(st(r,e)||(r=yd(),ne.lanes|=r,wr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ae=!0),t.memoizedState=r)}function Nm(t,e){var r=K;K=r!==0&&4>r?r:4,t(!0);var n=jo.transition;jo.transition={};try{t(!1),e()}finally{K=r,jo.transition=n}}function fh(){return Je().memoizedState}function Em(t,e,r){var n=Jt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ph(t))mh(e,r);else if(r=Jd(t,e,r,n),r!==null){var s=Ne();nt(r,t,n,s),gh(r,e,n)}}function Cm(t,e,r){var n=Jt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ph(t))mh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,st(l,o)){var c=e.interleaved;c===null?(s.next=s,yl(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Jd(t,e,s,n),r!==null&&(s=Ne(),nt(r,t,n,s),gh(r,e,n))}}function ph(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function mh(t,e){An=gi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nl(t,r)}}var yi={readContext:Ge,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Tm={readContext:Ge,useCallback:function(t,e){return ot().memoizedState=[t,e===void 0?null:e],t},useContext:Ge,useEffect:Mc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ws(4194308,4,lh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ws(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ws(4,2,t,e)},useMemo:function(t,e){var r=ot();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ot();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Em.bind(null,ne,t),[n.memoizedState,t]},useRef:function(t){var e=ot();return t={current:t},e.memoizedState=t},useState:Lc,useDebugValue:Nl,useDeferredValue:function(t){return ot().memoizedState=t},useTransition:function(){var t=Lc(!1),e=t[0];return t=Nm.bind(null,t[1]),ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ne,s=ot();if(ee){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),pe===null)throw Error(T(349));xr&30||eh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Mc(rh.bind(null,n,i,t),[t]),n.flags|=2048,ts(9,th.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ot(),e=pe.identifierPrefix;if(ee){var r=jt,n=bt;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Sm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pm={readContext:Ge,useCallback:uh,useContext:Ge,useEffect:Sl,useImperativeHandle:ch,useInsertionEffect:oh,useLayoutEffect:ah,useMemo:dh,useReducer:ko,useRef:ih,useState:function(){return ko(es)},useDebugValue:Nl,useDeferredValue:function(t){var e=Je();return hh(e,ue.memoizedState,t)},useTransition:function(){var t=ko(es)[0],e=Je().memoizedState;return[t,e]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:fh,unstable_isNewReconciler:!1},$m={readContext:Ge,useCallback:uh,useContext:Ge,useEffect:Sl,useImperativeHandle:ch,useInsertionEffect:oh,useLayoutEffect:ah,useMemo:dh,useReducer:So,useRef:ih,useState:function(){return So(es)},useDebugValue:Nl,useDeferredValue:function(t){var e=Je();return ue===null?e.memoizedState=t:hh(e,ue.memoizedState,t)},useTransition:function(){var t=So(es)[0],e=Je().memoizedState;return[t,e]},useMutableSource:Xd,useSyncExternalStore:Zd,useId:fh,unstable_isNewReconciler:!1};function Xe(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function pa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:se({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zi={isMounted:function(t){return(t=t._reactInternals)?jr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ne(),s=Jt(t),i=kt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Kt(t,i,s),e!==null&&(nt(e,t,s,n),qs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ne(),s=Jt(t),i=kt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Kt(t,i,s),e!==null&&(nt(e,t,s,n),qs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ne(),n=Jt(t),s=kt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Kt(t,s,n),e!==null&&(nt(e,t,n,r),qs(e,t,n))}};function Uc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kn(r,n)||!Kn(s,i):!0}function yh(t,e,r){var n=!1,s=Xt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=Re(e)?yr:je.current,n=e.contextTypes,i=(n=n!=null)?Zr(t,s):Xt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zi.enqueueReplaceState(e,e.state,null)}function ma(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},vl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=Re(e)?yr:je.current,s.context=Zr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pa(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zi.enqueueReplaceState(s,s.state,null),pi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function nn(t,e){try{var r="",n=e;do r+=ip(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function No(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ga(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Am=typeof WeakMap=="function"?WeakMap:Map;function vh(t,e,r){r=kt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xi||(xi=!0,Na=n),ga(t,e)},r}function xh(t,e,r){r=kt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ga(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ga(t,e),typeof n!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Fc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Am;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Vm.bind(null,t,e,r),e.then(t,t))}function Bc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=kt(-1,1),e.tag=2,Kt(r,e,1))),r.lanes|=1),t)}var Om=Pt.ReactCurrentOwner,Ae=!1;function Se(t,e,r,n){e.child=t===null?Gd(e,null,r,n):tn(e,t.child,r,n)}function Hc(t,e,r,n,s){r=r.render;var i=e.ref;return Jr(e,s),n=jl(t,e,r,n,i,s),r=kl(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ct(t,e,s)):(ee&&r&&dl(e),e.flags|=1,Se(t,e,n,s),e.child)}function Wc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Rl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,wh(t,e,i,n,s)):(t=Js(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Kn,r(o,n)&&t.ref===e.ref)return Ct(t,e,s)}return e.flags|=1,t=Qt(i,n),t.ref=e.ref,t.return=e,e.child=t}function wh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Kn(i,n)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ae=!0);else return e.lanes=t.lanes,Ct(t,e,s)}return ya(t,e,r,n,s)}function _h(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Hr,De),De|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(Hr,De),De|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(Hr,De),De|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,J(Hr,De),De|=n;return Se(t,e,s,r),e.child}function bh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ya(t,e,r,n,s){var i=Re(r)?yr:je.current;return i=Zr(e,i),Jr(e,s),r=jl(t,e,r,n,i,s),n=kl(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ct(t,e,s)):(ee&&n&&dl(e),e.flags|=1,Se(t,e,r,s),e.child)}function Vc(t,e,r,n,s){if(Re(r)){var i=!0;ci(e)}else i=!1;if(Jr(e,s),e.stateNode===null)Vs(t,e),yh(e,r,n),ma(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ge(u):(u=Re(r)?yr:je.current,u=Zr(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&zc(e,o,n,u),Dt=!1;var f=e.memoizedState;o.state=f,pi(e,n,o,s),c=e.memoizedState,l!==n||f!==c||Oe.current||Dt?(typeof d=="function"&&(pa(e,r,d,n),c=e.memoizedState),(l=Dt||Uc(e,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Qd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Xe(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ge(c):(c=Re(r)?yr:je.current,c=Zr(e,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&zc(e,o,n,c),Dt=!1,f=e.memoizedState,o.state=f,pi(e,n,o,s);var v=e.memoizedState;l!==h||f!==v||Oe.current||Dt?(typeof y=="function"&&(pa(e,r,y,n),v=e.memoizedState),(u=Dt||Uc(e,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return va(t,e,r,n,i,s)}function va(t,e,r,n,s,i){bh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&$c(e,r,!1),Ct(t,e,i);n=e.stateNode,Om.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=tn(e,t.child,null,i),e.child=tn(e,null,l,i)):Se(t,e,l,i),e.memoizedState=n.state,s&&$c(e,r,!0),e.child}function jh(t){var e=t.stateNode;e.pendingContext?Pc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pc(t,e.context,!1),xl(t,e.containerInfo)}function Kc(t,e,r,n,s){return en(),fl(s),e.flags|=256,Se(t,e,r,n),e.child}var xa={dehydrated:null,treeContext:null,retryLane:0};function wa(t){return{baseLanes:t,cachePool:null,transitions:null}}function kh(t,e,r){var n=e.pendingProps,s=re.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),J(re,s&1),t===null)return ha(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qi(o,n,0,null),t=gr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wa(r),e.memoizedState=xa,t):El(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Rm(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Qt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qt(l,i):(i=gr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?wa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=xa,n}return i=t.child,t=i.sibling,n=Qt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function El(t,e){return e=qi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ts(t,e,r,n){return n!==null&&fl(n),tn(e,t.child,null,r),t=El(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rm(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=No(Error(T(422))),Ts(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=qi({mode:"visible",children:n.children},s,0,null),i=gr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&tn(e,t.child,null,o),e.child.memoizedState=wa(o),e.memoizedState=xa,i);if(!(e.mode&1))return Ts(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=No(i,n,void 0),Ts(t,e,o,n)}if(l=(o&t.childLanes)!==0,Ae||l){if(n=pe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Et(t,s),nt(n,t,s,-1))}return Ol(),n=No(Error(T(421))),Ts(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Km.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Le=Vt(s.nextSibling),Me=e,ee=!0,tt=null,t!==null&&(Be[qe++]=bt,Be[qe++]=jt,Be[qe++]=vr,bt=t.id,jt=t.overflow,vr=e),e=El(e,n.children),e.flags|=4096,e)}function Gc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fa(t.return,e,r)}function Eo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Sh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Se(t,e,n.children,r),n=re.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gc(t,r,e);else if(t.tag===19)Gc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(J(re,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&mi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Eo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Eo(e,!0,r,null,i);break;case"together":Eo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ct(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),wr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=Qt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Im(t,e,r){switch(e.tag){case 3:jh(e),en();break;case 5:Yd(e);break;case 1:Re(e.type)&&ci(e);break;case 4:xl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;J(hi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(J(re,re.current&1),e.flags|=128,null):r&e.child.childLanes?kh(t,e,r):(J(re,re.current&1),t=Ct(t,e,r),t!==null?t.sibling:null);J(re,re.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Sh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(re,re.current),n)break;return null;case 22:case 23:return e.lanes=0,_h(t,e,r)}return Ct(t,e,r)}var Nh,_a,Eh,Ch;Nh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_a=function(){};Eh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,pr(dt.current);var i=null;switch(r){case"input":s=qo(t,s),n=qo(t,n),i=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),i=[];break;case"textarea":s=Vo(t,s),n=Vo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ai)}Go(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Y("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ch=function(t,e,r,n){r!==n&&(e.flags|=4)};function xn(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _e(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Dm(t,e,r){var n=e.pendingProps;switch(hl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(e),null;case 1:return Re(e.type)&&li(),_e(e),null;case 3:return n=e.stateNode,rn(),X(Oe),X(je),_l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Es(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tt!==null&&(Ta(tt),tt=null))),_a(t,e),_e(e),null;case 5:wl(e);var s=pr(Xn.current);if(r=e.type,t!==null&&e.stateNode!=null)Eh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(T(166));return _e(e),null}if(t=pr(dt.current),Es(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[lt]=e,n[Qn]=i,t=(e.mode&1)!==0,r){case"dialog":Y("cancel",n),Y("close",n);break;case"iframe":case"object":case"embed":Y("load",n);break;case"video":case"audio":for(s=0;s<Sn.length;s++)Y(Sn[s],n);break;case"source":Y("error",n);break;case"img":case"image":case"link":Y("error",n),Y("load",n);break;case"details":Y("toggle",n);break;case"input":nc(n,i),Y("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Y("invalid",n);break;case"textarea":ic(n,i),Y("invalid",n)}Go(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ns(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ns(n.textContent,l,t),s=["children",""+l]):zn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Y("scroll",n)}switch(r){case"input":vs(n),sc(n,i,!0);break;case"textarea":vs(n),oc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ai)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[lt]=e,t[Qn]=n,Nh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jo(r,n),r){case"dialog":Y("cancel",t),Y("close",t),s=n;break;case"iframe":case"object":case"embed":Y("load",t),s=n;break;case"video":case"audio":for(s=0;s<Sn.length;s++)Y(Sn[s],t);s=n;break;case"source":Y("error",t),s=n;break;case"img":case"image":case"link":Y("error",t),Y("load",t),s=n;break;case"details":Y("toggle",t),s=n;break;case"input":nc(t,n),s=qo(t,n),Y("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),Y("invalid",t);break;case"textarea":ic(t,n),s=Vo(t,n),Y("invalid",t);break;default:s=n}Go(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?id(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nd(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Fn(t,c):typeof c=="number"&&Fn(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Y("scroll",t):c!=null&&Ya(t,i,c,o))}switch(r){case"input":vs(t),sc(t,n,!1);break;case"textarea":vs(t),oc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Yt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Wr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Wr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ai)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _e(e),null;case 6:if(t&&e.stateNode!=null)Ch(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(T(166));if(r=pr(Xn.current),pr(dt.current),Es(e)){if(n=e.stateNode,r=e.memoizedProps,n[lt]=e,(i=n.nodeValue!==r)&&(t=Me,t!==null))switch(t.tag){case 3:Ns(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ns(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lt]=e,e.stateNode=n}return _e(e),null;case 13:if(X(re),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ee&&Le!==null&&e.mode&1&&!(e.flags&128))Vd(),en(),e.flags|=98560,i=!1;else if(i=Es(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[lt]=e}else en(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_e(e),i=!1}else tt!==null&&(Ta(tt),tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?he===0&&(he=3):Ol())),e.updateQueue!==null&&(e.flags|=4),_e(e),null);case 4:return rn(),_a(t,e),t===null&&Gn(e.stateNode.containerInfo),_e(e),null;case 10:return gl(e.type._context),_e(e),null;case 17:return Re(e.type)&&li(),_e(e),null;case 19:if(X(re),i=e.memoizedState,i===null)return _e(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)xn(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mi(t),o!==null){for(e.flags|=128,xn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return J(re,re.current&1|2),e.child}t=t.sibling}i.tail!==null&&oe()>sn&&(e.flags|=128,n=!0,xn(i,!1),e.lanes=4194304)}else{if(!n)if(t=mi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return _e(e),null}else 2*oe()-i.renderingStartTime>sn&&r!==1073741824&&(e.flags|=128,n=!0,xn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,r=re.current,J(re,n?r&1|2:r&1),e):(_e(e),null);case 22:case 23:return Al(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?De&1073741824&&(_e(e),e.subtreeFlags&6&&(e.flags|=8192)):_e(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Lm(t,e){switch(hl(e),e.tag){case 1:return Re(e.type)&&li(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rn(),X(Oe),X(je),_l(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wl(e),null;case 13:if(X(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));en()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(re),null;case 4:return rn(),null;case 10:return gl(e.type._context),null;case 22:case 23:return Al(),null;case 24:return null;default:return null}}var Ps=!1,be=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,O=null;function qr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ie(t,e,n)}else r.current=null}function ba(t,e,r){try{r()}catch(n){ie(t,e,n)}}var Jc=!1;function Um(t,e){if(ia=si,t=Od(),ul(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(oa={focusedElem:t,selectionRange:r},si=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var j=v.memoizedProps,S=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?j:Xe(e.type,j),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){ie(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return v=Jc,Jc=!1,v}function On(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ba(e,r,i)}s=s.next}while(s!==n)}}function Fi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ja(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Th(t){var e=t.alternate;e!==null&&(t.alternate=null,Th(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lt],delete e[Qn],delete e[ca],delete e[_m],delete e[bm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ph(t){return t.tag===5||t.tag===3||t.tag===4}function Qc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ph(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ka(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ai));else if(n!==4&&(t=t.child,t!==null))for(ka(t,e,r),t=t.sibling;t!==null;)ka(t,e,r),t=t.sibling}function Sa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Sa(t,e,r),t=t.sibling;t!==null;)Sa(t,e,r),t=t.sibling}var ge=null,Ze=!1;function At(t,e,r){for(r=r.child;r!==null;)$h(t,e,r),r=r.sibling}function $h(t,e,r){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Oi,r)}catch{}switch(r.tag){case 5:be||qr(r,e);case 6:var n=ge,s=Ze;ge=null,At(t,e,r),ge=n,Ze=s,ge!==null&&(Ze?(t=ge,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ge.removeChild(r.stateNode));break;case 18:ge!==null&&(Ze?(t=ge,r=r.stateNode,t.nodeType===8?wo(t.parentNode,r):t.nodeType===1&&wo(t,r),Wn(t)):wo(ge,r.stateNode));break;case 4:n=ge,s=Ze,ge=r.stateNode.containerInfo,Ze=!0,At(t,e,r),ge=n,Ze=s;break;case 0:case 11:case 14:case 15:if(!be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ba(r,e,o),s=s.next}while(s!==n)}At(t,e,r);break;case 1:if(!be&&(qr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ie(r,e,l)}At(t,e,r);break;case 21:At(t,e,r);break;case 22:r.mode&1?(be=(n=be)||r.memoizedState!==null,At(t,e,r),be=n):At(t,e,r);break;default:At(t,e,r)}}function Yc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Mm),e.forEach(function(n){var s=Gm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,Ze=!1;break e;case 3:ge=l.stateNode.containerInfo,Ze=!0;break e;case 4:ge=l.stateNode.containerInfo,Ze=!0;break e}l=l.return}if(ge===null)throw Error(T(160));$h(i,o,s),ge=null,Ze=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ie(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ah(e,t),e=e.sibling}function Ah(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qe(e,t),it(t),n&4){try{On(3,t,t.return),Fi(3,t)}catch(j){ie(t,t.return,j)}try{On(5,t,t.return)}catch(j){ie(t,t.return,j)}}break;case 1:Qe(e,t),it(t),n&512&&r!==null&&qr(r,r.return);break;case 5:if(Qe(e,t),it(t),n&512&&r!==null&&qr(r,r.return),t.flags&32){var s=t.stateNode;try{Fn(s,"")}catch(j){ie(t,t.return,j)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ed(s,i),Jo(l,o);var u=Jo(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?id(s,h):d==="dangerouslySetInnerHTML"?nd(s,h):d==="children"?Fn(s,h):Ya(s,d,h,u)}switch(l){case"input":Ho(s,i);break;case"textarea":td(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Wr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qn]=i}catch(j){ie(t,t.return,j)}}break;case 6:if(Qe(e,t),it(t),n&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(j){ie(t,t.return,j)}}break;case 3:if(Qe(e,t),it(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wn(e.containerInfo)}catch(j){ie(t,t.return,j)}break;case 4:Qe(e,t),it(t);break;case 13:Qe(e,t),it(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pl=oe())),n&4&&Yc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(be=(u=be)||d,Qe(e,t),be=u):Qe(e,t),it(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,y=f.child,f.tag){case 0:case 11:case 14:case 15:On(4,f,f.return);break;case 1:qr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(j){ie(n,r,j)}}break;case 5:qr(f,f.return);break;case 22:if(f.memoizedState!==null){Zc(h);continue}}y!==null?(y.return=f,O=y):Zc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sd("display",o))}catch(j){ie(t,t.return,j)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(j){ie(t,t.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qe(e,t),it(t),n&4&&Yc(t);break;case 21:break;default:Qe(e,t),it(t)}}function it(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ph(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Fn(s,""),n.flags&=-33);var i=Qc(t);Sa(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Qc(t);ka(t,l,o);break;default:throw Error(T(161))}}catch(c){ie(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zm(t,e,r){O=t,Oh(t)}function Oh(t,e,r){for(var n=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ps;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||be;l=Ps;var u=be;if(Ps=o,(be=c)&&!u)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?eu(s):c!==null?(c.return=o,O=c):eu(s);for(;i!==null;)O=i,Oh(i),i=i.sibling;O=s,Ps=l,be=u}Xc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Xc(t)}}function Xc(t){for(;O!==null;){var e=O;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||Fi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!be)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Xe(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Dc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Dc(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Wn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}be||e.flags&512&&ja(e)}catch(f){ie(e,e.return,f)}}if(e===t){O=null;break}if(r=e.sibling,r!==null){r.return=e.return,O=r;break}O=e.return}}function Zc(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var r=e.sibling;if(r!==null){r.return=e.return,O=r;break}O=e.return}}function eu(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fi(4,e)}catch(c){ie(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){ie(e,s,c)}}var i=e.return;try{ja(e)}catch(c){ie(e,i,c)}break;case 5:var o=e.return;try{ja(e)}catch(c){ie(e,o,c)}}}catch(c){ie(e,e.return,c)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var Fm=Math.ceil,vi=Pt.ReactCurrentDispatcher,Cl=Pt.ReactCurrentOwner,Ve=Pt.ReactCurrentBatchConfig,V=0,pe=null,ae=null,ye=0,De=0,Hr=er(0),he=0,rs=null,wr=0,Bi=0,Tl=0,Rn=null,Pe=null,Pl=0,sn=1/0,xt=null,xi=!1,Na=null,Gt=null,$s=!1,Bt=null,wi=0,In=0,Ea=null,Ks=-1,Gs=0;function Ne(){return V&6?oe():Ks!==-1?Ks:Ks=oe()}function Jt(t){return t.mode&1?V&2&&ye!==0?ye&-ye:km.transition!==null?(Gs===0&&(Gs=yd()),Gs):(t=K,t!==0||(t=window.event,t=t===void 0?16:kd(t.type)),t):1}function nt(t,e,r,n){if(50<In)throw In=0,Ea=null,Error(T(185));as(t,r,n),(!(V&2)||t!==pe)&&(t===pe&&(!(V&2)&&(Bi|=r),he===4&&Mt(t,ye)),Ie(t,n),r===1&&V===0&&!(e.mode&1)&&(sn=oe()+500,Mi&&tr()))}function Ie(t,e){var r=t.callbackNode;kp(t,e);var n=ni(t,t===pe?ye:0);if(n===0)r!==null&&cc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&cc(r),e===1)t.tag===0?jm(tu.bind(null,t)):qd(tu.bind(null,t)),xm(function(){!(V&6)&&tr()}),r=null;else{switch(vd(n)){case 1:r=rl;break;case 4:r=md;break;case 16:r=ri;break;case 536870912:r=gd;break;default:r=ri}r=Fh(r,Rh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Rh(t,e){if(Ks=-1,Gs=0,V&6)throw Error(T(327));var r=t.callbackNode;if(Qr()&&t.callbackNode!==r)return null;var n=ni(t,t===pe?ye:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=_i(t,n);else{e=n;var s=V;V|=2;var i=Dh();(pe!==t||ye!==e)&&(xt=null,sn=oe()+500,mr(t,e));do try{Hm();break}catch(l){Ih(t,l)}while(!0);ml(),vi.current=i,V=s,ae!==null?e=0:(pe=null,ye=0,e=he)}if(e!==0){if(e===2&&(s=ea(t),s!==0&&(n=s,e=Ca(t,s))),e===1)throw r=rs,mr(t,0),Mt(t,n),Ie(t,oe()),r;if(e===6)Mt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Bm(s)&&(e=_i(t,n),e===2&&(i=ea(t),i!==0&&(n=i,e=Ca(t,i))),e===1))throw r=rs,mr(t,0),Mt(t,n),Ie(t,oe()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(T(345));case 2:cr(t,Pe,xt);break;case 3:if(Mt(t,n),(n&130023424)===n&&(e=Pl+500-oe(),10<e)){if(ni(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ne(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=la(cr.bind(null,t,Pe,xt),e);break}cr(t,Pe,xt);break;case 4:if(Mt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-rt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fm(n/1960))-n,10<n){t.timeoutHandle=la(cr.bind(null,t,Pe,xt),n);break}cr(t,Pe,xt);break;case 5:cr(t,Pe,xt);break;default:throw Error(T(329))}}}return Ie(t,oe()),t.callbackNode===r?Rh.bind(null,t):null}function Ca(t,e){var r=Rn;return t.current.memoizedState.isDehydrated&&(mr(t,e).flags|=256),t=_i(t,e),t!==2&&(e=Pe,Pe=r,e!==null&&Ta(e)),t}function Ta(t){Pe===null?Pe=t:Pe.push.apply(Pe,t)}function Bm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mt(t,e){for(e&=~Tl,e&=~Bi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-rt(e),n=1<<r;t[r]=-1,e&=~n}}function tu(t){if(V&6)throw Error(T(327));Qr();var e=ni(t,0);if(!(e&1))return Ie(t,oe()),null;var r=_i(t,e);if(t.tag!==0&&r===2){var n=ea(t);n!==0&&(e=n,r=Ca(t,n))}if(r===1)throw r=rs,mr(t,0),Mt(t,e),Ie(t,oe()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cr(t,Pe,xt),Ie(t,oe()),null}function $l(t,e){var r=V;V|=1;try{return t(e)}finally{V=r,V===0&&(sn=oe()+500,Mi&&tr())}}function _r(t){Bt!==null&&Bt.tag===0&&!(V&6)&&Qr();var e=V;V|=1;var r=Ve.transition,n=K;try{if(Ve.transition=null,K=1,t)return t()}finally{K=n,Ve.transition=r,V=e,!(V&6)&&tr()}}function Al(){De=Hr.current,X(Hr)}function mr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,vm(r)),ae!==null)for(r=ae.return;r!==null;){var n=r;switch(hl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&li();break;case 3:rn(),X(Oe),X(je),_l();break;case 5:wl(n);break;case 4:rn();break;case 13:X(re);break;case 19:X(re);break;case 10:gl(n.type._context);break;case 22:case 23:Al()}r=r.return}if(pe=t,ae=t=Qt(t.current,null),ye=De=e,he=0,rs=null,Tl=Bi=wr=0,Pe=Rn=null,fr!==null){for(e=0;e<fr.length;e++)if(r=fr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}fr=null}return t}function Ih(t,e){do{var r=ae;try{if(ml(),Hs.current=yi,gi){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gi=!1}if(xr=0,fe=ue=ne=null,An=!1,Zn=0,Cl.current=null,r===null||r.return===null){he=1,rs=e,ae=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Bc(o);if(y!==null){y.flags&=-257,qc(y,o,l,i,e),y.mode&1&&Fc(i,u,e),e=y,c=u;var v=e.updateQueue;if(v===null){var j=new Set;j.add(c),e.updateQueue=j}else v.add(c);break e}else{if(!(e&1)){Fc(i,u,e),Ol();break e}c=Error(T(426))}}else if(ee&&l.mode&1){var S=Bc(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),qc(S,o,l,i,e),fl(nn(c,l));break e}}i=c=nn(c,l),he!==4&&(he=2),Rn===null?Rn=[i]:Rn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=vh(i,c,e);Ic(i,g);break e;case 1:l=c;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Gt===null||!Gt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=xh(i,l,e);Ic(i,_);break e}}i=i.return}while(i!==null)}Mh(r)}catch(P){e=P,ae===r&&r!==null&&(ae=r=r.return);continue}break}while(!0)}function Dh(){var t=vi.current;return vi.current=yi,t===null?yi:t}function Ol(){(he===0||he===3||he===2)&&(he=4),pe===null||!(wr&268435455)&&!(Bi&268435455)||Mt(pe,ye)}function _i(t,e){var r=V;V|=2;var n=Dh();(pe!==t||ye!==e)&&(xt=null,mr(t,e));do try{qm();break}catch(s){Ih(t,s)}while(!0);if(ml(),V=r,vi.current=n,ae!==null)throw Error(T(261));return pe=null,ye=0,he}function qm(){for(;ae!==null;)Lh(ae)}function Hm(){for(;ae!==null&&!mp();)Lh(ae)}function Lh(t){var e=zh(t.alternate,t,De);t.memoizedProps=t.pendingProps,e===null?Mh(t):ae=e,Cl.current=null}function Mh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Lm(r,e),r!==null){r.flags&=32767,ae=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ae=null;return}}else if(r=Dm(r,e,De),r!==null){ae=r;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);he===0&&(he=5)}function cr(t,e,r){var n=K,s=Ve.transition;try{Ve.transition=null,K=1,Wm(t,e,r,n)}finally{Ve.transition=s,K=n}return null}function Wm(t,e,r,n){do Qr();while(Bt!==null);if(V&6)throw Error(T(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Sp(t,i),t===pe&&(ae=pe=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$s||($s=!0,Fh(ri,function(){return Qr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ve.transition,Ve.transition=null;var o=K;K=1;var l=V;V|=4,Cl.current=null,Um(t,r),Ah(r,t),dm(oa),si=!!ia,oa=ia=null,t.current=r,zm(r),gp(),V=l,K=o,Ve.transition=i}else t.current=r;if($s&&($s=!1,Bt=t,wi=s),i=t.pendingLanes,i===0&&(Gt=null),xp(r.stateNode),Ie(t,oe()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(xi)throw xi=!1,t=Na,Na=null,t;return wi&1&&t.tag!==0&&Qr(),i=t.pendingLanes,i&1?t===Ea?In++:(In=0,Ea=t):In=0,tr(),null}function Qr(){if(Bt!==null){var t=vd(wi),e=Ve.transition,r=K;try{if(Ve.transition=null,K=16>t?16:t,Bt===null)var n=!1;else{if(t=Bt,Bt=null,wi=0,V&6)throw Error(T(331));var s=V;for(V|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:On(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,y=d.return;if(Th(d),d===u){O=null;break}if(f!==null){f.return=y,O=f;break}O=y}}}var v=i.alternate;if(v!==null){var j=v.child;if(j!==null){v.child=null;do{var S=j.sibling;j.sibling=null,j=S}while(j!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:On(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var m=t.current;for(O=m;O!==null;){o=O;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,O=p;else e:for(o=m;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fi(9,l)}}catch(P){ie(l,l.return,P)}if(l===o){O=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,O=_;break e}O=l.return}}if(V=s,tr(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Oi,t)}catch{}n=!0}return n}finally{K=r,Ve.transition=e}}return!1}function ru(t,e,r){e=nn(r,e),e=vh(t,e,1),t=Kt(t,e,1),e=Ne(),t!==null&&(as(t,1,e),Ie(t,e))}function ie(t,e,r){if(t.tag===3)ru(t,t,r);else for(;e!==null;){if(e.tag===3){ru(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gt===null||!Gt.has(n))){t=nn(r,t),t=xh(e,t,1),e=Kt(e,t,1),t=Ne(),e!==null&&(as(e,1,t),Ie(e,t));break}}e=e.return}}function Vm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&r,pe===t&&(ye&r)===r&&(he===4||he===3&&(ye&130023424)===ye&&500>oe()-Pl?mr(t,0):Tl|=r),Ie(t,e)}function Uh(t,e){e===0&&(t.mode&1?(e=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):e=1);var r=Ne();t=Et(t,e),t!==null&&(as(t,e,r),Ie(t,r))}function Km(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Uh(t,r)}function Gm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(e),Uh(t,r)}var zh;zh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)Ae=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ae=!1,Im(t,e,r);Ae=!!(t.flags&131072)}else Ae=!1,ee&&e.flags&1048576&&Hd(e,di,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Vs(t,e),t=e.pendingProps;var s=Zr(e,je.current);Jr(e,r),s=jl(null,e,n,t,s,r);var i=kl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(n)?(i=!0,ci(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vl(e),s.updater=zi,e.stateNode=s,s._reactInternals=e,ma(e,n,t,r),e=va(null,e,n,!0,i,r)):(e.tag=0,ee&&i&&dl(e),Se(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Vs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Qm(n),t=Xe(n,t),s){case 0:e=ya(null,e,n,t,r);break e;case 1:e=Vc(null,e,n,t,r);break e;case 11:e=Hc(null,e,n,t,r);break e;case 14:e=Wc(null,e,n,Xe(n.type,t),r);break e}throw Error(T(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),ya(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),Vc(t,e,n,s,r);case 3:e:{if(jh(e),t===null)throw Error(T(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Qd(t,e),pi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=nn(Error(T(423)),e),e=Kc(t,e,n,r,s);break e}else if(n!==s){s=nn(Error(T(424)),e),e=Kc(t,e,n,r,s);break e}else for(Le=Vt(e.stateNode.containerInfo.firstChild),Me=e,ee=!0,tt=null,r=Gd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(en(),n===s){e=Ct(t,e,r);break e}Se(t,e,n,r)}e=e.child}return e;case 5:return Yd(e),t===null&&ha(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,aa(n,s)?o=null:i!==null&&aa(n,i)&&(e.flags|=32),bh(t,e),Se(t,e,o,r),e.child;case 6:return t===null&&ha(e),null;case 13:return kh(t,e,r);case 4:return xl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=tn(e,null,n,r):Se(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),Hc(t,e,n,s,r);case 7:return Se(t,e,e.pendingProps,r),e.child;case 8:return Se(t,e,e.pendingProps.children,r),e.child;case 12:return Se(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,J(hi,n._currentValue),n._currentValue=o,i!==null)if(st(i.value,o)){if(i.children===s.children&&!Oe.current){e=Ct(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=kt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),fa(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),fa(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Se(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Jr(e,r),s=Ge(s),n=n(s),e.flags|=1,Se(t,e,n,r),e.child;case 14:return n=e.type,s=Xe(n,e.pendingProps),s=Xe(n.type,s),Wc(t,e,n,s,r);case 15:return wh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Xe(n,s),Vs(t,e),e.tag=1,Re(n)?(t=!0,ci(e)):t=!1,Jr(e,r),yh(e,n,s),ma(e,n,s,r),va(null,e,n,!0,t,r);case 19:return Sh(t,e,r);case 22:return _h(t,e,r)}throw Error(T(156,e.tag))};function Fh(t,e){return pd(t,e)}function Jm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(t,e,r,n){return new Jm(t,e,r,n)}function Rl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qm(t){if(typeof t=="function")return Rl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Za)return 11;if(t===el)return 14}return 2}function Qt(t,e){var r=t.alternate;return r===null?(r=We(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Js(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Rl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rr:return gr(r.children,s,i,e);case Xa:o=8,s|=8;break;case Uo:return t=We(12,r,e,s|2),t.elementType=Uo,t.lanes=i,t;case zo:return t=We(13,r,e,s),t.elementType=zo,t.lanes=i,t;case Fo:return t=We(19,r,e,s),t.elementType=Fo,t.lanes=i,t;case Yu:return qi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ju:o=10;break e;case Qu:o=9;break e;case Za:o=11;break e;case el:o=14;break e;case It:o=16,n=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=We(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function gr(t,e,r,n){return t=We(7,t,n,e),t.lanes=r,t}function qi(t,e,r,n){return t=We(22,t,n,e),t.elementType=Yu,t.lanes=r,t.stateNode={isHidden:!1},t}function Co(t,e,r){return t=We(6,t,null,e),t.lanes=r,t}function To(t,e,r){return e=We(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ym(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Il(t,e,r,n,s,i,o,l,c){return t=new Ym(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=We(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vl(i),t}function Xm(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Bh(t){if(!t)return Xt;t=t._reactInternals;e:{if(jr(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(Re(r))return Bd(t,r,e)}return e}function qh(t,e,r,n,s,i,o,l,c){return t=Il(r,n,!0,t,s,i,o,l,c),t.context=Bh(null),r=t.current,n=Ne(),s=Jt(r),i=kt(n,s),i.callback=e??null,Kt(r,i,s),t.current.lanes=s,as(t,s,n),Ie(t,n),t}function Hi(t,e,r,n){var s=e.current,i=Ne(),o=Jt(s);return r=Bh(r),e.context===null?e.context=r:e.pendingContext=r,e=kt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Kt(s,e,o),t!==null&&(nt(t,s,o,i),qs(t,s,o)),o}function bi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Dl(t,e){nu(t,e),(t=t.alternate)&&nu(t,e)}function Zm(){return null}var Hh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ll(t){this._internalRoot=t}Wi.prototype.render=Ll.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Hi(t,e,null,null)};Wi.prototype.unmount=Ll.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_r(function(){Hi(null,t,null,null)}),e[Nt]=null}};function Wi(t){this._internalRoot=t}Wi.prototype.unstable_scheduleHydration=function(t){if(t){var e=_d();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Lt.length&&e!==0&&e<Lt[r].priority;r++);Lt.splice(r,0,t),r===0&&jd(t)}};function Ml(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function su(){}function e0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=bi(o);i.call(u)}}var o=qh(e,n,t,0,null,!1,!1,"",su);return t._reactRootContainer=o,t[Nt]=o.current,Gn(t.nodeType===8?t.parentNode:t),_r(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=bi(c);l.call(u)}}var c=Il(t,0,!1,null,null,!1,!1,"",su);return t._reactRootContainer=c,t[Nt]=c.current,Gn(t.nodeType===8?t.parentNode:t),_r(function(){Hi(e,c,r,n)}),c}function Ki(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=bi(o);l.call(c)}}Hi(e,o,t,s)}else o=e0(r,e,t,s,n);return bi(o)}xd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=kn(e.pendingLanes);r!==0&&(nl(e,r|1),Ie(e,oe()),!(V&6)&&(sn=oe()+500,tr()))}break;case 13:_r(function(){var n=Et(t,1);if(n!==null){var s=Ne();nt(n,t,1,s)}}),Dl(t,1)}};sl=function(t){if(t.tag===13){var e=Et(t,134217728);if(e!==null){var r=Ne();nt(e,t,134217728,r)}Dl(t,134217728)}};wd=function(t){if(t.tag===13){var e=Jt(t),r=Et(t,e);if(r!==null){var n=Ne();nt(r,t,e,n)}Dl(t,e)}};_d=function(){return K};bd=function(t,e){var r=K;try{return K=t,e()}finally{K=r}};Yo=function(t,e,r){switch(e){case"input":if(Ho(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Li(n);if(!s)throw Error(T(90));Zu(n),Ho(n,s)}}}break;case"textarea":td(t,r);break;case"select":e=r.value,e!=null&&Wr(t,!!r.multiple,e,!1)}};ld=$l;cd=_r;var t0={usingClientEntryPoint:!1,Events:[cs,Mr,Li,od,ad,$l]},wn={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r0={bundleType:wn.bundleType,version:wn.version,rendererPackageName:wn.rendererPackageName,rendererConfig:wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hd(t),t===null?null:t.stateNode},findFiberByHostInstance:wn.findFiberByHostInstance||Zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var As=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!As.isDisabled&&As.supportsFiber)try{Oi=As.inject(r0),ut=As}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0;ze.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ml(e))throw Error(T(200));return Xm(t,e,null,r)};ze.createRoot=function(t,e){if(!Ml(t))throw Error(T(299));var r=!1,n="",s=Hh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Il(t,1,!1,null,null,r,!1,n,s),t[Nt]=e.current,Gn(t.nodeType===8?t.parentNode:t),new Ll(e)};ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=hd(e),t=t===null?null:t.stateNode,t};ze.flushSync=function(t){return _r(t)};ze.hydrate=function(t,e,r){if(!Vi(e))throw Error(T(200));return Ki(null,t,e,!0,r)};ze.hydrateRoot=function(t,e,r){if(!Ml(t))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Hh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=qh(e,null,t,1,r??null,s,!1,i,o),t[Nt]=e.current,Gn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Wi(e)};ze.render=function(t,e,r){if(!Vi(e))throw Error(T(200));return Ki(null,t,e,!1,r)};ze.unmountComponentAtNode=function(t){if(!Vi(t))throw Error(T(40));return t._reactRootContainer?(_r(function(){Ki(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};ze.unstable_batchedUpdates=$l;ze.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Vi(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Ki(t,e,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function Wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wh)}catch(t){console.error(t)}}Wh(),Wu.exports=ze;var n0=Wu.exports,Vh,iu=n0;Vh=iu.createRoot,iu.hydrateRoot;let s0={data:""},i0=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||s0,o0=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a0=/\/\*[^]*?\*\/|  +/g,ou=/\n+/g,Ut=(t,e)=>{let r="",n="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Ut(o,i):i+"{"+Ut(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=Ut(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ut.p?Ut.p(i,o):i+":"+o+";")}return r+(e&&s?e+"{"+s+"}":s)+n},gt={},Kh=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Kh(t[r]);return e}return t},l0=(t,e,r,n,s)=>{let i=Kh(t),o=gt[i]||(gt[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!gt[o]){let c=i!==t?t:(u=>{let d,h,f=[{}];for(;d=o0.exec(u.replace(a0,""));)d[4]?f.shift():d[3]?(h=d[3].replace(ou," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(ou," ").trim();return f[0]})(t);gt[o]=Ut(s?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&gt.g?gt.g:null;return r&&(gt.g=gt[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(gt[o],e,n,l),o},c0=(t,e,r)=>t.reduce((n,s,i)=>{let o=e[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Ut(l,""):l===!1?"":l}return n+s+(o??"")},"");function Gi(t){let e=this||{},r=t.call?t(e.p):t;return l0(r.unshift?r.raw?c0(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,i0(e.target),e.g,e.o,e.k)}let Gh,Pa,$a;Gi.bind({g:1});let Tt=Gi.bind({k:1});function u0(t,e,r,n){Ut.p=e,Gh=t,Pa=r,$a=n}function rr(t,e){let r=this||{};return function(){let n=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:Pa&&Pa()},l),r.o=/ *go\d+/.test(c),l.className=Gi.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),$a&&u[0]&&$a(l),Gh(u,l)}return s}}var d0=t=>typeof t=="function",ji=(t,e)=>d0(t)?t(e):t,h0=(()=>{let t=0;return()=>(++t).toString()})(),Jh=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),f0=20,Ul="default",Qh=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return Qh(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Qs=[],Yh={toasts:[],pausedAt:void 0,settings:{toastLimit:f0}},ct={},Xh=(t,e=Ul)=>{ct[e]=Qh(ct[e]||Yh,t),Qs.forEach(([r,n])=>{r===e&&n(ct[e])})},Zh=t=>Object.keys(ct).forEach(e=>Xh(t,e)),p0=t=>Object.keys(ct).find(e=>ct[e].toasts.some(r=>r.id===t)),Ji=(t=Ul)=>e=>{Xh(e,t)},m0={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},g0=(t={},e=Ul)=>{let[r,n]=C.useState(ct[e]||Yh),s=C.useRef(ct[e]);C.useEffect(()=>(s.current!==ct[e]&&n(ct[e]),Qs.push([e,n]),()=>{let o=Qs.findIndex(([l])=>l===e);o>-1&&Qs.splice(o,1)}),[e]);let i=r.toasts.map(o=>{var l,c,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||m0[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:i}},y0=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||h0()}),ds=t=>(e,r)=>{let n=y0(e,t,r);return Ji(n.toasterId||p0(n.id))({type:2,toast:n}),n.id},de=(t,e)=>ds("blank")(t,e);de.error=ds("error");de.success=ds("success");de.loading=ds("loading");de.custom=ds("custom");de.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Ji(e)(r):Zh(r)};de.dismissAll=t=>de.dismiss(void 0,t);de.remove=(t,e)=>{let r={type:4,toastId:t};e?Ji(e)(r):Zh(r)};de.removeAll=t=>de.remove(void 0,t);de.promise=(t,e,r)=>{let n=de.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?ji(e.success,s):void 0;return i?de.success(i,{id:n,...r,...r==null?void 0:r.success}):de.dismiss(n),s}).catch(s=>{let i=e.error?ji(e.error,s):void 0;i?de.error(i,{id:n,...r,...r==null?void 0:r.error}):de.dismiss(n)}),t};var v0=1e3,x0=(t,e="default")=>{let{toasts:r,pausedAt:n}=g0(t,e),s=C.useRef(new Map).current,i=C.useCallback((h,f=v0)=>{if(s.has(h))return;let y=setTimeout(()=>{s.delete(h),o({type:4,toastId:h})},f);s.set(h,y)},[]);C.useEffect(()=>{if(n)return;let h=Date.now(),f=r.map(y=>{if(y.duration===1/0)return;let v=(y.duration||0)+y.pauseDuration-(h-y.createdAt);if(v<0){y.visible&&de.dismiss(y.id);return}return setTimeout(()=>de.dismiss(y.id,e),v)});return()=>{f.forEach(y=>y&&clearTimeout(y))}},[r,n,e]);let o=C.useCallback(Ji(e),[e]),l=C.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=C.useCallback((h,f)=>{o({type:1,toast:{id:h,height:f}})},[o]),u=C.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=C.useCallback((h,f)=>{let{reverseOrder:y=!1,gutter:v=8,defaultPosition:j}=f||{},S=r.filter(p=>(p.position||j)===(h.position||j)&&p.height),g=S.findIndex(p=>p.id===h.id),m=S.filter((p,_)=>_<g&&p.visible).length;return S.filter(p=>p.visible).slice(...y?[m+1]:[0,m]).reduce((p,_)=>p+(_.height||0)+v,0)},[r]);return C.useEffect(()=>{r.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=s.get(h.id);f&&(clearTimeout(f),s.delete(h.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},w0=Tt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_0=Tt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,b0=Tt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,j0=rr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_0} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${b0} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k0=Tt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S0=rr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${k0} 1s linear infinite;
`,N0=Tt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,E0=Tt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,C0=rr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${E0} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,T0=rr("div")`
  position: absolute;
`,P0=rr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$0=Tt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A0=rr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$0} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,O0=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?C.createElement(A0,null,e):e:r==="blank"?null:C.createElement(P0,null,C.createElement(S0,{...n}),r!=="loading"&&C.createElement(T0,null,r==="error"?C.createElement(j0,{...n}):C.createElement(C0,{...n})))},R0=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,I0=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,D0="0%{opacity:0;} 100%{opacity:1;}",L0="0%{opacity:1;} 100%{opacity:0;}",M0=rr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,U0=rr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,z0=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=Jh()?[D0,L0]:[R0(r),I0(r)];return{animation:e?`${Tt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Tt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F0=C.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?z0(t.position||e||"top-center",t.visible):{opacity:0},i=C.createElement(O0,{toast:t}),o=C.createElement(U0,{...t.ariaProps},ji(t.message,t));return C.createElement(M0,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):C.createElement(C.Fragment,null,i,o))});u0(C.createElement);var B0=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=C.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return C.createElement("div",{ref:i,className:e,style:r},s)},q0=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Jh()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},H0=Gi`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Os=16,W0=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=x0(r,i);return C.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Os,left:Os,right:Os,bottom:Os,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||e,f=u.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),y=q0(h,f);return C.createElement(B0,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?H0:"",style:y},d.type==="custom"?ji(d.message,d):s?s(d):C.createElement(F0,{toast:d,position:h}))}))},I=de;const V0="modulepreload",K0=function(t){return"/"+t},au={},hs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=K0(c),c in au)return;au[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":V0,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},G0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class zl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class J0 extends zl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class lu extends zl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cu extends zl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Aa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Aa||(Aa={}));var Q0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Y0{constructor(e,{headers:r={},customFetch:n,region:s=Aa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=G0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Q0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(j=>{throw new J0(j)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new lu(h);if(!h.ok)throw new cu(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield h.json():y==="application/octet-stream"?v=yield h.blob():y==="text/event-stream"?v=h:y==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof cu||s instanceof lu?s.context:void 0}}})}}var $e={},Fl={},Qi={},fs={},Yi={},Xi={},X0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},on=X0();const Z0=on.fetch,ef=on.fetch.bind(on),tf=on.Headers,eg=on.Request,tg=on.Response,un=Object.freeze(Object.defineProperty({__proto__:null,Headers:tf,Request:eg,Response:tg,default:ef,fetch:Z0},Symbol.toStringTag,{value:"Module"})),rg=$f(un);var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});let ng=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Zi.default=ng;var rf=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});const sg=rf(rg),ig=rf(Zi);let og=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=sg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const j=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");j&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const j=await i.text();try{u=JSON.parse(j),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,y="OK")}catch{i.status===404&&j===""?(f=204,y="No Content"):u={message:j}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new ig.default(u)}return{error:u,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Xi.default=og;var ag=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});const lg=ag(Xi);let cg=class extends lg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yi.default=cg;var ug=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});const dg=ug(Yi);let hg=class extends dg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};fs.default=hg;var fg=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});const _n=fg(fs);let pg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new _n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new _n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _n.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new _n.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new _n.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Qi.default=pg;var eo={},to={};Object.defineProperty(to,"__esModule",{value:!0});to.version=void 0;to.version="0.0.0-automated";Object.defineProperty(eo,"__esModule",{value:!0});eo.DEFAULT_HEADERS=void 0;const mg=to;eo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mg.version}`};var nf=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fl,"__esModule",{value:!0});const gg=nf(Qi),yg=nf(fs),vg=eo;let xg=class sf{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},vg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new gg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new yg.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Fl.default=xg;var dn=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const of=dn(Fl);$e.PostgrestClient=of.default;const af=dn(Qi);$e.PostgrestQueryBuilder=af.default;const lf=dn(fs);$e.PostgrestFilterBuilder=lf.default;const cf=dn(Yi);$e.PostgrestTransformBuilder=cf.default;const uf=dn(Xi);$e.PostgrestBuilder=uf.default;const df=dn(Zi);$e.PostgrestError=df.default;var wg=$e.default={PostgrestClient:of.default,PostgrestQueryBuilder:af.default,PostgrestFilterBuilder:lf.default,PostgrestTransformBuilder:cf.default,PostgrestBuilder:uf.default,PostgrestError:df.default};const{PostgrestClient:_g,PostgrestQueryBuilder:Bx,PostgrestFilterBuilder:qx,PostgrestTransformBuilder:Hx,PostgrestBuilder:Wx,PostgrestError:Vx}=wg;class bg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jg="2.15.1",kg=`realtime-js/${jg}`,Sg="1.0.0",Oa=1e4,Ng=1e3,Eg=100;var Dn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dn||(Dn={}));var le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(le||(le={}));var et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(et||(et={}));var Ra;(function(t){t.websocket="websocket"})(Ra||(Ra={}));var dr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dr||(dr={}));class Cg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class hf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const uu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Tg(o,t,e,s),i),{})},Tg=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?ff(i,o):Ia(o)},ff=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Og(e,r)}switch(t){case G.bool:return Pg(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return $g(e);case G.json:case G.jsonb:return Ag(e);case G.timestamp:return Rg(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Ia(e);default:return Ia(e)}},Ia=t=>t,Pg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$g=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ag=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Og=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ff(e,l))}return t},Rg=t=>typeof t=="string"?t.replace(" ","T"):t,pf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Po{constructor(e,r,n={},s=Oa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var du;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(du||(du={}));class Ln{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ln.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ln.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ln.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(S=>S.presence_ref),y=h.map(S=>S.presence_ref),v=d.filter(S=>y.indexOf(S.presence_ref)<0),j=h.filter(S=>f.indexOf(S.presence_ref)<0);v.length>0&&(l[u]=v),j.length>0&&(c[u]=j)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hu||(hu={}));var Mn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Mn||(Mn={}));var wt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class Bl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Po(this,et.join,this.params,this.timeout),this.rejoinTimer=new hf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ln(this),this.broadcastEndpointURL=pf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Mn.PRESENCE]&&this.bindings[Mn.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(wt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){e==null||e(wt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,j=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,S=[];for(let g=0;g<j;g++){const m=v[g],{filter:{event:p,schema:_,table:P,filter:E}}=m,w=f&&f[g];if(w&&w.event===p&&w.schema===_&&w.table===P&&w.filter===E)S.push(Object.assign(Object.assign({},m),{id:w.id}));else{this.unsubscribe(),this.state=le.errored,e==null||e(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(wt.SUBSCRIBED);return}}).receive("error",f=>{this.state=le.errored,e==null||e(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===le.joined&&e===Mn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Po(this,et.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Po(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Eg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=et;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,j,S;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(j=y.filter)===null||j===void 0?void 0:j.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,j,S,g,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,P=(v=y.filter)===null||v===void 0?void 0:v.event;return _&&((j=r.ids)===null||j===void 0?void 0:j.includes(_))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(m=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:j,table:S,commit_timestamp:g,type:m,errors:p}=v;f=Object.assign(Object.assign({},{schema:j,table:S,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Bl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(et.close,{},e)}_onError(e){this._on(et.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=uu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=uu(e.columns,e.old_record)),r}}const fu=()=>{},Rs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ig=[1e3,2e3,5e3,1e4],Dg=1e4,Lg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mg{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oa,this.transport=null,this.heartbeatIntervalMs=Rs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fu,this.ref=0,this.reconnectTimer=null,this.logger=fu,this.conn=null,this.sendBuffer=[],this.serializer=new Cg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>hs(async()=>{const{default:l}=await Promise.resolve().then(()=>un);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ra.websocket}`,this.httpEndpoint=pf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sg}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return dr.Connecting;case Dn.open:return dr.Open;case Dn.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Bl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ng,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(et.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Lg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:kg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(et.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new hf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Oa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Rs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>Ig[d-1]||Dg,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ql extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ug extends ql{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Da extends ql{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var zg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const mf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Fg=()=>zg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>un),void 0)).Response:Response}),La=t=>{if(Array.isArray(t))return t.map(r=>La(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=La(n)}),e},Bg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var kr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const $o=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qg=(t,e,r)=>kr(void 0,void 0,void 0,function*(){const n=yield Fg();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Ug($o(s),i,o))}).catch(s=>{e(new Da($o(s),s))}):e(new Da($o(t),t))}),Hg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Bg(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ps(t,e,r,n,s,i){return kr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Hg(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>qg(c,l,n))})})}function ki(t,e,r,n){return kr(this,void 0,void 0,function*(){return ps(t,"GET",e,r,n)})}function at(t,e,r,n,s){return kr(this,void 0,void 0,function*(){return ps(t,"POST",e,n,s,r)})}function Ma(t,e,r,n,s){return kr(this,void 0,void 0,function*(){return ps(t,"PUT",e,n,s,r)})}function Wg(t,e,r,n){return kr(this,void 0,void 0,function*(){return ps(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gf(t,e,r,n,s){return kr(this,void 0,void 0,function*(){return ps(t,"DELETE",e,n,s,r)})}var ke=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Vg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=mf(s)}uploadOrUpdate(e,r,n,s){return ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},pu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?Ma:at)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:pu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Ma(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield at(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ql("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}update(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield at(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield at(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=yield at(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}download(e,r){return ke(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ki(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}})}info(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ki(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:La(n),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}exists(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Wg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ce(n)&&n instanceof Da){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}list(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vg),r),{prefix:e||""});return{data:yield at(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}listV2(e,r){return ke(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield at(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Gg="2.11.0",Jg={"X-Client-Info":`storage-js/${Gg}`};var Nr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Qg{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Jg),r),this.fetch=mf(n)}listBuckets(){return Nr(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ce(e))return{data:null,error:e};throw e}})}getBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Nr(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Nr(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}}class Yg extends Qg{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Kg(this.url,this.headers,e,this.fetch)}}const Xg="2.55.0";let Nn="";typeof Deno<"u"?Nn="deno":typeof document<"u"?Nn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nn="react-native":Nn="node";const Zg={"X-Client-Info":`supabase-js-${Nn}/${Xg}`},ey={headers:Zg},ty={schema:"public"},ry={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ny={};var sy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const iy=t=>{let e;return t?e=t:typeof fetch>"u"?e=ef:e=fetch,(...r)=>e(...r)},oy=()=>typeof Headers>"u"?tf:Headers,ay=(t,e,r)=>{const n=iy(r),s=oy();return(i,o)=>sy(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var ly=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function cy(t){return t.endsWith("/")?t:t+"/"}function uy(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ly(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const yf="2.71.1",$r=30*1e3,Ua=3,Ao=Ua*$r,dy="http://localhost:9999",hy="supabase.auth.token",fy={"X-Client-Info":`gotrue-js/${yf}`},za="X-Supabase-Api-Version",vf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},py=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,my=10*60*1e3;class Hl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gy extends Hl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yy(t){return B(t)&&t.name==="AuthApiError"}class xf extends Hl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class nr extends Hl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Rt extends nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vy(t){return B(t)&&t.name==="AuthSessionMissingError"}class Is extends nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ds extends nr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ls extends nr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xy(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class mu extends nr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fa extends nr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Oo(t){return B(t)&&t.name==="AuthRetryableFetchError"}class gu extends nr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ba extends nr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yu=` 	
\r=`.split(""),wy=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yu.length;e+=1)t[yu[e].charCodeAt(0)]=-2;for(let e=0;e<Si.length;e+=1)t[Si[e].charCodeAt(0)]=e;return t})();function vu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Si[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Si[n]),e.queuedBits-=6}}function wf(t,e,r){const n=wy[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{jy(o,n,r)};for(let o=0;o<t.length;o+=1)wf(t.charCodeAt(o),s,i);return e.join("")}function _y(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function by(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}_y(n,e)}}function jy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ky(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)wf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Sy(t){const e=[];return by(t,r=>e.push(r)),new Uint8Array(e)}function Ny(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>vu(s,r,n)),vu(null,r,n),e.join("")}function Ey(t){return Math.round(Date.now()/1e3)+t}function Cy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ye=()=>typeof window<"u"&&typeof document<"u",or={tested:!1,writable:!1},_f=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(or.tested)return or.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),or.tested=!0,or.writable=!0}catch{or.tested=!0,or.writable=!1}return or.writable};function Ty(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const bf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Py=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ar=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ar=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ot=async(t,e)=>{await t.removeItem(e)};class ro{constructor(){this.promise=new ro.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ro.promiseConstructor=Promise;function Ro(t){const e=t.split(".");if(e.length!==3)throw new Ba("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!py.test(e[n]))throw new Ba("JWT not in base64url format");return{header:JSON.parse(xu(e[0])),payload:JSON.parse(xu(e[1])),signature:ky(e[2]),raw:{header:e[0],payload:e[1]}}}async function $y(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ay(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Oy(t){return("0"+t.toString(16)).substr(-2)}function Ry(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Oy).join("")}async function Iy(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Iy(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Er(t,e,r=!1){const n=Ry();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ar(t,`${e}-code-verifier`,s);const i=await Dy(n);return[i,n===i?"plain":"s256"]}const Ly=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function My(t){const e=t.headers.get(za);if(!e||!e.match(Ly))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Uy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(t){if(!Fy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Io(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wu(t){return JSON.parse(JSON.stringify(t))}var By=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const ur=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qy=[502,503,504];async function _u(t){var e;if(!Py(t))throw new Fa(ur(t),0);if(qy.includes(t.status))throw new Fa(ur(t),t.status);let r;try{r=await t.json()}catch(i){throw new xf(ur(i),i)}let n;const s=My(t);if(s&&s.getTime()>=vf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new gu(ur(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gu(ur(r),t.status,r.weak_password.reasons);throw new gy(ur(r),t.status||500,n)}const Hy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function q(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[za]||(i[za]=vf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Wy(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Wy(t,e,r,n,s,i){const o=Hy(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Fa(ur(c),0)}if(l.ok||await _u(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await _u(c)}}function vt(t){var e;let r=null;Jy(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Ey(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function bu(t){const e=vt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Vy(t){return{data:t,error:null}}function Ky(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=By(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Gy(t){return t}function Jy(t){return t.access_token&&t.refresh_token&&t.expires_in}const Do=["global","local","others"];var Qy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Yy{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=bf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Do[0]){if(Do.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Do.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Qy(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ky,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(B(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Gy});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const j=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=j}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Cr(e);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Cr(e);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Cr(e);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zt})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Cr(e.userId);try{const{data:r,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Cr(e.userId),Cr(e.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}function ju(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Xy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tr={debug:!!(globalThis&&_f()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zy extends jf{}async function ev(t,e,r){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Zy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Xy();const tv={url:dy,storageKey:hy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ku(t,e,r){return await r()}const Pr={};class ns{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&Ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Yy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bf(s.fetch),this.lock=s.lock||ku,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ye()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ev:this.lock=ku,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:_f()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ju(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ju(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ty(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xy(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return B(r)?{error:r}:{error:new xf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Er(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:vt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vt})}else throw new Ds("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bu})}else throw new Ds("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Is}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,c,u,d,h,f,y;let v,j;if("message"in e)v=e.message,j=e.signature;else{const{chain:S,wallet:g,statement:m,options:p}=e;let _;if(Ye())if(typeof g=="object")_=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const P=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),m?{statement:m}:null));let w;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")w=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)w=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)v=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),j=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${P.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=E}}try{const{data:S,error:g}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ny(j)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:vt});if(g)throw g;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Is}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:g})}catch(S){if(B(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const r=await ar(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vt});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Is}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Is}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Er(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ds("You must provide either an email or phone number.")}catch(l){if(B(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Er(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Vy})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Rt;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ds("You must provide either an email or phone number and a type")}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ao:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ar(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Io()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zt})})}catch(r){if(B(r))return vy(r)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Rt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Er(this.storage,this.storageKey));const{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:zt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ro(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(B(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Rt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ye())throw new Ls("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ls(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ls("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mu("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Ls("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=$r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:j,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(B(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ar(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(yy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Cy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Er(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ye()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(B(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ay(async s=>(s>0&&await $y(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Oo(i)&&Date.now()+o-n<$r})}catch(n){if(this._debug(r,"error",n),B(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ar(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ar(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ar(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Io()}else if(s&&!s.user&&!s.user){const o=await ar(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ot(this.storage,this.storageKey+"-user"),await Ar(this.storage,this.storageKey,s)):s.user=Io()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ao;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ao}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Oo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ro;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return Oo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ar(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=wu(s);await Ar(this.storage,this.storageKey,i)}else{const s=wu(r);await Ar(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$r);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/$r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$r}ms, refresh threshold is ${Ua} ticks`),s<=Ua&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Er(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ro(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+my>s)return n;const{data:i,error:o}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Ro(n);r!=null&&r.allowExpired||Uy(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=zy(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Sy(`${l}.${c}`)))throw new Ba("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}ns.nextInstanceID=0;const rv=ns;class nv extends rv{constructor(e){super(e)}}var sv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class iv{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=cy(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:ty,realtime:ny,auth:Object.assign(Object.assign({},ry),{storageKey:u}),global:ey},h=uy(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=ay(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new _g(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Yg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Y0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return sv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Mg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ov=(t,e,r)=>new iv(t,e,r);function av(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}av()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lv="https://jymcqdvmbtushfmnionf.supabase.co",cv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5bWNxZHZtYnR1c2hmbW5pb25mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3NTg5NDAsImV4cCI6MjA3MzMzNDk0MH0.SQ-uKvSPzhundlH6PRLXKbpHEXkwtCwP9X7Twmscafo",W=ov(lv,cv);class uv{getKey(e){return`healthSystem_${e}`}get(e){const r=localStorage.getItem(e);return r?JSON.parse(r):[]}set(e,r){localStorage.setItem(e,JSON.stringify(r))}getUsers(){return this.get(this.getKey("users"))}saveUser(e){const r=this.getUsers(),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("users"),r)}getUserById(e){return this.getUsers().find(n=>n.id===e)||null}getUserByEmail(e){return this.getUsers().find(n=>n.email===e)||null}getMedications(e){return this.get(this.getKey("medications")).filter(r=>r.userId===e)}saveMedication(e){const r=this.get(this.getKey("medications")),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("medications"),r)}deleteMedication(e){const r=this.get(this.getKey("medications"));this.set(this.getKey("medications"),r.filter(n=>n.id!==e))}getAppointments(e){return this.get(this.getKey("appointments")).filter(r=>r.userId===e)}saveAppointment(e){const r=this.get(this.getKey("appointments")),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("appointments"),r)}deleteAppointment(e){const r=this.get(this.getKey("appointments"));this.set(this.getKey("appointments"),r.filter(n=>n.id!==e))}getActivities(e){return this.get(this.getKey("activities")).filter(r=>r.userId===e)}saveActivity(e){const r=this.get(this.getKey("activities")),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("activities"),r)}getRecommendations(e){return this.get(this.getKey("recommendations")).filter(r=>r.userId===e)}saveRecommendation(e){const r=this.get(this.getKey("recommendations")),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("recommendations"),r)}}const Z=new uv;class dv{getStorageKey(e){return`healthSystem_${e}`}get(e){const r=localStorage.getItem(e);return r?JSON.parse(r):[]}set(e,r){localStorage.setItem(e,JSON.stringify(r))}getUserPoints(e){const r=this.getStorageKey(`user_points_${e}`),n=localStorage.getItem(r);if(n)return JSON.parse(n);const s={total_points:0,available_points:0,total_earned:0,total_redeemed:0,premium_until:null};return localStorage.setItem(r,JSON.stringify(s)),s}updateUserPoints(e,r){const s={...this.getUserPoints(e),...r},i=this.getStorageKey(`user_points_${e}`);return localStorage.setItem(i,JSON.stringify(s)),s}addSharePoints(e,r,n="generic"){const i=this.getUserPoints(e),o=new Date().toISOString().split("T")[0],l=this.get(this.getStorageKey("shares"));if(l.filter(v=>v.user_id===e&&v.shared_at.startsWith(o)).some(v=>v.advertisement_id===r))return{points:i,isNewPremium:!1};const d={id:`share_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,user_id:e,advertisement_id:r,share_type:n,points_earned:10,shared_at:new Date().toISOString()};l.push(d),this.set(this.getStorageKey("shares"),l);const h=this.updateUserPoints(e,{total_points:i.total_points+10,available_points:i.available_points+10,total_earned:i.total_earned+10*.1}),f=l.filter(v=>v.user_id===e&&v.shared_at.startsWith(o));let y=!1;if(f.length>=3&&!this.isPremiumActive(e)){const v=new Date;v.setHours(v.getHours()+24),this.updateUserPoints(e,{...h,premium_until:v.toISOString()}),y=!0}return{points:h,isNewPremium:y}}redeemReward(e,r,n){const s=this.getUserPoints(e);if(s.available_points<n)return{success:!1,message:"Pontos insuficientes"};const i={id:`redemption_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,user_id:e,reward_id:r,points_spent:n,money_value:n*.1,status:"pending",redeemed_at:new Date().toISOString()},o=this.get(this.getStorageKey("redemptions"));return o.push(i),this.set(this.getStorageKey("redemptions"),o),this.updateUserPoints(e,{available_points:s.available_points-n,total_redeemed:s.total_redeemed+n*.1}),{success:!0,message:"Recompensa resgatada com sucesso!"}}getUserRedemptions(e){return this.get(this.getStorageKey("redemptions")).filter(n=>n.user_id===e)}getUserShares(e){return this.get(this.getStorageKey("shares")).filter(n=>n.user_id===e)}isPremiumActive(e){const r=this.getUserPoints(e);return r.premium_until?new Date(r.premium_until)>new Date:!1}getPremiumDaysLeft(e){const r=this.getUserPoints(e);if(!r.premium_until)return 0;const n=new Date(r.premium_until),s=new Date;if(n<=s)return 0;const i=n.getTime()-s.getTime(),o=Math.ceil(i/(1e3*60*60*24));return Math.max(0,o)}}const Su=new dv,kf=C.createContext(void 0);function $t(){const t=C.useContext(kf);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function hv({children:t}){const[e,r]=C.useState(null),[n,s]=C.useState(!0),i=(e==null?void 0:e.email)==="webxrio@gmail.com"||(e==null?void 0:e.email)==="admin@healthsystem.com";C.useEffect(()=>{W.auth.getSession().then(({data:{session:f}})=>{var y;if(f!=null&&f.user){const v=Z.getUserById(f.user.id);if(v)r(v);else{const j={id:f.user.id,email:f.user.email,name:((y=f.user.user_metadata)==null?void 0:y.name)||"Usurio",age:25,plan:"free",points:0,premiumDays:0,createdAt:new Date().toISOString(),profile:{weight:70,height:170,activityLevel:"moderate",healthGoals:[],allergies:[],medications:[],preferences:{exerciseTypes:[],dietType:"balanced",notifications:!0}}};Z.saveUser(j),r(j)}}s(!1)});const{data:{subscription:h}}=W.auth.onAuthStateChange(async(f,y)=>{if(y!=null&&y.user){const v=Z.getUserById(y.user.id);r(v)}else r(null);s(!1)});return()=>h.unsubscribe()},[]);const d={user:e,loading:n,signIn:async(h,f)=>{try{if(h==="webxrio@gmail.com"&&f==="487001@#$Valeria"){try{const{error:j}=await W.auth.signInWithPassword({email:h,password:f});if(!j){I.success("Login realizado com sucesso!");return}}catch{console.log("Supabase auth failed, using local demo")}const v={id:"demo-admin",email:"webxrio@gmail.com",name:"Rodrilan - Desenvolvedor",age:30,plan:"premium",points:1e3,premiumDays:365,createdAt:new Date().toISOString(),profile:{weight:75,height:175,activityLevel:"high",healthGoals:["Manter forma fsica","Vida saudvel"],allergies:[],medications:[],preferences:{exerciseTypes:["Musculao","Corrida"],dietType:"balanced",notifications:!0}}};Z.saveUser(v),r(v),I.success("Login realizado com sucesso!");return}if(h==="user@example.com"&&f==="user123"){const v={id:"demo-user",email:"user@example.com",name:"Usurio Demo",age:25,plan:"free",points:150,premiumDays:0,createdAt:new Date().toISOString(),profile:{weight:70,height:170,activityLevel:"moderate",healthGoals:["Perder peso","Exercitar-se mais"],allergies:[],medications:[],preferences:{exerciseTypes:["Caminhada","Yoga"],dietType:"balanced",notifications:!0}}};Z.saveUser(v),r(v),I.success("Login realizado com sucesso!");return}const{error:y}=await W.auth.signInWithPassword({email:h,password:f});if(y){const v=Z.getUsers().find(j=>j.email===h);if(v){r(v),I.success("Login realizado com sucesso!");return}throw y}I.success("Login realizado com sucesso!")}catch(y){throw I.error("Erro no login: "+y.message),y}},signUp:async(h,f,y,v)=>{try{const{data:j,error:S}=await W.auth.signUp({email:h,password:f,options:{data:{name:y}}});if(S){const g={id:`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,email:h,name:y,age:v,plan:"free",points:0,premiumDays:0,createdAt:new Date().toISOString(),profile:{weight:70,height:170,activityLevel:"moderate",healthGoals:[],allergies:[],medications:[],preferences:{exerciseTypes:[],dietType:"balanced",notifications:!0}}};Z.saveUser(g),r(g),I.success("Conta criada com sucesso!");return}if(j.user){const g={id:j.user.id,email:h,name:y,age:v,plan:"free",points:0,premiumDays:0,createdAt:new Date().toISOString(),profile:{weight:70,height:170,activityLevel:"moderate",healthGoals:[],allergies:[],medications:[],preferences:{exerciseTypes:[],dietType:"balanced",notifications:!0}}};Z.saveUser(g),r(g),I.success("Conta criada com sucesso!")}}catch(j){throw I.error("Erro no cadastro: "+j.message),j}},signOut:async()=>{try{r(null),I.success("Logout realizado com sucesso!");try{await W.auth.signOut()}catch{}}catch(h){throw I.error("Erro no logout: "+h.message),h}},updateUser:h=>{if(e){const f={...e,...h};if(Z.saveUser(f),r(f),h.points!==void 0){const y=Su.getUserPoints(e.id);y.total_points!==h.points&&Su.updateUserPoints(e.id,{total_points:h.points,available_points:h.points-(y.total_points-y.available_points)})}}},isAdmin:i};return a.jsx(kf.Provider,{value:d,children:t})}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pv=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Nu=t=>{const e=pv(t);return e.charAt(0).toUpperCase()+e.slice(1)},Sf=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),mv=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>C.createElement("svg",{ref:c,...gv,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Sf("lucide",s),...!i&&!mv(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>C.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=(t,e)=>{const r=C.forwardRef(({className:n,...s},i)=>C.createElement(yv,{ref:i,iconNode:e,className:Sf(`lucide-${fv(Nu(t))}`,`lucide-${t}`,n),...s}));return r.displayName=Nu(t),r};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qa=U("activity",vv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Nf=U("bell",xv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],_v=U("brain",wv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],He=U("calendar",bv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Un=U("circle-check-big",jv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ss=U("clock",kv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Ys=U("coins",Sv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Eu=U("crown",Nv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ef=U("download",Ev);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Tv=U("external-link",Cv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Cu=U("eye-off",Pv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tu=U("eye",$v);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ha=U("file-text",Av);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Rv=U("funnel",Ov);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Dv=U("gift",Iv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Pu=U("graduation-cap",Lv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ni=U("heart",Mv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zv=U("house",Uv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Bv=U("image",Fv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Hv=U("lightbulb",qv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],$u=U("link",Wv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Cf=U("lock",Vv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gv=U("log-out",Kv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wl=U("mail",Jv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Tf=U("map-pin",Qv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Xv=U("menu",Yv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ex=U("palette",Zv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rx=U("phone",tx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Ei=U("pill",nx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ix=U("play",sx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ci=U("plus",ox);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lx=U("save",ax);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pf=U("search",cx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vl=U("settings",ux);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Xs=U("share-2",dx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ti=U("shield",hx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],is=U("square-pen",fx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],mx=U("stethoscope",px);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yr=U("trash-2",gx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vx=U("triangle-alert",yx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Pi=U("trophy",xx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$i=U("user",wx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Au=U("users",_x);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jx=U("x",bx);function kx({children:t,activeTab:e,onTabChange:r}){var f,y;const{user:n,signOut:s,isAdmin:i}=$t(),[o,l]=C.useState(!1),c=async()=>{try{await s()}catch{I.error("Erro ao fazer logout")}},u=[{id:"dashboard",label:"Dashboard",icon:zv},{id:"medications",label:"Medicamentos",icon:Ei},{id:"appointments",label:"Compromissos",icon:He},{id:"rewards",label:"Recompensas",icon:Pi},{id:"profile",label:"Perfil",icon:$i},{id:"settings",label:"Configuraes",icon:Vl}];i&&u.push({id:"admin",label:"Admin",icon:Ti});const d=(n==null?void 0:n.plan)==="premium"?"Premium":"Gratuito",h=(n==null?void 0:n.plan)==="premium"?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100";return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${o?"translate-x-0":"-translate-x-full"}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ni,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Top Sade"}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${h}`,children:d})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:a.jsx(jx,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"flex-1 px-4 py-6",children:a.jsx("nav",{className:"space-y-2",children:u.map(v=>{const j=v.icon;return a.jsxs("button",{onClick:()=>{r(v.id),l(!1)},className:`
                    w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors
                    ${e===v.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                  `,children:[a.jsx(j,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:v.label})]},v.id)})})}),a.jsxs("div",{className:"p-4 border-t",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:n==null?void 0:n.name}),a.jsx("p",{className:"text-xs text-gray-500",children:n==null?void 0:n.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-bold text-blue-600",children:[(n==null?void 0:n.points)||0," pts"]}),(n==null?void 0:n.plan)==="premium"&&(n==null?void 0:n.premiumDays)>0&&a.jsxs("p",{className:"text-xs text-yellow-600",children:[n.premiumDays," dias premium"]})]})]}),a.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(Gv,{className:"h-4 w-4"}),a.jsx("span",{children:"Sair"})]})]})]}),a.jsxs("div",{className:"flex-1 lg:ml-0",children:[a.jsx("header",{className:"bg-white shadow-sm border-b px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>l(!0),className:"lg:hidden text-gray-500 hover:text-gray-700",children:a.jsx(Xv,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:((f=u.find(v=>v.id===e))==null?void 0:f.label)||"Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600",children:(n==null?void 0:n.plan)==="premium"?"Conta Premium Ativa":"Conta Gratuita"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Nf,{className:"h-6 w-6 text-gray-400 hover:text-gray-600 cursor-pointer"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:(y=n==null?void 0:n.name)==null?void 0:y.charAt(0).toUpperCase()})})})]})]})}),a.jsx("main",{className:"flex-1 overflow-auto p-6",children:t})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)})]})}function Sx(){const[t,e]=C.useState(!0),[r,n]=C.useState({email:"",password:"",name:"",age:""}),[s,i]=C.useState(!1),{signIn:o,signUp:l}=$t(),c=async d=>{d.preventDefault(),i(!0);try{if(t)await o(r.email,r.password);else{if(!r.name||!r.age){I.error("Por favor, preencha todos os campos");return}await l(r.email,r.password,r.name,parseInt(r.age))}}catch{}finally{i(!1)}},u=d=>{n(h=>({...h,[d.target.name]:d.target.value}))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl",children:a.jsx(Ni,{className:"h-8 w-8 text-white"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rotina Inteligente"}),a.jsx("p",{className:"text-gray-600",children:t?"Entre em sua conta":"Crie sua conta e comece sua jornada saudvel"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[!t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),a.jsxs("div",{className:"relative",children:[a.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{id:"name",name:"name",type:"text",required:!t,value:r.name,onChange:u,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Seu nome completo"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-2",children:"Idade"}),a.jsxs("div",{className:"relative",children:[a.jsx(He,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{id:"age",name:"age",type:"number",min:"1",max:"120",required:!t,value:r.age,onChange:u,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Sua idade"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:u,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"seu@email.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:u,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Sua senha",minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Processando...":t?"Entrar":"Criar Conta"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>e(!t),className:"text-blue-600 hover:text-blue-800 font-medium",children:t?"No tem conta? Cadastre-se":"J tem conta? Entre aqui"})}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.jsx("strong",{children:"Crie sua conta Grtis:"})}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"suporte:"})," webxrio@gmail.com / 21-97961-8766"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Direito reservado:"})," Webx-Rio / Desenvolvimento"]}),a.jsx("p",{className:"text-blue-600 font-medium",children:" Rotina inteligente"})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx(Ni,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),a.jsx("p",{children:"Sade Integral"})]}),a.jsxs("div",{children:[a.jsx(He,{className:"h-6 w-6 text-blue-500 mx-auto mb-2"}),a.jsx("p",{children:"Lembretes"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"h-6 w-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mb-2",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"AI"})}),a.jsx("p",{children:"IA Personalizada"})]})]})})]})})}class yt{static generateRecommendations(e,r,n){const s=[];return this.getBaseRecommendations(e).forEach(o=>{s.push({id:`ai_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e.id,...o,date:new Date().toISOString(),implemented:!1})}),s}static getBaseRecommendations(e){const{profile:r}=e,n=[];return r.activityLevel==="low"?n.push({type:"exercise",title:"Caminhada Leve de 15 Minutos",description:"Comece com uma caminhada leve no seu bairro. Exerccios de baixo impacto so ideais para iniciantes.",priority:"high",category:"Exerccio Iniciante"}):r.activityLevel==="moderate"&&n.push({type:"exercise",title:"Treino de Fora 3x por Semana",description:"Incorpore exerccios de musculao para fortalecer msculos e ossos.",priority:"medium",category:"Exerccio Moderado"}),r.weight/(r.height/100)**2>25&&n.push({type:"nutrition",title:"Reduzir Carboidratos Refinados",description:"Substitua pes brancos, doces e refrigerantes por opes integrais e gua.",priority:"high",category:"Nutrio para Peso Saudvel"}),n.push({type:"wellness",title:"Meditao Matinal de 10 Minutos",description:"Pratique mindfulness ao acordar para reduzir stress e melhorar o foco.",priority:"medium",category:"Bem-estar Mental"}),e.age<18?n.push({type:"sleep",title:"Durma 8-9 Horas por Noite",description:"Adolescentes precisam de mais sono para desenvolvimento adequado.",priority:"high",category:"Sono Jovem"}):n.push({type:"sleep",title:"Mantenha 7-8 Horas de Sono",description:"Adultos precisam de sono consistente para recuperao e sade mental.",priority:"high",category:"Sono Adulto"}),n}static generatePersonalizedTip(e){const r=[`${e.name}, lembre-se de beber pelo menos 2 litros de gua hoje!`,`Que tal uma pausa de 5 minutos para alongar, ${e.name}?`,`${e.name}, voc j praticou gratido hoje? Pense em 3 coisas boas!`,`Hora de se mover, ${e.name}! Uma caminhada rpida pode energizar seu dia.`,`${e.name}, respire fundo 3 vezes para reduzir o stress.`];return r[Math.floor(Math.random()*r.length)]}static calculateRecommendationScore(e,r){const n=r.filter(i=>i.completed).length,s=r.length;return s===0?0:Math.round(n/s*100)}}const Lo=()=>{const{user:t}=$t(),[e,r]=C.useState(0),[n,s]=C.useState(!0),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState([]),[h,f]=C.useState([]),[y,v]=C.useState([]),[j,S]=C.useState([]),[g,m]=C.useState(""),[p,_]=C.useState([]),[P,E]=C.useState(!1),w=["Experimente compartilhar em grupos de WhatsApp para mais alcance.","Adicione descries personalizadas para engajar mais pessoas.","Use imagens claras e chamativas para destacar seus anncios."],x=[" Caminhe 20 minutos aps o almoo."," Beba 2 litros de gua hoje."," Faa alongamentos rpidos a cada 2 horas."," Coma uma fruta como lanche da tarde."," Tente dormir pelo menos 7h esta noite."," Tome 10 minutos de sol pela manh."," Desconecte-se das telas 30 min antes de dormir."," Pratique 5 minutos de respirao profunda."," Inclua verduras em pelo menos 2 refeies."," Beba um copo de gua ao acordar."," Ande de bicicleta ou faa uma caminhada leve."," Ajuste sua postura na cadeira durante o trabalho."," Troque refrigerante por suco natural ou gua."," Leia algumas pginas de um livro antes de dormir."," Oua msica relaxante para reduzir o estresse."," Tome um ch calmante  noite."," Faa pausas curtas durante o trabalho."," Inclua protena saudvel no caf da manh."," Use protetor solar se for sair ao sol."," Ligue para algum querido e converse um pouco."],R=async()=>{if(t)try{s(!0);const{data:N,error:L}=await W.from("user_profiles").select("points").eq("id",t.id).single();if(L)console.warn("Warning ao carregar pontos:",L.message||L),e!==0&&r(0);else{const b=(N==null?void 0:N.points)??0;b!==e&&r(b)}}catch(N){console.error("Erro inesperado loadSharePoints:",N)}finally{s(!1)}},D=async()=>{try{const{data:N,error:L}=await W.from("rewards").select("*").eq("active",!0).order("points_required",{ascending:!0});L?(console.warn("Erro ao buscar rewards:",L.message||L),o([])):o(N||[])}catch(N){console.error("Erro inesperado loadRewards:",N),o([])}},k=async()=>{if(t)try{E(!0);let{data:N,error:L}=await W.from("sharing_reports").select("*").eq("user_id",t.id).order("shared_at",{ascending:!1}).limit(10);if(L){const{data:b,error:$}=await W.from("share_tracking").select("*").eq("user_id",t.id).order("shared_at",{ascending:!1}).limit(10);$?(console.warn("Erro ao carregar relatrios:",$),_([])):_(b||[])}else _(N||[])}catch(N){console.error("Erro inesperado loadShareReports:",N),_([])}finally{E(!1)}},F=()=>{if(t)try{d(Z.getActivities(t.id)),f(Z.getRecommendations(t.id)),v(Z.getMedications(t.id)),S(Z.getAppointments(t.id))}catch(N){console.error("Erro loadLocalData:",N)}},Te=()=>{if(t)try{if(yt&&yt.generatePersonalizedTip){const N=yt.generatePersonalizedTip(t);m(N)}else m("Mantenha hbitos saudveis  durma bem e hidrate-se.")}catch(N){console.error("Erro generateDailyTip:",N),m("Mantenha hbitos saudveis  durma bem e hidrate-se.")}},ht=()=>{if(t)try{if(yt&&yt.generateRecommendations){const N=yt.generateRecommendations(t,u,y);N.forEach(L=>Z.saveRecommendation(L)),f(N)}}catch(N){console.error("Erro generateRecommendations:",N)}};C.useEffect(()=>{t&&(F(),Te(),R(),D(),k(),(Z.getRecommendations(t.id)||[]).length===0&&ht())},[t]),C.useEffect(()=>{if(!t)return;const N=setInterval(()=>{R()},5e3);return()=>clearInterval(N)},[t]);const hn=N=>{const L=u.find($=>$.id===N);if(!L||L.completed)return;const b={...L,completed:!0};try{Z.saveActivity(b),d($=>$.map(pt=>pt.id===N?b:pt)),I.success("Atividade concluda com sucesso!")}catch($){console.error("Erro ao salvar atividade:",$),I.error("Erro ao concluir atividade")}},sr=()=>{try{if(yt&&yt.generateHealthSuggestion&&t){const N=yt.generateHealthSuggestion(t);c(L=>[...L,N])}else{const N=x[Math.floor(Math.random()*x.length)];c(L=>[...L,N])}I.success("Nova atividade de sade gerada!")}catch(N){console.error("Erro gerar sugesto sade:",N),I.error("Erro ao gerar sugesto")}},ir=async N=>{if(!t){I.error("Voc precisa estar logado para resgatar.");return}if(e<N.points_required){I.error("Pontos insuficientes.");return}try{try{const{error:b}=await W.rpc("increment_user_points",{user_id_input:t.id,points_to_add:-N.points_required});if(b){console.warn("RPC decrement no disponvel:",b.message||b);const{error:$}=await W.from("user_profiles").update({points:e-N.points_required}).eq("id",t.id);if($)throw new Error("Erro ao deduzir pontos: "+$.message)}}catch(b){throw console.warn("Erro ao deduzir pontos:",b),new Error("Erro ao processar pontos")}const{error:L}=await W.from("user_rewards").insert({user_id:t.id,reward_id:N.id,points_spent:N.points_required,money_value:N.points_required*.1,status:"pending"});if(L){console.error("Erro insert user_rewards:",L),I.error("Erro ao registrar resgate");return}c(b=>[...b,` Sugesto aps resgate: aproveite seu benefcio (${N.name}).`]),await R(),I.success(`Recompensa "${N.name}" resgatada!`),setTimeout(()=>{if(N.link)window.open(N.link,"_blank");else{const b=` Ol! Acabei de resgatar a recompensa "${N.name}" pelo Top Sade - Sistema Inteligente!

 Valor: ${N.points_required} pontos (R$ ${(N.points_required*.1).toFixed(2)})
 Descrio: ${N.description||"Recompensa especial"}

Como posso utilizar minha recompensa?

Obrigado! `,$=`https://wa.me/5521979618766?text=${encodeURIComponent(b)}`;window.open($,"_blank")}},1500)}catch(L){console.error("Erro handleRedeem:",L),I.error("Erro ao resgatar recompensa: "+(L.message||L))}},A=(i||[]).filter(N=>e>=(N.points_required||0)).sort((N,L)=>N.points_required-L.points_required).slice(0,3),M=(e*.05).toFixed(2),z=u.filter(N=>new Date(N.date).toDateString()===new Date().toDateString()),Q=z.filter(N=>N.completed).length,te=j.filter(N=>new Date(N.date).toDateString()===new Date().toDateString()),ft=y.filter(N=>!N.completed),xe=[{icon:qa,label:"Atividades Hoje",value:`${Q}/${z.length}`,color:"bg-blue-500"},{icon:He,label:"Compromissos",value:te.length,color:"bg-green-500"},{icon:Ei,label:"Medicamentos",value:ft.length,color:"bg-purple-500"},{icon:Xs,label:"Pontos (Compart.)",value:n?"...":e,color:"bg-yellow-500"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Ol, ",(t==null?void 0:t.name)||"Usurio","! "]}),a.jsx("p",{className:"text-blue-100 mb-2",children:g||"Mantenha hbitos saudveis."}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hv,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm",children:"Dica do dia"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-3xl font-bold",children:n?"...":e}),a.jsxs("div",{className:"text-blue-100 text-sm",children:["pontos (compart.)  R$ ",M]})]})]})}),a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-xl",children:a.jsx(ix,{className:"h-8 w-8"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold mb-1",children:" Webx Filmes & Sries"}),a.jsx("p",{className:"text-purple-100",children:"Acesse nossa plataforma de entretenimento com filmes, sries e cursos!"})]})]}),a.jsxs("button",{onClick:()=>window.open("https://webxfilmes.netlify.app/","_blank"),className:"flex items-center space-x-2 bg-white text-purple-600 px-6 py-3 rounded-xl font-semibold hover:bg-purple-50 transition-colors",children:[a.jsx(Tv,{className:"h-5 w-5"}),a.jsx("span",{children:"Acessar Agora"})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:xe.map((N,L)=>{const b=N.icon;return a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:N.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:N.value})]}),a.jsx("div",{className:`p-3 rounded-lg ${N.color}`,children:a.jsx(b,{className:"h-6 w-6 text-white"})})]})},L)})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h2",{className:"text-lg font-semibold",children:" Recompensas Disponveis"})}),A.length===0?a.jsx("p",{className:"text-gray-500",children:"Nenhuma recompensa disponvel para o seu saldo."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:A.map(N=>a.jsxs("div",{className:"border rounded-lg p-3 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:N.name}),N.description&&a.jsx("p",{className:"text-sm text-gray-600",children:N.description})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("span",{className:"font-medium",children:[N.points_required," pts"]}),a.jsx("button",{onClick:()=>ir(N),className:"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Resgatar"})]})]},N.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[a.jsx(Ha,{className:"h-5 w-5"}),a.jsx("span",{children:" Meus Compartilhamentos"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:P?"Carregando...":`${p.length} registros`})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-lg font-semibold",children:" Sugestes com IA"}),a.jsx("button",{onClick:sr,className:"text-sm text-blue-600 hover:underline",children:" Gerar atividade de sade"})]}),a.jsx("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:l.length===0?w.map((N,L)=>a.jsx("li",{children:N},L)):l.map((N,L)=>a.jsx("li",{children:N},L))})]}),P?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Xs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nenhum compartilhamento registrado ainda."}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Comece compartilhando anncios para ganhar pontos!"})]}):a.jsxs("div",{className:"space-y-3",children:[p.slice(0,5).map((N,L)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Xs,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:N.advertisement_name||"Anncio"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[N.advertisement_category||"Categoria","  ",N.share_type||"compartilhamento"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ys,{className:"h-4 w-4 text-yellow-500"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["+",N.points_earned||10]})]}),a.jsx("span",{className:"text-xs text-gray-500",children:N.shared_at?new Date(N.shared_at).toLocaleDateString("pt-BR"):"Hoje"})]})]},N.id||L)),p.length>5&&a.jsx("div",{className:"text-center pt-3",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["E mais ",p.length-5," compartilhamentos..."]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h2",{className:"text-lg font-semibold",children:" Minhas Atividades"})}),u.length===0?a.jsx("p",{className:"text-gray-500",children:"Nenhuma atividade registrada."}):a.jsx("div",{className:"space-y-3",children:u.map(N=>a.jsxs("div",{className:`p-3 rounded-lg border flex justify-between items-center ${N.completed?"bg-gray-100 line-through":"bg-white"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full ${N.completed?"bg-green-100":"bg-gray-200"}`,children:N.completed?a.jsx(Un,{className:"h-4 w-4 text-green-600"}):a.jsx(ss,{className:"h-4 w-4 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:N.description}),N.date&&a.jsx("p",{className:"text-xs text-gray-500",children:new Date(N.date).toLocaleString()})]})]}),!N.completed&&a.jsx("button",{onClick:()=>hn(N.id),className:"text-blue-600 hover:underline text-sm",children:"Concluir"})]},N.id))})]})]})},Nx=[{id:"ad-1",name:"Farmcia Sade Total",category:"Farmcia",image_url:"https://images.pexels.com/photos/305568/pexels-photo-305568.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Rua das Flores, 123 - Centro",whatsapp:"5511999887766",link:"https://farmaciasaudetotal.com.br",active:!0,created_at:new Date().toISOString()},{id:"ad-2",name:"Academia Corpo Sano",category:"Fitness e Exerccios",image_url:"https://images.pexels.com/photos/1552252/pexels-photo-1552252.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Av. Principal, 456 - Bairro Novo",whatsapp:"5511888776655",link:"https://academiacorposano.com.br",active:!0,created_at:new Date().toISOString()},{id:"ad-3",name:"Clnica Dr. Bem-Estar",category:"Clnicas e Consultrios",image_url:"https://images.pexels.com/photos/263402/pexels-photo-263402.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Rua da Sade, 789 - Vila Mdica",whatsapp:"5511777665544",link:"https://clinicabemestar.com.br",active:!0,created_at:new Date().toISOString()},{id:"ad-4",name:"Restaurante Vida Natural",category:"Alimentao",image_url:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Praa Verde, 321 - Eco Bairro",whatsapp:"5511666554433",link:"https://vidanatural.com.br",active:!0,created_at:new Date().toISOString()},{id:"ad-5",name:"Spa Relaxamento Total",category:"Beleza e Esttica",image_url:"https://images.pexels.com/photos/3757942/pexels-photo-3757942.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Rua do Bem-Estar, 654 - Centro Zen",whatsapp:"5511555443322",link:"https://sparelaxamento.com.br",active:!0,created_at:new Date().toISOString()}],Ex=[{id:"reward-1",name:"Desconto 10% Farmcia",description:"Desconto de 10% em medicamentos na Farmcia Sade Total",points_required:50,link:"https://farmaciasaudetotal.com.br/desconto",image_url:"https://images.pexels.com/photos/305568/pexels-photo-305568.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-2",name:"Aula Grtis na Academia",description:"Uma aula experimental gratuita na Academia Corpo Sano",points_required:100,link:"https://academiacorposano.com.br/gratis",image_url:"https://images.pexels.com/photos/1552252/pexels-photo-1552252.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-3",name:"Consulta com Desconto",description:"20% de desconto em consulta na Clnica Dr. Bem-Estar",points_required:150,link:"https://clinicabemestar.com.br/desconto",image_url:"https://images.pexels.com/photos/263402/pexels-photo-263402.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-4",name:"Refeio Saudvel",description:"Prato principal grtis no Restaurante Vida Natural",points_required:200,link:"https://vidanatural.com.br/gratis",image_url:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-5",name:"Sesso de Relaxamento",description:"Massagem relaxante de 30 minutos no Spa Relaxamento Total",points_required:300,link:"https://sparelaxamento.com.br/massagem",image_url:"https://images.pexels.com/photos/3757942/pexels-photo-3757942.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-6",name:"Vale Compras R$ 50",description:"Vale compras de R$ 50,00 para usar em qualquer estabelecimento parceiro",points_required:500,link:null,image_url:"https://images.pexels.com/photos/164527/pexels-photo-164527.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];function Cx(){const[t,e]=C.useState("ads"),[r,n]=C.useState([]),[s,i]=C.useState([]),[o,l]=C.useState([]),[c,u]=C.useState(!0),[d,h]=C.useState(!0),[f,y]=C.useState(!1),[v,j]=C.useState(!1),[S,g]=C.useState(null),[m,p]=C.useState(null),[_,P]=C.useState({name:"",category:"",image_url:"",address:"",whatsapp:"",link:"",active:!0}),[E,w]=C.useState({name:"",description:"",points_required:50,link:"",image_url:"",active:!0});C.useEffect(()=>{x()},[]);const x=async()=>{u(!0);try{await Promise.all([R(),D()])}catch(b){console.error("Erro ao carregar dados:",b.message),I.error("Erro ao carregar dados")}finally{u(!1)}},R=async()=>{try{const{data:b,error:$}=await W.from("advertisements").select("*").order("created_at",{ascending:!1});if($)throw $;n(b||[]),h(!0)}catch{console.log("Usando dados offline para anncios"),n(Nx),h(!1)}},D=async()=>{try{const{data:b,error:$}=await W.from("rewards").select("*").order("created_at",{ascending:!1});if($)throw $;i(b||[]),h(!0)}catch{console.log("Usando dados offline para recompensas"),i(Ex),h(!1)}},k=async()=>{try{const{data:b,error:$}=await W.from("share_tracking").select(`
          *,
          user_profiles!inner(name, email),
          advertisements(name, category)
        `).order("shared_at",{ascending:!1}).limit(100);if($)throw $;l(b||[])}catch(b){console.log("Erro ao carregar relatrios:",b),l([])}},F=()=>{const b=o.map(me=>{var Kl,Gl,Jl,Ql;return{usuario:((Kl=me.user_profiles)==null?void 0:Kl.name)||"N/A",email:((Gl=me.user_profiles)==null?void 0:Gl.email)||"N/A",anuncio:((Jl=me.advertisements)==null?void 0:Jl.name)||"N/A",categoria:((Ql=me.advertisements)==null?void 0:Ql.category)||"N/A",tipo:me.share_type,pontos:me.points_earned,data:new Date(me.shared_at).toLocaleString("pt-BR")}}),$=[["Usurio","Email","Anncio","Categoria","Tipo","Pontos","Data"],...b.map(me=>[me.usuario,me.email,me.anuncio,me.categoria,me.tipo,me.pontos,me.data])].map(me=>me.join(",")).join(`
`),pt=new Blob([$],{type:"text/csv;charset=utf-8;"}),mt=document.createElement("a"),ms=URL.createObjectURL(pt);mt.setAttribute("href",ms),mt.setAttribute("download",`relatorio-compartilhamentos-${new Date().toISOString().split("T")[0]}.csv`),mt.style.visibility="hidden",document.body.appendChild(mt),mt.click(),document.body.removeChild(mt),I.success("Relatrio baixado com sucesso!")},Te=async()=>{if(confirm("Tem certeza que deseja excluir todos os registros de compartilhamento?")){if(!d){I.error("Funcionalidade disponvel apenas online");return}try{const{error:b}=await W.from("share_tracking").delete().neq("id","");if(b)throw b;I.success("Registros excludos com sucesso!"),k()}catch(b){console.error("Erro ao excluir registros:",b.message),I.error(`Erro ao excluir registros: ${b.message}`)}}},ht=async b=>{if(b.preventDefault(),!d){I.error("Funcionalidade disponvel apenas online");return}try{if(S){const{error:$}=await W.from("advertisements").update(_).eq("id",S.id);if($)throw $;I.success("Anncio atualizado com sucesso!")}else{const{error:$}=await W.from("advertisements").insert([{..._,active:!0}]);if($)throw $;I.success("Anncio criado com sucesso!")}te(),x()}catch($){console.error("Erro ao salvar anncio:",$.message,$.details),I.error(`Erro ao salvar anncio: ${$.message}`)}},hn=async b=>{if(b.preventDefault(),!d){I.error("Funcionalidade disponvel apenas online");return}try{if(m){const{error:$}=await W.from("rewards").update(E).eq("id",m.id);if($)throw $;I.success("Recompensa atualizada com sucesso!")}else{const{error:$}=await W.from("rewards").insert([{...E,active:!0}]);if($)throw $;I.success("Recompensa criada com sucesso!")}ft(),x()}catch($){console.error("Erro ao salvar recompensa:",$.message),I.error(`Erro ao salvar recompensa: ${$.message}`)}},sr=b=>{g(b),P({name:b.name,category:b.category,image_url:b.image_url,address:b.address,whatsapp:b.whatsapp,link:b.link||"",active:b.active}),y(!0)},ir=b=>{p(b),w({name:b.name,description:b.description||"",points_required:b.points_required,link:b.link||"",image_url:b.image_url||"",active:b.active}),j(!0)},A=async b=>{if(confirm("Tem certeza que deseja excluir este anncio?")){if(!d){I.error("Funcionalidade disponvel apenas online");return}try{const{error:$}=await W.from("advertisements").delete().eq("id",b);if($)throw $;I.success("Anncio excludo com sucesso!"),x()}catch($){console.error("Erro ao excluir anncio:",$.message,$.details),I.error(`Erro ao excluir anncio: ${$.message}`)}}},M=async b=>{if(confirm("Tem certeza que deseja excluir esta recompensa?")){if(!d){I.error("Funcionalidade disponvel apenas online");return}try{const{error:$}=await W.from("rewards").delete().eq("id",b);if($)throw $;I.success("Recompensa excluda com sucesso!"),x()}catch($){console.error("Erro ao excluir recompensa:",$.message),I.error(`Erro ao excluir recompensa: ${$.message}`)}}},z=async b=>{if(!d){I.error("Funcionalidade disponvel apenas online");return}try{const{error:$}=await W.from("advertisements").update({active:!b.active}).eq("id",b.id);if($)throw $;I.success(`Anncio ${b.active?"desativado":"ativado"} com sucesso!`),x()}catch($){console.error("Erro ao alterar status do anncio:",$.message,$.details),I.error(`Erro ao alterar status: ${$.message}`)}},Q=async b=>{if(!d){I.error("Funcionalidade disponvel apenas online");return}try{const{error:$}=await W.from("rewards").update({active:!b.active}).eq("id",b.id);if($)throw $;I.success(`Recompensa ${b.active?"desativada":"ativada"} com sucesso!`),x()}catch($){console.error("Erro ao alterar status da recompensa:",$.message),I.error(`Erro ao alterar status: ${$.message}`)}},te=()=>{P({name:"",category:"",image_url:"",address:"",whatsapp:"",link:"",active:!0}),g(null),y(!1)},ft=()=>{w({name:"",description:"",points_required:50,link:"",image_url:"",active:!0}),p(null),j(!1)},xe=b=>{P($=>({...$,[b.target.name]:b.target.value}))},N=b=>{const $=b.target.type==="number"?parseInt(b.target.value):b.target.value;w(pt=>({...pt,[b.target.name]:$}))},L=["Sade e Bem-estar","Alimentao","Fitness e Exerccios","Beleza e Esttica","Farmcia","Clnicas e Consultrios","Produtos Naturais","Equipamentos Mdicos","Outros"];return c?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel Administrativo"}),a.jsxs("p",{className:"text-gray-600",children:["Gerencie anncios e recompensas",!d&&a.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Modo Offline - Apenas Visualizao"})]})]}),a.jsx("div",{className:"flex space-x-3",children:t==="ads"?a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ci,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Anncio"})]}):a.jsxs("button",{onClick:()=>j(!0),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[a.jsx(Ci,{className:"h-5 w-5"}),a.jsx("span",{children:"Nova Recompensa"})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-1",children:a.jsxs("div",{className:"flex space-x-1",children:[a.jsxs("button",{onClick:()=>e("ads"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${t==="ads"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Bv,{className:"h-5 w-5"}),a.jsxs("span",{children:["Anncios (",r.length,")"]})]}),a.jsxs("button",{onClick:()=>e("rewards"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${t==="rewards"?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Dv,{className:"h-5 w-5"}),a.jsxs("span",{children:["Recompensas (",s.length,")"]})]}),a.jsxs("button",{onClick:()=>e("reports"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${t==="reports"?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Ha,{className:"h-5 w-5"}),a.jsxs("span",{children:["Relatrios (",o.length,")"]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:S?"Editar Anncio":"Novo Anncio"}),a.jsxs("form",{onSubmit:ht,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome *"}),a.jsx("input",{type:"text",name:"name",required:!0,value:_.name,onChange:xe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do estabelecimento"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),a.jsxs("select",{name:"category",required:!0,value:_.category,onChange:xe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Selecione uma categoria"}),L.map(b=>a.jsx("option",{value:b,children:b},b))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem *"}),a.jsx("input",{type:"url",name:"image_url",required:!0,value:_.image_url,onChange:xe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://exemplo.com/logo.png"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereo *"}),a.jsx("input",{type:"text",name:"address",required:!0,value:_.address,onChange:xe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Rua, nmero, bairro, cidade"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp *"}),a.jsx("input",{type:"tel",name:"whatsapp",required:!0,value:_.whatsapp,onChange:xe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5511999999999"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link (opcional)"}),a.jsx("input",{type:"url",name:"link",value:_.link,onChange:xe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://seusite.com"})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[S?"Atualizar":"Criar"," Anncio"]}),a.jsx("button",{type:"button",onClick:te,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})}),v&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"Editar Recompensa":"Nova Recompensa"}),a.jsxs("form",{onSubmit:hn,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome *"}),a.jsx("input",{type:"text",name:"name",required:!0,value:E.name,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Nome da recompensa"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio"}),a.jsx("textarea",{name:"description",value:E.description,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Descrio da recompensa",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos Necessrios *"}),a.jsx("input",{type:"number",name:"points_required",required:!0,min:"1",value:E.points_required,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"50"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Valor: R$ ",((E.points_required||0)*.1).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem"}),a.jsx("input",{type:"url",name:"image_url",value:E.image_url,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://exemplo.com/imagem.png"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link (opcional)"}),a.jsx("input",{type:"url",name:"link",value:E.link,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://seusite.com/oferta"})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:[m?"Atualizar":"Criar"," Recompensa"]}),a.jsx("button",{type:"button",onClick:ft,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})}),t==="ads"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(b=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-48 object-cover",onError:$=>{$.target.src="https://via.placeholder.com/512"}}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("button",{onClick:()=>z(b),className:`p-2 rounded-full ${b.active?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:b.active?a.jsx(Tu,{className:"h-4 w-4"}):a.jsx(Cu,{className:"h-4 w-4"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:b.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${b.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:b.active?"Ativo":"Inativo"})]}),a.jsx("p",{className:"text-sm text-blue-600 mb-2",children:b.category}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tf,{className:"h-4 w-4"}),a.jsx("span",{children:b.address})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rx,{className:"h-4 w-4"}),a.jsx("span",{children:b.whatsapp})]}),b.link&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($u,{className:"h-4 w-4"}),a.jsx("a",{href:b.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 truncate",children:"Visitar site"})]})]}),a.jsxs("div",{className:"flex space-x-2 mt-4",children:[a.jsxs("button",{onClick:()=>sr(b),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:[a.jsx(is,{className:"h-4 w-4"}),a.jsx("span",{children:"Editar"})]}),a.jsxs("button",{onClick:()=>A(b.id),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[a.jsx(Yr,{className:"h-4 w-4"}),a.jsx("span",{children:"Excluir"})]})]})]})]},b.id))}),t==="reports"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aes do Relatrio"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:F,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Ef,{className:"h-5 w-5"}),a.jsx("span",{children:"Baixar CSV"})]}),a.jsxs("button",{onClick:Te,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(Yr,{className:"h-5 w-5"}),a.jsx("span",{children:"Limpar Dados"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Au,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total de Compartilhamentos"})]}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:o.length})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ys,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-900",children:"Pontos Distribudos"})]}),a.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:o.reduce((b,$)=>b+($.points_earned||0),0)})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(He,{className:"h-5 w-5 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Hoje"})]}),a.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:o.filter(b=>new Date(b.shared_at).toDateString()===new Date().toDateString()).length})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Au,{className:"h-5 w-5 text-yellow-600"}),a.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Usurios nicos"})]}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:new Set(o.map(b=>b.user_id)).size})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Relatrio de Compartilhamentos"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"ltimos 100 compartilhamentos registrados"})]}),o.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Ha,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nenhum compartilhamento registrado"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Anncio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(b=>{var $,pt,mt,ms;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:(($=b.user_profiles)==null?void 0:$.name)||"N/A"}),a.jsx("div",{className:"text-sm text-gray-500",children:((pt=b.user_profiles)==null?void 0:pt.email)||"N/A"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:((mt=b.advertisements)==null?void 0:mt.name)||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:((ms=b.advertisements)==null?void 0:ms.category)||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.share_type==="whatsapp"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:b.share_type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ys,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:b.points_earned||0})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.shared_at).toLocaleString("pt-BR")})]},b.id)})})]})})]})]}),t==="rewards"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(b=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:b.image_url||"https://via.placeholder.com/512x300?text=Recompensa",alt:b.name,className:"w-full h-48 object-cover",onError:$=>{$.target.src="https://via.placeholder.com/512x300?text=Recompensa"}}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("button",{onClick:()=>Q(b),className:`p-2 rounded-full ${b.active?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:b.active?a.jsx(Tu,{className:"h-4 w-4"}):a.jsx(Cu,{className:"h-4 w-4"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:b.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${b.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:b.active?"Ativo":"Inativo"})]}),b.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b.description}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ys,{className:"h-4 w-4 text-yellow-500"}),a.jsxs("span",{children:[b.points_required," pontos"]})]}),a.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",(b.points_required*.1).toFixed(2)]})]}),b.link&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($u,{className:"h-4 w-4"}),a.jsx("a",{href:b.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 truncate",children:"Ver oferta"})]})]}),a.jsxs("div",{className:"flex space-x-2 mt-4",children:[a.jsxs("button",{onClick:()=>ir(b),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-colors",children:[a.jsx(is,{className:"h-4 w-4"}),a.jsx("span",{children:"Editar"})]}),a.jsxs("button",{onClick:()=>M(b.id),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[a.jsx(Yr,{className:"h-4 w-4"}),a.jsx("span",{children:"Excluir"})]})]})]})]},b.id))})]})}const Tx=()=>{const{user:t}=$t(),[e,r]=C.useState("share"),[n,s]=C.useState([]),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState(null),[h,f]=C.useState(!1),y=async()=>{if(!t)return null;try{const S={id:t.id},{data:g,error:m}=await W.from("user_profiles").upsert(S,{returning:"representation"}).single();return m?(console.error("Erro upsert user_profiles:",m),I.error("Erro ao garantir perfil do usurio"),null):(d(g),g)}catch(S){return console.error("Erro inesperado ensureUserProfile:",S),null}},v=async()=>{if(t)try{const{data:S,error:g}=await W.from("user_profiles").select("*").eq("id",t.id).single();return g?await y():(d(S),S)}catch{return await y()}};C.useEffect(()=>{(async()=>{if(t){if(f(!0),await v(),e==="share"){const{data:g}=await W.from("advertisements").select("*").eq("active",!0);o(g||[])}if(e==="rewards"){const{data:g}=await W.from("rewards").select("*").eq("active",!0).order("points_required",{ascending:!0});s(g||[])}if(e==="history"){const{data:g}=await W.from("user_rewards").select("*, rewards(name)").eq("user_id",t.id).order("created_at",{ascending:!1});c(g||[])}f(!1)}})()},[e,t]);const j=async S=>{if(!t){I.error("Voc precisa estar logado para compartilhar");return}try{await y();const g=`Oi! Encontrei uma oferta incrvel: ${S.name}
${(S.category||"").slice(0,140)}

 WhatsApp: ${S.whatsapp||"No informado"}
 Site: ${S.link||"No disponvel"}

 Compartilhado por mim via Sistema Inteligente`;S.whatsapp?window.open(`https://wa.me/${S.whatsapp.replace(/\D/g,"")}?text=${encodeURIComponent(g)}`,"_blank"):S.link&&window.open(S.link,"_blank");const{error:m}=await W.from("share_tracking").insert({user_id:t.id,advertisement_id:S.id,share_type:S.whatsapp?"whatsapp":"link",points_earned:10});if(m){console.error("Erro insert share_tracking:",m),I.error("Erro ao registrar compartilhamento");return}await W.rpc("increment_user_points",{user_id_input:t.id,points_to_add:10});const{count:p,error:_}=await W.from("share_tracking").select("*",{count:"exact",head:!0}).eq("user_id",t.id);!_&&p>=3&&(await W.from("user_profiles").update({plan:"premium",premium_until:new Date(Date.now()+30*24*60*60*1e3).toISOString()}).eq("id",t.id),I.success(" Parabns! Sua conta agora  Premium.")),await v(),I.success(" +10 pontos! Compartilhamento registrado!")}catch(g){console.error("Erro handleShare:",g),I.error("Erro inesperado ao compartilhar")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4 border-b pb-2",children:[a.jsx("button",{onClick:()=>r("share"),className:e==="share"?"font-bold text-blue-600":"",children:" Compartilhar"}),a.jsx("button",{onClick:()=>r("rewards"),className:e==="rewards"?"font-bold text-blue-600":"",children:" Recompensas"}),a.jsx("button",{onClick:()=>r("history"),className:e==="history"?"font-bold text-blue-600":"",children:" Histrico"}),a.jsx("button",{onClick:()=>r("earnings"),className:e==="earnings"?"font-bold text-blue-600":"",children:" Ganhos"})]}),e==="share"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(S=>a.jsxs("div",{className:"border rounded-xl overflow-hidden hover:shadow-lg",children:[a.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-48 object-cover"}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:S.name}),a.jsxs("button",{onClick:()=>j(S),className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 mt-4",children:[a.jsx(Xs,{className:"h-4 w-4"}),a.jsx("span",{children:"Compartilhar (+10 pts)"})]})]})]},S.id))}),e==="earnings"&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-4",children:"Resumo Financeiro"}),a.jsxs("p",{children:["Total de pontos: ",(u==null?void 0:u.points)??0]}),a.jsxs("p",{children:["Saldo em R$: R$"," ",(((u==null?void 0:u.points)??0)*.05).toFixed(2)]}),a.jsxs("p",{children:["Status da conta:"," ",(u==null?void 0:u.plan)==="premium"?` Premium at ${new Date((u==null?void 0:u.premium_until)||"").toLocaleDateString()}`:"Conta Grtis"]})]})]})};function Px(){const{user:t,updateUser:e}=$t(),[r,n]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(null),[c,u]=C.useState(""),[d,h]=C.useState({name:"",dosage:"",frequency:"daily",times:["08:00"],startDate:new Date().toISOString().split("T")[0],endDate:"",notes:""});C.useEffect(()=>{t&&f()},[t]);const f=()=>{if(!t)return;const x=Z.getMedications(t.id);n(x)},y=x=>{if(x.preventDefault(),!t)return;const R={id:(o==null?void 0:o.id)||`med_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:t.id,name:d.name,dosage:d.dosage,frequency:d.frequency,times:d.times,startDate:d.startDate,endDate:d.endDate||void 0,notes:d.notes||void 0,completed:(o==null?void 0:o.completed)||!1};Z.saveMedication(R),f(),g(),I.success(o?"Medicamento atualizado!":"Medicamento adicionado!")},v=x=>{l(x),h({name:x.name,dosage:x.dosage,frequency:x.frequency,times:x.times,startDate:x.startDate,endDate:x.endDate||"",notes:x.notes||""}),i(!0)},j=x=>{confirm("Tem certeza que deseja excluir este medicamento?")&&(Z.deleteMedication(x),f(),I.success("Medicamento excludo!"))},S=x=>{const R={...x,completed:!x.completed};Z.saveMedication(R),f(),x.completed||(e({points:((t==null?void 0:t.points)||0)+15}),I.success("+15 pontos! Medicamento tomado!"))},g=()=>{h({name:"",dosage:"",frequency:"daily",times:["08:00"],startDate:new Date().toISOString().split("T")[0],endDate:"",notes:""}),l(null),i(!1)},m=()=>{h(x=>({...x,times:[...x.times,"12:00"]}))},p=x=>{h(R=>({...R,times:R.times.filter((D,k)=>k!==x)}))},_=(x,R)=>{h(D=>({...D,times:D.times.map((k,F)=>F===x?R:k)}))},P=r.filter(x=>x.name.toLowerCase().includes(c.toLowerCase())||x.dosage.toLowerCase().includes(c.toLowerCase())),E=P.filter(x=>!x.endDate||new Date(x.endDate)>=new Date),w=P.filter(x=>x.endDate&&new Date(x.endDate)<new Date);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicamentos"}),a.jsx("p",{className:"text-gray-600",children:"Gerencie seus medicamentos e horrios"})]}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ci,{className:"h-5 w-5"}),a.jsx("span",{children:"Adicionar Medicamento"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Pf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar medicamentos...",value:c,onChange:x=>u(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Medicamentos Ativos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.length})]}),a.jsx(Ei,{className:"h-8 w-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Prximas Doses"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.reduce((x,R)=>x+R.times.length,0)})]}),a.jsx(ss,{className:"h-8 w-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Tratamentos Concludos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]}),a.jsx(Un,{className:"h-8 w-8 text-purple-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Medicamentos Ativos"}),E.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ei,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nenhum medicamento ativo"})]}):a.jsx("div",{className:"space-y-4",children:E.map(x=>a.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:x.name}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:x.dosage})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(He,{className:"h-4 w-4"}),a.jsxs("span",{children:["Frequncia: ",x.frequency==="daily"?"Dirio":x.frequency]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ss,{className:"h-4 w-4"}),a.jsxs("span",{children:["Horrios: ",x.times.join(", ")]})]})]}),x.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2 italic",children:x.notes}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:x.times.map((R,D)=>a.jsxs("button",{onClick:()=>S(x),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${x.completed?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:[R," ",x.completed?"":""]},D))})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>v(x),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(is,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>j(x.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(Yr,{className:"h-4 w-4"})})]})]})},x.id))})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:o?"Editar Medicamento":"Novo Medicamento"}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Medicamento *"}),a.jsx("input",{type:"text",required:!0,value:d.name,onChange:x=>h(R=>({...R,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Paracetamol"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosagem *"}),a.jsx("input",{type:"text",required:!0,value:d.dosage,onChange:x=>h(R=>({...R,dosage:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 500mg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequncia *"}),a.jsxs("select",{required:!0,value:d.frequency,onChange:x=>h(R=>({...R,frequency:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"daily",children:"Dirio"}),a.jsx("option",{value:"weekly",children:"Semanal"}),a.jsx("option",{value:"monthly",children:"Mensal"}),a.jsx("option",{value:"as-needed",children:"Conforme necessrio"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horrios"}),a.jsxs("div",{className:"space-y-2",children:[d.times.map((x,R)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"time",value:x,onChange:D=>_(R,D.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.times.length>1&&a.jsx("button",{type:"button",onClick:()=>p(R),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:a.jsx(Yr,{className:"h-4 w-4"})})]},R)),a.jsx("button",{type:"button",onClick:m,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Adicionar Horrio"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Incio *"}),a.jsx("input",{type:"date",required:!0,value:d.startDate,onChange:x=>h(R=>({...R,startDate:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Fim (opcional)"}),a.jsx("input",{type:"date",value:d.endDate,onChange:x=>h(R=>({...R,endDate:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),a.jsx("textarea",{value:d.notes,onChange:x=>h(R=>({...R,notes:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Observaes sobre o medicamento..."})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Atualizar":"Adicionar"," Medicamento"]}),a.jsx("button",{type:"button",onClick:g,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})})]})}function $x(){const{user:t,updateUser:e}=$t(),[r,n]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(null),[c,u]=C.useState(""),[d,h]=C.useState("all"),[f,y]=C.useState({type:"medical",title:"",date:new Date().toISOString().split("T")[0],time:"09:00",location:"",notes:"",recurring:!1,recurringFrequency:"weekly",recurringInterval:1});C.useEffect(()=>{t&&v()},[t]);const v=()=>{if(!t)return;const k=Z.getAppointments(t.id);n(k)},j=k=>{if(k.preventDefault(),!t)return;const F={id:(o==null?void 0:o.id)||`app_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:t.id,type:f.type,title:f.title,date:f.date,time:f.time,location:f.location||void 0,notes:f.notes||void 0,completed:(o==null?void 0:o.completed)||!1,recurring:f.recurring?{frequency:f.recurringFrequency,interval:f.recurringInterval}:void 0};Z.saveAppointment(F),v(),p(),I.success(o?"Compromisso atualizado!":"Compromisso adicionado!")},S=k=>{var F,Te;l(k),y({type:k.type,title:k.title,date:k.date,time:k.time,location:k.location||"",notes:k.notes||"",recurring:!!k.recurring,recurringFrequency:((F=k.recurring)==null?void 0:F.frequency)||"weekly",recurringInterval:((Te=k.recurring)==null?void 0:Te.interval)||1}),i(!0)},g=k=>{confirm("Tem certeza que deseja excluir este compromisso?")&&(Z.deleteAppointment(k),v(),I.success("Compromisso excludo!"))},m=k=>{const F={...k,completed:!k.completed};Z.saveAppointment(F),v(),k.completed||(e({points:((t==null?void 0:t.points)||0)+25}),I.success("+25 pontos! Compromisso concludo!"))},p=()=>{y({type:"medical",title:"",date:new Date().toISOString().split("T")[0],time:"09:00",location:"",notes:"",recurring:!1,recurringFrequency:"weekly",recurringInterval:1}),l(null),i(!1)},_=k=>{switch(k){case"medical":return mx;case"dental":return qa;case"psychology":return _v;case"physiotherapy":return qa;case"school":return Pu;case"study":return Pu;default:return He}},P=k=>{switch(k){case"medical":return"bg-red-100 text-red-700";case"dental":return"bg-blue-100 text-blue-700";case"psychology":return"bg-purple-100 text-purple-700";case"physiotherapy":return"bg-green-100 text-green-700";case"school":return"bg-yellow-100 text-yellow-700";case"study":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},E=k=>{switch(k){case"medical":return"Mdico";case"dental":return"Dentista";case"psychology":return"Psiclogo";case"physiotherapy":return"Fisioterapia";case"school":return"Escola";case"study":return"Estudo";default:return k}},w=r.filter(k=>{var ht;const F=k.title.toLowerCase().includes(c.toLowerCase())||((ht=k.location)==null?void 0:ht.toLowerCase().includes(c.toLowerCase())),Te=d==="all"||k.type===d;return F&&Te}),x=w.filter(k=>new Date(`${k.date}T${k.time}`)>=new Date&&!k.completed),R=w.filter(k=>new Date(`${k.date}T${k.time}`)<new Date||k.completed),D=[{value:"all",label:"Todos"},{value:"medical",label:"Mdico"},{value:"dental",label:"Dentista"},{value:"psychology",label:"Psiclogo"},{value:"physiotherapy",label:"Fisioterapia"},{value:"school",label:"Escola"},{value:"study",label:"Estudo"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Compromissos"}),a.jsx("p",{className:"text-gray-600",children:"Gerencie consultas, estudos e compromissos"})]}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ci,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Compromisso"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Pf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar compromissos...",value:c,onChange:k=>u(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Rv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("select",{value:d,onChange:k=>h(k.target.value),className:"pl-10 pr-8 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:D.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Prximos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),a.jsx(He,{className:"h-8 w-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Hoje"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(k=>k.date===new Date().toISOString().split("T")[0]).length})]}),a.jsx(ss,{className:"h-8 w-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Concludos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R.length})]}),a.jsx(Un,{className:"h-8 w-8 text-purple-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Este Ms"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(k=>new Date(k.date).getMonth()===new Date().getMonth()).length})]}),a.jsx(He,{className:"h-8 w-8 text-yellow-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prximos Compromissos"}),x.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(He,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nenhum compromisso prximo"})]}):a.jsx("div",{className:"space-y-4",children:x.map(k=>{const F=_(k.type);return a.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(F,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:k.title}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P(k.type)}`,children:E(k.type)}),k.recurring&&a.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Recorrente"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(He,{className:"h-4 w-4"}),a.jsx("span",{children:new Date(k.date).toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ss,{className:"h-4 w-4"}),a.jsx("span",{children:k.time})]}),k.location&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tf,{className:"h-4 w-4"}),a.jsx("span",{children:k.location})]})]}),k.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2 italic",children:k.notes}),a.jsx("div",{className:"flex items-center space-x-4 mt-3",children:a.jsx("button",{onClick:()=>m(k),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${k.completed?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:k.completed?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"h-4 w-4 inline mr-1"}),"Concludo"]}):"Marcar como Concludo"})})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>S(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(is,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>g(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(Yr,{className:"h-4 w-4"})})]})]})},k.id)})})]}),R.length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Histrico"}),a.jsx("div",{className:"space-y-3",children:R.slice(0,5).map(k=>{const F=_(k.type);return a.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-gray-200 rounded-lg",children:a.jsx(F,{className:"h-4 w-4 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:k.title}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P(k.type)}`,children:E(k.type)}),k.completed&&a.jsx(Un,{className:"h-4 w-4 text-green-600"})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(k.date).toLocaleDateString("pt-BR")," s ",k.time]})]})]},k.id)})})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:o?"Editar Compromisso":"Novo Compromisso"}),a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Compromisso *"}),a.jsxs("select",{required:!0,value:f.type,onChange:k=>y(F=>({...F,type:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"medical",children:"Consulta Mdica"}),a.jsx("option",{value:"dental",children:"Consulta Odontolgica"}),a.jsx("option",{value:"psychology",children:"Consulta Psicolgica"}),a.jsx("option",{value:"physiotherapy",children:"Fisioterapia"}),a.jsx("option",{value:"school",children:"Compromisso Escolar"}),a.jsx("option",{value:"study",children:"Horrio de Estudo"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo *"}),a.jsx("input",{type:"text",required:!0,value:f.title,onChange:k=>y(F=>({...F,title:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Consulta com Dr. Silva"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),a.jsx("input",{type:"date",required:!0,value:f.date,onChange:k=>y(F=>({...F,date:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horrio *"}),a.jsx("input",{type:"time",required:!0,value:f.time,onChange:k=>y(F=>({...F,time:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local"}),a.jsx("input",{type:"text",value:f.location,onChange:k=>y(F=>({...F,location:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Hospital So Lucas, Sala 205"})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:f.recurring,onChange:k=>y(F=>({...F,recurring:k.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Compromisso recorrente"})]})}),f.recurring&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequncia"}),a.jsxs("select",{value:f.recurringFrequency,onChange:k=>y(F=>({...F,recurringFrequency:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"daily",children:"Dirio"}),a.jsx("option",{value:"weekly",children:"Semanal"}),a.jsx("option",{value:"monthly",children:"Mensal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intervalo"}),a.jsx("input",{type:"number",min:"1",value:f.recurringInterval,onChange:k=>y(F=>({...F,recurringInterval:parseInt(k.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),a.jsx("textarea",{value:f.notes,onChange:k=>y(F=>({...F,notes:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Observaes sobre o compromisso..."})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Atualizar":"Adicionar"," Compromisso"]}),a.jsx("button",{type:"button",onClick:p,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})})]})}function Ax(){var P,E;const{user:t,updateUser:e}=$t(),[r,n]=C.useState(!1),[s,i]=C.useState({name:(t==null?void 0:t.name)||"",age:(t==null?void 0:t.age)||25,weight:(t==null?void 0:t.profile.weight)||70,height:(t==null?void 0:t.profile.height)||170,activityLevel:(t==null?void 0:t.profile.activityLevel)||"moderate",healthGoals:(t==null?void 0:t.profile.healthGoals)||[],allergies:(t==null?void 0:t.profile.allergies)||[],medications:(t==null?void 0:t.profile.medications)||[],exerciseTypes:(t==null?void 0:t.profile.preferences.exerciseTypes)||[],dietType:(t==null?void 0:t.profile.preferences.dietType)||"balanced",notifications:(t==null?void 0:t.profile.preferences.notifications)||!0}),[o,l]=C.useState(""),[c,u]=C.useState("");C.useState("");const[d,h]=C.useState(""),f=()=>{if(!t)return;const w={...t,name:s.name,age:s.age,profile:{...t.profile,weight:s.weight,height:s.height,activityLevel:s.activityLevel,healthGoals:s.healthGoals,allergies:s.allergies,medications:s.medications,preferences:{...t.profile.preferences,exerciseTypes:s.exerciseTypes,dietType:s.dietType,notifications:s.notifications}}};e(w),n(!1),I.success("Perfil atualizado com sucesso!")},y=(w,x,R)=>{x.trim()&&(i(D=>({...D,[w]:[...D[w],x.trim()]})),R(""))},v=(w,x)=>{i(R=>({...R,[w]:R[w].filter((D,k)=>k!==x)}))},j=()=>{const w=s.height/100;return(s.weight/(w*w)).toFixed(1)},S=w=>w<18.5?{label:"Abaixo do peso",color:"text-blue-600"}:w<25?{label:"Peso normal",color:"text-green-600"}:w<30?{label:"Sobrepeso",color:"text-yellow-600"}:{label:"Obesidade",color:"text-red-600"},g=parseFloat(j()),m=S(g),p=[{value:"low",label:"Baixo",description:"Pouco ou nenhum exerccio"},{value:"moderate",label:"Moderado",description:"Exerccio 1-3 vezes por semana"},{value:"high",label:"Alto",description:"Exerccio 4+ vezes por semana"}],_=[{value:"balanced",label:"Balanceada"},{value:"vegetarian",label:"Vegetariana"},{value:"vegan",label:"Vegana"},{value:"keto",label:"Cetognica"},{value:"mediterranean",label:"Mediterrnea"},{value:"low-carb",label:"Low Carb"}];return t?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Perfil"}),a.jsx("p",{className:"text-gray-600",children:"Gerencie suas informaes pessoais e preferncias"})]}),a.jsx("div",{className:"flex space-x-3",children:r?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:f,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(lx,{className:"h-5 w-5"}),a.jsx("span",{children:"Salvar"})]}),a.jsx("button",{onClick:()=>n(!1),className:"flex items-center space-x-2 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]}):a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(is,{className:"h-5 w-5"}),a.jsx("span",{children:"Editar Perfil"})]})})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"h-20 w-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:a.jsx($i,{className:"h-10 w-10"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-1",children:t.name}),a.jsx("p",{className:"text-blue-100 mb-2",children:t.email}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Eu,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:t.plan==="premium"?"Premium":"Gratuito"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pi,{className:"h-5 w-5"}),a.jsxs("span",{className:"font-medium",children:[t.points," pontos"]})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx($i,{className:"h-5 w-5"}),a.jsx("span",{children:"Informaes Pessoais"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome"}),r?a.jsx("input",{type:"text",value:s.name,onChange:w=>i(x=>({...x,name:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):a.jsx("p",{className:"text-gray-900",children:t.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wl,{className:"h-4 w-4 text-gray-400"}),a.jsx("p",{className:"text-gray-900",children:t.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Idade"}),r?a.jsx("input",{type:"number",min:"1",max:"120",value:s.age,onChange:w=>i(x=>({...x,age:parseInt(w.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):a.jsxs("p",{className:"text-gray-900",children:[t.age," anos"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso (kg)"}),r?a.jsx("input",{type:"number",min:"1",value:s.weight,onChange:w=>i(x=>({...x,weight:parseFloat(w.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):a.jsxs("p",{className:"text-gray-900",children:[t.profile.weight," kg"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Altura (cm)"}),r?a.jsx("input",{type:"number",min:"1",value:s.height,onChange:w=>i(x=>({...x,height:parseFloat(w.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):a.jsxs("p",{className:"text-gray-900",children:[t.profile.height," cm"]})]})]}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"IMC"}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-lg font-bold text-gray-900",children:j()}),a.jsx("p",{className:`text-sm ${m.color}`,children:m.label})]})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(Ni,{className:"h-5 w-5"}),a.jsx("span",{children:"Perfil de Sade"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nvel de Atividade"}),r?a.jsx("select",{value:s.activityLevel,onChange:w=>i(x=>({...x,activityLevel:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:p.map(w=>a.jsxs("option",{value:w.value,children:[w.label," - ",w.description]},w.value))}):a.jsx("p",{className:"text-gray-900",children:(P=p.find(w=>w.value===t.profile.activityLevel))==null?void 0:P.label})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Dieta"}),r?a.jsx("select",{value:s.dietType,onChange:w=>i(x=>({...x,dietType:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:_.map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))}):a.jsx("p",{className:"text-gray-900",children:(E=_.find(w=>w.value===t.profile.preferences.dietType))==null?void 0:E.label})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objetivos de Sade"}),r?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Adicionar objetivo...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),y("healthGoals",o,l))}}),a.jsx("button",{type:"button",onClick:()=>y("healthGoals",o,l),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"+"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.healthGoals.map((w,x)=>a.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:[a.jsx("span",{children:w}),a.jsx("button",{onClick:()=>v("healthGoals",x),className:"text-green-600 hover:text-green-800",children:""})]},x))})]}):a.jsx("div",{className:"flex flex-wrap gap-2",children:t.profile.healthGoals.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum objetivo definido"}):t.profile.healthGoals.map((w,x)=>a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:w},x))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alergias"}),r?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:c,onChange:w=>u(w.target.value),placeholder:"Adicionar alergia...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),y("allergies",c,u))}}),a.jsx("button",{type:"button",onClick:()=>y("allergies",c,u),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"+"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.allergies.map((w,x)=>a.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:[a.jsx("span",{children:w}),a.jsx("button",{onClick:()=>v("allergies",x),className:"text-red-600 hover:text-red-800",children:""})]},x))})]}):a.jsx("div",{className:"flex flex-wrap gap-2",children:t.profile.allergies.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma alergia registrada"}):t.profile.allergies.map((w,x)=>a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:w},x))})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(Vl,{className:"h-5 w-5"}),a.jsx("span",{children:"Preferncias"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipos de Exerccio Preferidos"}),r?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:d,onChange:w=>h(w.target.value),placeholder:"Ex: Caminhada, Natao...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),y("exerciseTypes",d,h))}}),a.jsx("button",{type:"button",onClick:()=>y("exerciseTypes",d,h),className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"+"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.exerciseTypes.map((w,x)=>a.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:[a.jsx("span",{children:w}),a.jsx("button",{onClick:()=>v("exerciseTypes",x),className:"text-purple-600 hover:text-purple-800",children:""})]},x))})]}):a.jsx("div",{className:"flex flex-wrap gap-2",children:t.profile.preferences.exerciseTypes.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma preferncia definida"}):t.profile.preferences.exerciseTypes.map((w,x)=>a.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:w},x))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notificaes"}),r?a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:s.notifications,onChange:w=>i(x=>({...x,notifications:w.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Receber notificaes"})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ti,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-900",children:t.profile.preferences.notifications?"Ativadas":"Desativadas"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatsticas da Conta"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(He,{className:"h-8 w-8 text-blue-600"})}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.points}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pontos Totais"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(Pi,{className:"h-8 w-8 text-green-600"})}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.floor((new Date().getTime()-new Date(t.createdAt).getTime())/(1e3*60*60*24))}),a.jsx("p",{className:"text-sm text-gray-600",children:"Dias no App"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-16 w-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(Eu,{className:"h-8 w-8 text-purple-600"})}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.plan==="premium"?t.premiumDays:0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Dias Premium"})]})]})]})]}):null}function Ox(){const{user:t,updateUser:e}=$t(),[r,n]=C.useState({notifications:(t==null?void 0:t.profile.preferences.notifications)||!0,emailNotifications:!0,pushNotifications:!0,soundEnabled:!0,darkMode:!1,autoBackup:!0,dataSharing:!1,reminderTime:"08:00"}),[s,i]=C.useState(!1),o=(d,h)=>{n(f=>({...f,[d]:h})),d==="notifications"&&t&&e({profile:{...t.profile,preferences:{...t.profile.preferences,notifications:h}}}),I.success("Configurao atualizada!")},l=()=>{if(!t)return;const d={profile:t,medications:JSON.parse(localStorage.getItem("healthSystem_medications")||"[]"),appointments:JSON.parse(localStorage.getItem("healthSystem_appointments")||"[]"),activities:JSON.parse(localStorage.getItem("healthSystem_activities")||"[]"),recommendations:JSON.parse(localStorage.getItem("healthSystem_recommendations")||"[]")},h=JSON.stringify(d,null,2),f=new Blob([h],{type:"application/json"}),y=URL.createObjectURL(f),v=document.createElement("a");v.href=y,v.download=`healthlife-backup-${new Date().toISOString().split("T")[0]}.json`,v.click(),URL.revokeObjectURL(y),I.success("Dados exportados com sucesso!")},c=()=>{t&&(localStorage.removeItem("healthSystem_medications"),localStorage.removeItem("healthSystem_appointments"),localStorage.removeItem("healthSystem_activities"),localStorage.removeItem("healthSystem_recommendations"),localStorage.removeItem(`shareCount_${t.id}`),e({points:0}),i(!1),I.success("Todos os dados foram removidos!"))},u=[{title:"Notificaes",icon:Nf,settings:[{key:"notifications",label:"Notificaes Gerais",description:"Receber lembretes e alertas do sistema",type:"toggle"},{key:"emailNotifications",label:"Notificaes por Email",description:"Receber emails sobre compromissos importantes",type:"toggle"},{key:"pushNotifications",label:"Notificaes Push",description:"Receber notificaes no dispositivo",type:"toggle"},{key:"soundEnabled",label:"Sons de Notificao",description:"Reproduzir sons para alertas",type:"toggle"}]},{title:"Aparncia",icon:ex,settings:[{key:"darkMode",label:"Modo Escuro",description:"Usar tema escuro para reduzir cansao visual",type:"toggle"}]},{title:"Privacidade e Dados",icon:Ti,settings:[{key:"autoBackup",label:"Backup Automtico",description:"Fazer backup automtico dos seus dados",type:"toggle"},{key:"dataSharing",label:"Compartilhamento de Dados",description:"Permitir uso annimo de dados para melhorias",type:"toggle"}]}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraes"}),a.jsx("p",{className:"text-gray-600",children:"Personalize sua experincia no HealthLife"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(Ti,{className:"h-5 w-5"}),a.jsx("span",{children:"Informaes da Conta"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Wl,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),a.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.email})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Cf,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Plano"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"font-medium text-gray-900",children:(t==null?void 0:t.plan)==="premium"?"Premium":"Gratuito"}),(t==null?void 0:t.plan)==="premium"&&a.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:[t.premiumDays," dias restantes"]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Pi,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pontos Totais"}),a.jsx("p",{className:"font-medium text-gray-900",children:(t==null?void 0:t.points)||0})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Vl,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Membro desde"}),a.jsx("p",{className:"font-medium text-gray-900",children:t?new Date(t.createdAt).toLocaleDateString("pt-BR"):""})]})]})]})]})]}),u.map(d=>{const h=d.icon;return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(h,{className:"h-5 w-5"}),a.jsx("span",{children:d.title})]}),a.jsx("div",{className:"space-y-4",children:d.settings.map(f=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:f.label}),a.jsx("p",{className:"text-sm text-gray-600",children:f.description})]}),f.type==="toggle"&&a.jsx("button",{onClick:()=>o(f.key,!r[f.key]),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r[f.key]?"bg-blue-600":"bg-gray-200"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r[f.key]?"translate-x-6":"translate-x-1"}`})})]},f.key))})]},d.title)}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(Ef,{className:"h-5 w-5"}),a.jsx("span",{children:"Gerenciamento de Dados"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Exportar Dados"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Baixar uma cpia de todos os seus dados"})]}),a.jsx("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Exportar"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-900",children:"Limpar Todos os Dados"}),a.jsx("p",{className:"text-sm text-red-600",children:"Remover permanentemente todos os dados locais"})]}),a.jsx("button",{onClick:()=>i(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Limpar Dados"})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(vx,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Confirmar Excluso"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Esta ao ir remover permanentemente todos os seus dados locais. Esta ao no pode ser desfeita."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>i(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:c,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar Excluso"})]})]})})})]})}function Rx(){const{user:t,loading:e,isAdmin:r}=$t(),[n,s]=C.useState("dashboard");if(e)return a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Carregando Rotina inteligente..."})]})});if(!t)return a.jsx(Sx,{});const i=()=>{try{switch(n){case"dashboard":return a.jsx(Lo,{});case"medications":return a.jsx(Px,{});case"appointments":return a.jsx($x,{});case"rewards":return a.jsx(Tx,{});case"profile":return a.jsx(Ax,{});case"settings":return a.jsx(Ox,{});case"admin":return r?a.jsx(Cx,{}):a.jsx(Lo,{});default:return a.jsx(Lo,{})}}catch(o){return console.error("Erro ao renderizar contedo:",o),a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Erro ao carregar pgina"}),a.jsx("p",{className:"text-gray-600",children:"Tente recarregar a pgina ou selecionar outra aba."}),a.jsx("button",{onClick:()=>s("dashboard"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar ao Dashboard"})]})}};return a.jsx(kx,{activeTab:n,onTabChange:s,children:i()})}function Ix(){try{return a.jsxs(hv,{children:[a.jsx(Rx,{}),a.jsx(W0,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}catch(t){return console.error("Erro crtico na aplicao:",t),a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Erro na Aplicao"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado. Tente recarregar a pgina."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Recarregar Pgina"})]})})}}function Dx({children:t}){try{return a.jsx(a.Fragment,{children:t})}catch(e){return console.error("Erro na aplicao:",e),a.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[a.jsx("h1",{children:"Erro na aplicao"}),a.jsx("p",{children:"Verifique o console para mais detalhes"})]})}}const Ou=document.getElementById("root");Ou?Vh(Ou).render(a.jsx(C.StrictMode,{children:a.jsx(Dx,{children:a.jsx(Ix,{})})})):console.error("Elemento root no encontrado");
