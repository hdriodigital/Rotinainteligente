(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $f(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Au={exports:{}},Pi={},Ru={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),Of=Symbol.for("react.portal"),Af=Symbol.for("react.fragment"),Rf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),Lf=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),zf=Symbol.for("react.memo"),Ff=Symbol.for("react.lazy"),Jl=Symbol.iterator;function Bf(t){return t===null||typeof t!="object"?null:(t=Jl&&t[Jl]||t["@@iterator"],typeof t=="function"?t:null)}var Iu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Du=Object.assign,Lu={};function ln(t,e,r){this.props=t,this.context=e,this.refs=Lu,this.updater=r||Iu}ln.prototype.isReactComponent={};ln.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ln.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mu(){}Mu.prototype=ln.prototype;function qa(t,e,r){this.props=t,this.context=e,this.refs=Lu,this.updater=r||Iu}var Ha=qa.prototype=new Mu;Ha.constructor=qa;Du(Ha,ln.prototype);Ha.isPureReactComponent=!0;var Ql=Array.isArray,Uu=Object.prototype.hasOwnProperty,Wa={current:null},zu={key:!0,ref:!0,__self:!0,__source:!0};function Fu(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Uu.call(e,n)&&!zu.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:os,type:t,key:i,ref:o,props:s,_owner:Wa.current}}function qf(t,e){return{$$typeof:os,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Va(t){return typeof t=="object"&&t!==null&&t.$$typeof===os}function Hf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Yl=/\/+/g;function to(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hf(""+t.key):e.toString(36)}function Ms(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case os:case Of:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+to(o,0):n,Ql(s)?(r="",t!=null&&(r=t.replace(Yl,"$&/")+"/"),Ms(s,e,r,"",function(u){return u})):s!=null&&(Va(s)&&(s=qf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Ql(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+to(i,l);o+=Ms(i,e,r,c,s)}else if(c=Bf(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+to(i,l++),o+=Ms(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(t,e,r){if(t==null)return t;var n=[],s=0;return Ms(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Wf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ne={current:null},Us={transition:null},Vf={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Us,ReactCurrentOwner:Wa};function Bu(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:gs,forEach:function(t,e,r){gs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gs(t,function(){e++}),e},toArray:function(t){return gs(t,function(e){return e})||[]},only:function(t){if(!Va(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=ln;H.Fragment=Af;H.Profiler=If;H.PureComponent=qa;H.StrictMode=Rf;H.Suspense=Uf;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vf;H.act=Bu;H.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Du({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Uu.call(e,c)&&!zu.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:os,type:t.type,key:s,ref:i,props:n,_owner:o}};H.createContext=function(t){return t={$$typeof:Lf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Df,_context:t},t.Consumer=t};H.createElement=Fu;H.createFactory=function(t){var e=Fu.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:Mf,render:t}};H.isValidElement=Va;H.lazy=function(t){return{$$typeof:Ff,_payload:{_status:-1,_result:t},_init:Wf}};H.memo=function(t,e){return{$$typeof:zf,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Us.transition;Us.transition={};try{t()}finally{Us.transition=e}};H.unstable_act=Bu;H.useCallback=function(t,e){return Ne.current.useCallback(t,e)};H.useContext=function(t){return Ne.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Ne.current.useDeferredValue(t)};H.useEffect=function(t,e){return Ne.current.useEffect(t,e)};H.useId=function(){return Ne.current.useId()};H.useImperativeHandle=function(t,e,r){return Ne.current.useImperativeHandle(t,e,r)};H.useInsertionEffect=function(t,e){return Ne.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Ne.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Ne.current.useMemo(t,e)};H.useReducer=function(t,e,r){return Ne.current.useReducer(t,e,r)};H.useRef=function(t){return Ne.current.useRef(t)};H.useState=function(t){return Ne.current.useState(t)};H.useSyncExternalStore=function(t,e,r){return Ne.current.useSyncExternalStore(t,e,r)};H.useTransition=function(){return Ne.current.useTransition()};H.version="18.3.1";Ru.exports=H;var C=Ru.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=C,Gf=Symbol.for("react.element"),Jf=Symbol.for("react.fragment"),Qf=Object.prototype.hasOwnProperty,Yf=Kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xf={key:!0,ref:!0,__self:!0,__source:!0};function qu(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Qf.call(e,n)&&!Xf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Gf,type:t,key:i,ref:o,props:s,_owner:Yf.current}}Pi.Fragment=Jf;Pi.jsx=qu;Pi.jsxs=qu;Au.exports=Pi;var a=Au.exports,Hu={exports:{}},Ue={},Wu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,M){var S=O.length;O.push(M);e:for(;0<S;){var D=S-1>>>1,B=O[D];if(0<s(B,M))O[D]=M,O[S]=B,S=D;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var M=O[0],S=O.pop();if(S!==M){O[0]=S;e:for(var D=0,B=O.length,Re=B>>>1;D<Re;){var fe=2*(D+1)-1,ht=O[fe],ft=fe+1,j=O[ft];if(0>s(ht,S))ft<B&&0>s(j,ht)?(O[D]=j,O[ft]=S,D=ft):(O[D]=ht,O[fe]=S,D=fe);else if(ft<B&&0>s(j,S))O[D]=j,O[ft]=S,D=ft;else break e}}return M}function s(O,M){var S=O.sortIndex-M.sortIndex;return S!==0?S:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,y=!1,v=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=O)n(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=r(u)}}function _(O){if(b=!1,g(O),!v)if(r(c)!==null)v=!0,nr(E);else{var M=r(u);M!==null&&sr(_,M.startTime-O)}}function E(O,M){v=!1,b&&(b=!1,p(x),x=-1),y=!0;var S=f;try{for(g(M),h=r(c);h!==null&&(!(h.expirationTime>M)||O&&!k());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var B=D(h.expirationTime<=M);M=t.unstable_now(),typeof B=="function"?h.callback=B:h===r(c)&&n(c),g(M)}else n(c);h=r(c)}if(h!==null)var Re=!0;else{var fe=r(u);fe!==null&&sr(_,fe.startTime-M),Re=!1}return Re}finally{h=null,f=S,y=!1}}var N=!1,w=null,x=-1,I=5,L=-1;function k(){return!(t.unstable_now()-L<I)}function U(){if(w!==null){var O=t.unstable_now();L=O;var M=!0;try{M=w(!0,O)}finally{M?be():(N=!1,w=null)}}else N=!1}var be;if(typeof m=="function")be=function(){m(U)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,kr=dt.port2;dt.port1.onmessage=U,be=function(){kr.postMessage(null)}}else be=function(){P(U,0)};function nr(O){w=O,N||(N=!0,be())}function sr(O,M){x=P(function(){O(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,nr(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var S=f;f=M;try{return O()}finally{f=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var S=f;f=O;try{return M()}finally{f=S}},t.unstable_scheduleCallback=function(O,M,S){var D=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?D+S:D):S=D,O){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=S+B,O={id:d++,callback:M,priorityLevel:O,startTime:S,expirationTime:B,sortIndex:-1},S>D?(O.sortIndex=S,e(u,O),r(c)===null&&O===r(u)&&(b?(p(x),x=-1):b=!0,sr(_,S-D))):(O.sortIndex=B,e(c,O),v||y||(v=!0,nr(E))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var M=f;return function(){var S=f;f=M;try{return O.apply(this,arguments)}finally{f=S}}}})(Vu);Wu.exports=Vu;var Zf=Wu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=C,Me=Zf;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ku=new Set,zn={};function _r(t,e){Zr(t,e),Zr(t+"Capture",e)}function Zr(t,e){for(zn[t]=e,t=0;t<e.length;t++)Ku.add(e[t])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=Object.prototype.hasOwnProperty,tp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xl={},Zl={};function rp(t){return Lo.call(Zl,t)?!0:Lo.call(Xl,t)?!1:tp.test(t)?Zl[t]=!0:(Xl[t]=!0,!1)}function np(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sp(t,e,r,n){if(e===null||typeof e>"u"||np(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ka=/[\-:]([a-z])/g;function Ga(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ka,Ga);ye[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ka,Ga);ye[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ka,Ga);ye[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ja(t,e,r,n){var s=ye.hasOwnProperty(e)?ye[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sp(e,r,s,n)&&(r=null),n||s===null?rp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Tt=ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),Qa=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),Gu=Symbol.for("react.provider"),Ju=Symbol.for("react.context"),Ya=Symbol.for("react.forward_ref"),Uo=Symbol.for("react.suspense"),zo=Symbol.for("react.suspense_list"),Xa=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Qu=Symbol.for("react.offscreen"),ec=Symbol.iterator;function fn(t){return t===null||typeof t!="object"?null:(t=ec&&t[ec]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,ro;function bn(t){if(ro===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ro=e&&e[1]||""}return`
`+ro+t}var no=!1;function so(t,e){if(!t||no)return"";no=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{no=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bn(t):""}function ip(t){switch(t.tag){case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 2:case 15:return t=so(t.type,!1),t;case 11:return t=so(t.type.render,!1),t;case 1:return t=so(t.type,!0),t;default:return""}}function Fo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ir:return"Fragment";case Rr:return"Portal";case Mo:return"Profiler";case Qa:return"StrictMode";case Uo:return"Suspense";case zo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ju:return(t.displayName||"Context")+".Consumer";case Gu:return(t._context.displayName||"Context")+".Provider";case Ya:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xa:return e=t.displayName||null,e!==null?e:Fo(t.type)||"Memo";case Rt:e=t._payload,t=t._init;try{return Fo(t(e))}catch{}}return null}function op(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fo(e);case 8:return e===Qa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ap(t){var e=Yu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vs(t){t._valueTracker||(t._valueTracker=ap(t))}function Xu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Yu(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bo(t,e){var r=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function tc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zu(t,e){e=e.checked,e!=null&&Ja(t,"checked",e,!1)}function qo(t,e){Zu(t,e);var r=Qt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ho(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ho(t,e.type,Qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ho(t,e,r){(e!=="number"||Ys(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var jn=Array.isArray;function Vr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Wo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(jn(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qt(r)}}function ed(t,e){var r=Qt(e.value),n=Qt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function td(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?td(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xs,rd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lp=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(t){lp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),En[e]=En[t]})});function nd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||En.hasOwnProperty(t)&&En[t]?(""+e).trim():e+"px"}function sd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=nd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var cp=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(t,e){if(e){if(cp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Go(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function Za(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qo=null,Kr=null,Gr=null;function ic(t){if(t=cs(t)){if(typeof Qo!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Ii(e),Qo(t.stateNode,t.type,e))}}function id(t){Kr?Gr?Gr.push(t):Gr=[t]:Kr=t}function od(){if(Kr){var t=Kr,e=Gr;if(Gr=Kr=null,ic(t),e)for(t=0;t<e.length;t++)ic(e[t])}}function ad(t,e){return t(e)}function ld(){}var io=!1;function cd(t,e,r){if(io)return t(e,r);io=!0;try{return ad(t,e,r)}finally{io=!1,(Kr!==null||Gr!==null)&&(ld(),od())}}function Bn(t,e){var r=t.stateNode;if(r===null)return null;var n=Ii(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var Yo=!1;if(kt)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{Yo=!1}function up(t,e,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Cn=!1,Xs=null,Zs=!1,Xo=null,dp={onError:function(t){Cn=!0,Xs=t}};function hp(t,e,r,n,s,i,o,l,c){Cn=!1,Xs=null,up.apply(dp,arguments)}function fp(t,e,r,n,s,i,o,l,c){if(hp.apply(this,arguments),Cn){if(Cn){var u=Xs;Cn=!1,Xs=null}else throw Error(T(198));Zs||(Zs=!0,Xo=u)}}function br(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ud(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oc(t){if(br(t)!==t)throw Error(T(188))}function pp(t){var e=t.alternate;if(!e){if(e=br(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return oc(s),t;if(i===n)return oc(s),e;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function dd(t){return t=pp(t),t!==null?hd(t):null}function hd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hd(t);if(e!==null)return e;t=t.sibling}return null}var fd=Me.unstable_scheduleCallback,ac=Me.unstable_cancelCallback,mp=Me.unstable_shouldYield,gp=Me.unstable_requestPaint,se=Me.unstable_now,yp=Me.unstable_getCurrentPriorityLevel,el=Me.unstable_ImmediatePriority,pd=Me.unstable_UserBlockingPriority,ei=Me.unstable_NormalPriority,vp=Me.unstable_LowPriority,md=Me.unstable_IdlePriority,$i=null,ct=null;function xp(t){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot($i,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:bp,wp=Math.log,_p=Math.LN2;function bp(t){return t>>>=0,t===0?32:31-(wp(t)/_p|0)|0}var ws=64,_s=4194304;function kn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ti(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=kn(l):(i&=o,i!==0&&(n=kn(i)))}else o=r&~s,o!==0?n=kn(o):i!==0&&(n=kn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-tt(e),s=1<<r,n|=t[r],e&=~s;return n}function jp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tt(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=jp(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Zo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gd(){var t=ws;return ws<<=1,!(ws&4194240)&&(ws=64),t}function oo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function as(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=r}function Sp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-tt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function tl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-tt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var K=0;function yd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vd,rl,xd,wd,_d,ea=!1,bs=[],Bt=null,qt=null,Ht=null,qn=new Map,Hn=new Map,Dt=[],Np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lc(t,e){switch(t){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":qn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(e.pointerId)}}function mn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cs(e),e!==null&&rl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ep(t,e,r,n,s){switch(e){case"focusin":return Bt=mn(Bt,t,e,r,n,s),!0;case"dragenter":return qt=mn(qt,t,e,r,n,s),!0;case"mouseover":return Ht=mn(Ht,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return qn.set(i,mn(qn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Hn.set(i,mn(Hn.get(i)||null,t,e,r,n,s)),!0}return!1}function bd(t){var e=dr(t.target);if(e!==null){var r=br(e);if(r!==null){if(e=r.tag,e===13){if(e=ud(r),e!==null){t.blockedOn=e,_d(t.priority,function(){xd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ta(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Jo=n,r.target.dispatchEvent(n),Jo=null}else return e=cs(r),e!==null&&rl(e),t.blockedOn=r,!1;e.shift()}return!0}function cc(t,e,r){zs(t)&&r.delete(e)}function Cp(){ea=!1,Bt!==null&&zs(Bt)&&(Bt=null),qt!==null&&zs(qt)&&(qt=null),Ht!==null&&zs(Ht)&&(Ht=null),qn.forEach(cc),Hn.forEach(cc)}function gn(t,e){t.blockedOn===e&&(t.blockedOn=null,ea||(ea=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,Cp)))}function Wn(t){function e(s){return gn(s,t)}if(0<bs.length){gn(bs[0],t);for(var r=1;r<bs.length;r++){var n=bs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Bt!==null&&gn(Bt,t),qt!==null&&gn(qt,t),Ht!==null&&gn(Ht,t),qn.forEach(e),Hn.forEach(e),r=0;r<Dt.length;r++)n=Dt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Dt.length&&(r=Dt[0],r.blockedOn===null);)bd(r),r.blockedOn===null&&Dt.shift()}var Jr=Tt.ReactCurrentBatchConfig,ri=!0;function Tp(t,e,r,n){var s=K,i=Jr.transition;Jr.transition=null;try{K=1,nl(t,e,r,n)}finally{K=s,Jr.transition=i}}function Pp(t,e,r,n){var s=K,i=Jr.transition;Jr.transition=null;try{K=4,nl(t,e,r,n)}finally{K=s,Jr.transition=i}}function nl(t,e,r,n){if(ri){var s=ta(t,e,r,n);if(s===null)yo(t,e,n,ni,r),lc(t,n);else if(Ep(s,t,e,r,n))n.stopPropagation();else if(lc(t,n),e&4&&-1<Np.indexOf(t)){for(;s!==null;){var i=cs(s);if(i!==null&&vd(i),i=ta(t,e,r,n),i===null&&yo(t,e,n,ni,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else yo(t,e,n,null,r)}}var ni=null;function ta(t,e,r,n){if(ni=null,t=Za(n),t=dr(t),t!==null)if(e=br(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ud(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ni=t,null}function jd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yp()){case el:return 1;case pd:return 4;case ei:case vp:return 16;case md:return 536870912;default:return 16}default:return 16}}var zt=null,sl=null,Fs=null;function kd(){if(Fs)return Fs;var t,e=sl,r=e.length,n,s="value"in zt?zt.value:zt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Fs=s.slice(t,1<n?1-n:void 0)}function Bs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function js(){return!0}function uc(){return!1}function ze(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?js:uc,this.isPropagationStopped=uc,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),e}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=ze(cn),ls=re({},cn,{view:0,detail:0}),$p=ze(ls),ao,lo,yn,Oi=re({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ol,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yn&&(yn&&t.type==="mousemove"?(ao=t.screenX-yn.screenX,lo=t.screenY-yn.screenY):lo=ao=0,yn=t),ao)},movementY:function(t){return"movementY"in t?t.movementY:lo}}),dc=ze(Oi),Op=re({},Oi,{dataTransfer:0}),Ap=ze(Op),Rp=re({},ls,{relatedTarget:0}),co=ze(Rp),Ip=re({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dp=ze(Ip),Lp=re({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mp=ze(Lp),Up=re({},cn,{data:0}),hc=ze(Up),zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bp[t])?!!e[t]:!1}function ol(){return qp}var Hp=re({},ls,{key:function(t){if(t.key){var e=zp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ol,charCode:function(t){return t.type==="keypress"?Bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wp=ze(Hp),Vp=re({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=ze(Vp),Kp=re({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ol}),Gp=ze(Kp),Jp=re({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=ze(Jp),Yp=re({},Oi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=ze(Yp),Zp=[9,13,27,32],al=kt&&"CompositionEvent"in window,Tn=null;kt&&"documentMode"in document&&(Tn=document.documentMode);var em=kt&&"TextEvent"in window&&!Tn,Sd=kt&&(!al||Tn&&8<Tn&&11>=Tn),pc=" ",mc=!1;function Nd(t,e){switch(t){case"keyup":return Zp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function tm(t,e){switch(t){case"compositionend":return Ed(e);case"keypress":return e.which!==32?null:(mc=!0,pc);case"textInput":return t=e.data,t===pc&&mc?null:t;default:return null}}function rm(t,e){if(Dr)return t==="compositionend"||!al&&Nd(t,e)?(t=kd(),Fs=sl=zt=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sd&&e.locale!=="ko"?null:e.data;default:return null}}var nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nm[t.type]:e==="textarea"}function Cd(t,e,r,n){id(n),e=si(e,"onChange"),0<e.length&&(r=new il("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pn=null,Vn=null;function sm(t){Ud(t,0)}function Ai(t){var e=Ur(t);if(Xu(e))return t}function im(t,e){if(t==="change")return e}var Td=!1;if(kt){var uo;if(kt){var ho="oninput"in document;if(!ho){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),ho=typeof yc.oninput=="function"}uo=ho}else uo=!1;Td=uo&&(!document.documentMode||9<document.documentMode)}function vc(){Pn&&(Pn.detachEvent("onpropertychange",Pd),Vn=Pn=null)}function Pd(t){if(t.propertyName==="value"&&Ai(Vn)){var e=[];Cd(e,Vn,t,Za(t)),cd(sm,e)}}function om(t,e,r){t==="focusin"?(vc(),Pn=e,Vn=r,Pn.attachEvent("onpropertychange",Pd)):t==="focusout"&&vc()}function am(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ai(Vn)}function lm(t,e){if(t==="click")return Ai(e)}function cm(t,e){if(t==="input"||t==="change")return Ai(e)}function um(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nt=typeof Object.is=="function"?Object.is:um;function Kn(t,e){if(nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Lo.call(e,s)||!nt(t[s],e[s]))return!1}return!0}function xc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wc(t,e){var r=xc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xc(r)}}function $d(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$d(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Od(){for(var t=window,e=Ys();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ys(t.document)}return e}function ll(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dm(t){var e=Od(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&$d(r.ownerDocument.documentElement,r)){if(n!==null&&ll(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=wc(r,i);var o=wc(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hm=kt&&"documentMode"in document&&11>=document.documentMode,Lr=null,ra=null,$n=null,na=!1;function _c(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;na||Lr==null||Lr!==Ys(n)||(n=Lr,"selectionStart"in n&&ll(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$n&&Kn($n,n)||($n=n,n=si(ra,"onSelect"),0<n.length&&(e=new il("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Lr)))}function ks(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},fo={},Ad={};kt&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ri(t){if(fo[t])return fo[t];if(!Mr[t])return t;var e=Mr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Ad)return fo[t]=e[r];return t}var Rd=Ri("animationend"),Id=Ri("animationiteration"),Dd=Ri("animationstart"),Ld=Ri("transitionend"),Md=new Map,bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(t,e){Md.set(t,e),_r(e,[t])}for(var po=0;po<bc.length;po++){var mo=bc[po],fm=mo.toLowerCase(),pm=mo[0].toUpperCase()+mo.slice(1);Xt(fm,"on"+pm)}Xt(Rd,"onAnimationEnd");Xt(Id,"onAnimationIteration");Xt(Dd,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(Ld,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sn));function jc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,fp(n,e,void 0,t),t.currentTarget=null}function Ud(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;jc(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;jc(s,l,u),i=c}}}if(Zs)throw t=Xo,Zs=!1,Xo=null,t}function Q(t,e){var r=e[la];r===void 0&&(r=e[la]=new Set);var n=t+"__bubble";r.has(n)||(zd(e,t,2,!1),r.add(n))}function go(t,e,r){var n=0;e&&(n|=4),zd(r,t,n,e)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Gn(t){if(!t[Ss]){t[Ss]=!0,Ku.forEach(function(r){r!=="selectionchange"&&(mm.has(r)||go(r,!1,t),go(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ss]||(e[Ss]=!0,go("selectionchange",!1,e))}}function zd(t,e,r,n){switch(jd(e)){case 1:var s=Tp;break;case 4:s=Pp;break;default:s=nl}r=s.bind(null,e,r,t),s=void 0,!Yo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function yo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=dr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}cd(function(){var u=i,d=Za(r),h=[];e:{var f=Md.get(t);if(f!==void 0){var y=il,v=t;switch(t){case"keypress":if(Bs(r)===0)break e;case"keydown":case"keyup":y=Wp;break;case"focusin":v="focus",y=co;break;case"focusout":v="blur",y=co;break;case"beforeblur":case"afterblur":y=co;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Gp;break;case Rd:case Id:case Dd:y=Dp;break;case Ld:y=Qp;break;case"scroll":y=$p;break;case"wheel":y=Xp;break;case"copy":case"cut":case"paste":y=Mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=fc}var b=(e&4)!==0,P=!b&&t==="scroll",p=b?f!==null?f+"Capture":null:f;b=[];for(var m=u,g;m!==null;){g=m;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,p!==null&&(_=Bn(m,p),_!=null&&b.push(Jn(m,_,g)))),P)break;m=m.return}0<b.length&&(f=new y(f,v,null,r,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==Jo&&(v=r.relatedTarget||r.fromElement)&&(dr(v)||v[St]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?dr(v):null,v!==null&&(P=br(v),v!==P||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=dc,_="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(b=fc,_="onPointerLeave",p="onPointerEnter",m="pointer"),P=y==null?f:Ur(y),g=v==null?f:Ur(v),f=new b(_,m+"leave",y,r,d),f.target=P,f.relatedTarget=g,_=null,dr(d)===u&&(b=new b(p,m+"enter",v,r,d),b.target=g,b.relatedTarget=P,_=b),P=_,y&&v)t:{for(b=y,p=v,m=0,g=b;g;g=Nr(g))m++;for(g=0,_=p;_;_=Nr(_))g++;for(;0<m-g;)b=Nr(b),m--;for(;0<g-m;)p=Nr(p),g--;for(;m--;){if(b===p||p!==null&&b===p.alternate)break t;b=Nr(b),p=Nr(p)}b=null}else b=null;y!==null&&kc(h,f,y,b,!1),v!==null&&P!==null&&kc(h,P,v,b,!0)}}e:{if(f=u?Ur(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var E=im;else if(gc(f))if(Td)E=cm;else{E=am;var N=om}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=lm);if(E&&(E=E(t,u))){Cd(h,E,r,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ho(f,"number",f.value)}switch(N=u?Ur(u):window,t){case"focusin":(gc(N)||N.contentEditable==="true")&&(Lr=N,ra=u,$n=null);break;case"focusout":$n=ra=Lr=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,_c(h,r,d);break;case"selectionchange":if(hm)break;case"keydown":case"keyup":_c(h,r,d)}var w;if(al)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Dr?Nd(t,r)&&(x="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(Sd&&r.locale!=="ko"&&(Dr||x!=="onCompositionStart"?x==="onCompositionEnd"&&Dr&&(w=kd()):(zt=d,sl="value"in zt?zt.value:zt.textContent,Dr=!0)),N=si(u,x),0<N.length&&(x=new hc(x,t,null,r,d),h.push({event:x,listeners:N}),w?x.data=w:(w=Ed(r),w!==null&&(x.data=w)))),(w=em?tm(t,r):rm(t,r))&&(u=si(u,"onBeforeInput"),0<u.length&&(d=new hc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=w))}Ud(h,e)})}function Jn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function si(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bn(t,r),i!=null&&n.unshift(Jn(t,i,s)),i=Bn(t,e),i!=null&&n.push(Jn(t,i,s))),t=t.return}return n}function Nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kc(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Bn(r,i),c!=null&&o.unshift(Jn(r,c,l))):s||(c=Bn(r,i),c!=null&&o.push(Jn(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var gm=/\r\n?/g,ym=/\u0000|\uFFFD/g;function Sc(t){return(typeof t=="string"?t:""+t).replace(gm,`
`).replace(ym,"")}function Ns(t,e,r){if(e=Sc(e),Sc(t)!==e&&r)throw Error(T(425))}function ii(){}var sa=null,ia=null;function oa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aa=typeof setTimeout=="function"?setTimeout:void 0,vm=typeof clearTimeout=="function"?clearTimeout:void 0,Nc=typeof Promise=="function"?Promise:void 0,xm=typeof queueMicrotask=="function"?queueMicrotask:typeof Nc<"u"?function(t){return Nc.resolve(null).then(t).catch(wm)}:aa;function wm(t){setTimeout(function(){throw t})}function vo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Wn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wn(e)}function Wt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ec(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var un=Math.random().toString(36).slice(2),at="__reactFiber$"+un,Qn="__reactProps$"+un,St="__reactContainer$"+un,la="__reactEvents$"+un,_m="__reactListeners$"+un,bm="__reactHandles$"+un;function dr(t){var e=t[at];if(e)return e;for(var r=t.parentNode;r;){if(e=r[St]||r[at]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ec(t);t!==null;){if(r=t[at])return r;t=Ec(t)}return e}t=r,r=t.parentNode}return null}function cs(t){return t=t[at]||t[St],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Ii(t){return t[Qn]||null}var ca=[],zr=-1;function Zt(t){return{current:t}}function Y(t){0>zr||(t.current=ca[zr],ca[zr]=null,zr--)}function J(t,e){zr++,ca[zr]=t.current,t.current=e}var Yt={},_e=Zt(Yt),$e=Zt(!1),gr=Yt;function en(t,e){var r=t.type.contextTypes;if(!r)return Yt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function oi(){Y($e),Y(_e)}function Cc(t,e,r){if(_e.current!==Yt)throw Error(T(168));J(_e,e),J($e,r)}function Fd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(T(108,op(t)||"Unknown",s));return re({},r,n)}function ai(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yt,gr=_e.current,J(_e,t),J($e,$e.current),!0}function Tc(t,e,r){var n=t.stateNode;if(!n)throw Error(T(169));r?(t=Fd(t,e,gr),n.__reactInternalMemoizedMergedChildContext=t,Y($e),Y(_e),J(_e,t)):Y($e),J($e,r)}var wt=null,Di=!1,xo=!1;function Bd(t){wt===null?wt=[t]:wt.push(t)}function jm(t){Di=!0,Bd(t)}function er(){if(!xo&&wt!==null){xo=!0;var t=0,e=K;try{var r=wt;for(K=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}wt=null,Di=!1}catch(s){throw wt!==null&&(wt=wt.slice(t+1)),fd(el,er),s}finally{K=e,xo=!1}}return null}var Fr=[],Br=0,li=null,ci=0,Fe=[],Be=0,yr=null,_t=1,bt="";function ar(t,e){Fr[Br++]=ci,Fr[Br++]=li,li=t,ci=e}function qd(t,e,r){Fe[Be++]=_t,Fe[Be++]=bt,Fe[Be++]=yr,yr=t;var n=_t;t=bt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var i=32-tt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_t=1<<32-tt(e)+s|r<<s|n,bt=i+t}else _t=1<<i|r<<s|n,bt=t}function cl(t){t.return!==null&&(ar(t,1),qd(t,1,0))}function ul(t){for(;t===li;)li=Fr[--Br],Fr[Br]=null,ci=Fr[--Br],Fr[Br]=null;for(;t===yr;)yr=Fe[--Be],Fe[Be]=null,bt=Fe[--Be],Fe[Be]=null,_t=Fe[--Be],Fe[Be]=null}var Le=null,De=null,Z=!1,et=null;function Hd(t,e){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Pc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,De=Wt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,De=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yr!==null?{id:_t,overflow:bt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Le=t,De=null,!0):!1;default:return!1}}function ua(t){return(t.mode&1)!==0&&(t.flags&128)===0}function da(t){if(Z){var e=De;if(e){var r=e;if(!Pc(t,e)){if(ua(t))throw Error(T(418));e=Wt(r.nextSibling);var n=Le;e&&Pc(t,e)?Hd(n,r):(t.flags=t.flags&-4097|2,Z=!1,Le=t)}}else{if(ua(t))throw Error(T(418));t.flags=t.flags&-4097|2,Z=!1,Le=t}}}function $c(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function Es(t){if(t!==Le)return!1;if(!Z)return $c(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oa(t.type,t.memoizedProps)),e&&(e=De)){if(ua(t))throw Wd(),Error(T(418));for(;e;)Hd(t,e),e=Wt(e.nextSibling)}if($c(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){De=Wt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}De=null}}else De=Le?Wt(t.stateNode.nextSibling):null;return!0}function Wd(){for(var t=De;t;)t=Wt(t.nextSibling)}function tn(){De=Le=null,Z=!1}function dl(t){et===null?et=[t]:et.push(t)}var km=Tt.ReactCurrentBatchConfig;function vn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function Cs(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Oc(t){var e=t._init;return e(t._payload)}function Vd(t){function e(p,m){if(t){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Jt(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,_){return m===null||m.tag!==6?(m=No(g,p.mode,_),m.return=p,m):(m=s(m,g),m.return=p,m)}function c(p,m,g,_){var E=g.type;return E===Ir?d(p,m,g.props.children,_,g.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rt&&Oc(E)===m.type)?(_=s(m,g.props),_.ref=vn(p,m,g),_.return=p,_):(_=Js(g.type,g.key,g.props,null,p.mode,_),_.ref=vn(p,m,g),_.return=p,_)}function u(p,m,g,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Eo(g,p.mode,_),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,_,E){return m===null||m.tag!==7?(m=mr(g,p.mode,_,E),m.return=p,m):(m=s(m,g),m.return=p,m)}function h(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=No(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ys:return g=Js(m.type,m.key,m.props,null,p.mode,g),g.ref=vn(p,null,m),g.return=p,g;case Rr:return m=Eo(m,p.mode,g),m.return=p,m;case Rt:var _=m._init;return h(p,_(m._payload),g)}if(jn(m)||fn(m))return m=mr(m,p.mode,g,null),m.return=p,m;Cs(p,m)}return null}function f(p,m,g,_){var E=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(p,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ys:return g.key===E?c(p,m,g,_):null;case Rr:return g.key===E?u(p,m,g,_):null;case Rt:return E=g._init,f(p,m,E(g._payload),_)}if(jn(g)||fn(g))return E!==null?null:d(p,m,g,_,null);Cs(p,g)}return null}function y(p,m,g,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(g)||null,l(m,p,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ys:return p=p.get(_.key===null?g:_.key)||null,c(m,p,_,E);case Rr:return p=p.get(_.key===null?g:_.key)||null,u(m,p,_,E);case Rt:var N=_._init;return y(p,m,g,N(_._payload),E)}if(jn(_)||fn(_))return p=p.get(g)||null,d(m,p,_,E,null);Cs(m,_)}return null}function v(p,m,g,_){for(var E=null,N=null,w=m,x=m=0,I=null;w!==null&&x<g.length;x++){w.index>x?(I=w,w=null):I=w.sibling;var L=f(p,w,g[x],_);if(L===null){w===null&&(w=I);break}t&&w&&L.alternate===null&&e(p,w),m=i(L,m,x),N===null?E=L:N.sibling=L,N=L,w=I}if(x===g.length)return r(p,w),Z&&ar(p,x),E;if(w===null){for(;x<g.length;x++)w=h(p,g[x],_),w!==null&&(m=i(w,m,x),N===null?E=w:N.sibling=w,N=w);return Z&&ar(p,x),E}for(w=n(p,w);x<g.length;x++)I=y(w,p,x,g[x],_),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?x:I.key),m=i(I,m,x),N===null?E=I:N.sibling=I,N=I);return t&&w.forEach(function(k){return e(p,k)}),Z&&ar(p,x),E}function b(p,m,g,_){var E=fn(g);if(typeof E!="function")throw Error(T(150));if(g=E.call(g),g==null)throw Error(T(151));for(var N=E=null,w=m,x=m=0,I=null,L=g.next();w!==null&&!L.done;x++,L=g.next()){w.index>x?(I=w,w=null):I=w.sibling;var k=f(p,w,L.value,_);if(k===null){w===null&&(w=I);break}t&&w&&k.alternate===null&&e(p,w),m=i(k,m,x),N===null?E=k:N.sibling=k,N=k,w=I}if(L.done)return r(p,w),Z&&ar(p,x),E;if(w===null){for(;!L.done;x++,L=g.next())L=h(p,L.value,_),L!==null&&(m=i(L,m,x),N===null?E=L:N.sibling=L,N=L);return Z&&ar(p,x),E}for(w=n(p,w);!L.done;x++,L=g.next())L=y(w,p,x,L.value,_),L!==null&&(t&&L.alternate!==null&&w.delete(L.key===null?x:L.key),m=i(L,m,x),N===null?E=L:N.sibling=L,N=L);return t&&w.forEach(function(U){return e(p,U)}),Z&&ar(p,x),E}function P(p,m,g,_){if(typeof g=="object"&&g!==null&&g.type===Ir&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ys:e:{for(var E=g.key,N=m;N!==null;){if(N.key===E){if(E=g.type,E===Ir){if(N.tag===7){r(p,N.sibling),m=s(N,g.props.children),m.return=p,p=m;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rt&&Oc(E)===N.type){r(p,N.sibling),m=s(N,g.props),m.ref=vn(p,N,g),m.return=p,p=m;break e}r(p,N);break}else e(p,N);N=N.sibling}g.type===Ir?(m=mr(g.props.children,p.mode,_,g.key),m.return=p,p=m):(_=Js(g.type,g.key,g.props,null,p.mode,_),_.ref=vn(p,m,g),_.return=p,p=_)}return o(p);case Rr:e:{for(N=g.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else e(p,m);m=m.sibling}m=Eo(g,p.mode,_),m.return=p,p=m}return o(p);case Rt:return N=g._init,P(p,m,N(g._payload),_)}if(jn(g))return v(p,m,g,_);if(fn(g))return b(p,m,g,_);Cs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,g),m.return=p,p=m):(r(p,m),m=No(g,p.mode,_),m.return=p,p=m),o(p)):r(p,m)}return P}var rn=Vd(!0),Kd=Vd(!1),ui=Zt(null),di=null,qr=null,hl=null;function fl(){hl=qr=di=null}function pl(t){var e=ui.current;Y(ui),t._currentValue=e}function ha(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Qr(t,e){di=t,hl=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function Ke(t){var e=t._currentValue;if(hl!==t)if(t={context:t,memoizedValue:e,next:null},qr===null){if(di===null)throw Error(T(308));qr=t,di.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return e}var hr=null;function ml(t){hr===null?hr=[t]:hr.push(t)}function Gd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,ml(e)):(r.next=s.next,s.next=r),e.interleaved=r,Nt(t,n)}function Nt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var It=!1;function gl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Nt(t,r)}return s=n.interleaved,s===null?(e.next=e,ml(n)):(e.next=s.next,s.next=e),n.interleaved=e,Nt(t,r)}function qs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tl(t,r)}}function Ac(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function hi(t,e,r,n){var s=t.updateQueue;It=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,b=l;switch(f=e,y=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=re({},h,f);break e;case 2:It=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xr|=o,t.lanes=o,t.memoizedState=h}}function Rc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var us={},ut=Zt(us),Yn=Zt(us),Xn=Zt(us);function fr(t){if(t===us)throw Error(T(174));return t}function yl(t,e){switch(J(Xn,e),J(Yn,t),J(ut,us),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vo(e,t)}Y(ut),J(ut,e)}function nn(){Y(ut),Y(Yn),Y(Xn)}function Qd(t){fr(Xn.current);var e=fr(ut.current),r=Vo(e,t.type);e!==r&&(J(Yn,t),J(ut,r))}function vl(t){Yn.current===t&&(Y(ut),Y(Yn))}var ee=Zt(0);function fi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wo=[];function xl(){for(var t=0;t<wo.length;t++)wo[t]._workInProgressVersionPrimary=null;wo.length=0}var Hs=Tt.ReactCurrentDispatcher,_o=Tt.ReactCurrentBatchConfig,vr=0,te=null,le=null,de=null,pi=!1,On=!1,Zn=0,Sm=0;function ve(){throw Error(T(321))}function wl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!nt(t[r],e[r]))return!1;return!0}function _l(t,e,r,n,s,i){if(vr=i,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hs.current=t===null||t.memoizedState===null?Tm:Pm,t=r(n,s),On){i=0;do{if(On=!1,Zn=0,25<=i)throw Error(T(301));i+=1,de=le=null,e.updateQueue=null,Hs.current=$m,t=r(n,s)}while(On)}if(Hs.current=mi,e=le!==null&&le.next!==null,vr=0,de=le=te=null,pi=!1,e)throw Error(T(300));return t}function bl(){var t=Zn!==0;return Zn=0,t}function it(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?te.memoizedState=de=t:de=de.next=t,de}function Ge(){if(le===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=de===null?te.memoizedState:de.next;if(e!==null)de=e,le=t;else{if(t===null)throw Error(T(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},de===null?te.memoizedState=de=t:de=de.next=t}return de}function es(t,e){return typeof e=="function"?e(t):e}function bo(t){var e=Ge(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=le,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((vr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,te.lanes|=d,xr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,nt(n,e.memoizedState)||(Pe=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,te.lanes|=i,xr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function jo(t){var e=Ge(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);nt(i,e.memoizedState)||(Pe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Yd(){}function Xd(t,e){var r=te,n=Ge(),s=e(),i=!nt(n.memoizedState,s);if(i&&(n.memoizedState=s,Pe=!0),n=n.queue,jl(th.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||de!==null&&de.memoizedState.tag&1){if(r.flags|=2048,ts(9,eh.bind(null,r,n,s,e),void 0,null),he===null)throw Error(T(349));vr&30||Zd(r,e,s)}return s}function Zd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function eh(t,e,r,n){e.value=r,e.getSnapshot=n,rh(e)&&nh(t)}function th(t,e,r){return r(function(){rh(e)&&nh(t)})}function rh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!nt(t,r)}catch{return!0}}function nh(t){var e=Nt(t,1);e!==null&&rt(e,t,1,-1)}function Ic(t){var e=it();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},e.queue=t,t=t.dispatch=Cm.bind(null,te,t),[e.memoizedState,t]}function ts(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function sh(){return Ge().memoizedState}function Ws(t,e,r,n){var s=it();te.flags|=t,s.memoizedState=ts(1|e,r,void 0,n===void 0?null:n)}function Li(t,e,r,n){var s=Ge();n=n===void 0?null:n;var i=void 0;if(le!==null){var o=le.memoizedState;if(i=o.destroy,n!==null&&wl(n,o.deps)){s.memoizedState=ts(e,r,i,n);return}}te.flags|=t,s.memoizedState=ts(1|e,r,i,n)}function Dc(t,e){return Ws(8390656,8,t,e)}function jl(t,e){return Li(2048,8,t,e)}function ih(t,e){return Li(4,2,t,e)}function oh(t,e){return Li(4,4,t,e)}function ah(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lh(t,e,r){return r=r!=null?r.concat([t]):null,Li(4,4,ah.bind(null,e,t),r)}function kl(){}function ch(t,e){var r=Ge();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function uh(t,e){var r=Ge();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function dh(t,e,r){return vr&21?(nt(r,e)||(r=gd(),te.lanes|=r,xr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=r)}function Nm(t,e){var r=K;K=r!==0&&4>r?r:4,t(!0);var n=_o.transition;_o.transition={};try{t(!1),e()}finally{K=r,_o.transition=n}}function hh(){return Ge().memoizedState}function Em(t,e,r){var n=Gt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fh(t))ph(e,r);else if(r=Gd(t,e,r,n),r!==null){var s=Se();rt(r,t,n,s),mh(r,e,n)}}function Cm(t,e,r){var n=Gt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fh(t))ph(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,nt(l,o)){var c=e.interleaved;c===null?(s.next=s,ml(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Gd(t,e,s,n),r!==null&&(s=Se(),rt(r,t,n,s),mh(r,e,n))}}function fh(t){var e=t.alternate;return t===te||e!==null&&e===te}function ph(t,e){On=pi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function mh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tl(t,r)}}var mi={readContext:Ke,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Tm={readContext:Ke,useCallback:function(t,e){return it().memoizedState=[t,e===void 0?null:e],t},useContext:Ke,useEffect:Dc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ws(4194308,4,ah.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ws(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ws(4,2,t,e)},useMemo:function(t,e){var r=it();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=it();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Em.bind(null,te,t),[n.memoizedState,t]},useRef:function(t){var e=it();return t={current:t},e.memoizedState=t},useState:Ic,useDebugValue:kl,useDeferredValue:function(t){return it().memoizedState=t},useTransition:function(){var t=Ic(!1),e=t[0];return t=Nm.bind(null,t[1]),it().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=te,s=it();if(Z){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),he===null)throw Error(T(349));vr&30||Zd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Dc(th.bind(null,n,i,t),[t]),n.flags|=2048,ts(9,eh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=it(),e=he.identifierPrefix;if(Z){var r=bt,n=_t;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Sm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pm={readContext:Ke,useCallback:ch,useContext:Ke,useEffect:jl,useImperativeHandle:lh,useInsertionEffect:ih,useLayoutEffect:oh,useMemo:uh,useReducer:bo,useRef:sh,useState:function(){return bo(es)},useDebugValue:kl,useDeferredValue:function(t){var e=Ge();return dh(e,le.memoizedState,t)},useTransition:function(){var t=bo(es)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Yd,useSyncExternalStore:Xd,useId:hh,unstable_isNewReconciler:!1},$m={readContext:Ke,useCallback:ch,useContext:Ke,useEffect:jl,useImperativeHandle:lh,useInsertionEffect:ih,useLayoutEffect:oh,useMemo:uh,useReducer:jo,useRef:sh,useState:function(){return jo(es)},useDebugValue:kl,useDeferredValue:function(t){var e=Ge();return le===null?e.memoizedState=t:dh(e,le.memoizedState,t)},useTransition:function(){var t=jo(es)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:Yd,useSyncExternalStore:Xd,useId:hh,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:re({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mi={isMounted:function(t){return(t=t._reactInternals)?br(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Se(),s=Gt(t),i=jt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Vt(t,i,s),e!==null&&(rt(e,t,s,n),qs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Se(),s=Gt(t),i=jt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Vt(t,i,s),e!==null&&(rt(e,t,s,n),qs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Se(),n=Gt(t),s=jt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Vt(t,s,n),e!==null&&(rt(e,t,n,r),qs(e,t,n))}};function Lc(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kn(r,n)||!Kn(s,i):!0}function gh(t,e,r){var n=!1,s=Yt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Oe(e)?gr:_e.current,n=e.contextTypes,i=(n=n!=null)?en(t,s):Yt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Mc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Mi.enqueueReplaceState(e,e.state,null)}function pa(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},gl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Oe(e)?gr:_e.current,s.context=en(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fa(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mi.enqueueReplaceState(s,s.state,null),hi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sn(t,e){try{var r="",n=e;do r+=ip(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ko(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ma(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Om=typeof WeakMap=="function"?WeakMap:Map;function yh(t,e,r){r=jt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){yi||(yi=!0,Sa=n),ma(t,e)},r}function vh(t,e,r){r=jt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ma(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ma(t,e),typeof n!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Uc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Om;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Vm.bind(null,t,e,r),e.then(t,t))}function zc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=jt(-1,1),e.tag=2,Vt(r,e,1))),r.lanes|=1),t)}var Am=Tt.ReactCurrentOwner,Pe=!1;function ke(t,e,r,n){e.child=t===null?Kd(e,null,r,n):rn(e,t.child,r,n)}function Bc(t,e,r,n,s){r=r.render;var i=e.ref;return Qr(e,s),n=_l(t,e,r,n,i,s),r=bl(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(Z&&r&&cl(e),e.flags|=1,ke(t,e,n,s),e.child)}function qc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Ol(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,xh(t,e,i,n,s)):(t=Js(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Kn,r(o,n)&&t.ref===e.ref)return Et(t,e,s)}return e.flags|=1,t=Jt(i,n),t.ref=e.ref,t.return=e,e.child=t}function xh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Kn(i,n)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,Et(t,e,s)}return ga(t,e,r,n,s)}function wh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Wr,Ie),Ie|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(Wr,Ie),Ie|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(Wr,Ie),Ie|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,J(Wr,Ie),Ie|=n;return ke(t,e,s,r),e.child}function _h(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ga(t,e,r,n,s){var i=Oe(r)?gr:_e.current;return i=en(e,i),Qr(e,s),r=_l(t,e,r,n,i,s),n=bl(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(Z&&n&&cl(e),e.flags|=1,ke(t,e,r,s),e.child)}function Hc(t,e,r,n,s){if(Oe(r)){var i=!0;ai(e)}else i=!1;if(Qr(e,s),e.stateNode===null)Vs(t,e),gh(e,r,n),pa(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Oe(r)?gr:_e.current,u=en(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Mc(e,o,n,u),It=!1;var f=e.memoizedState;o.state=f,hi(e,n,o,s),c=e.memoizedState,l!==n||f!==c||$e.current||It?(typeof d=="function"&&(fa(e,r,d,n),c=e.memoizedState),(l=It||Lc(e,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Jd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ye(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ke(c):(c=Oe(r)?gr:_e.current,c=en(e,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Mc(e,o,n,c),It=!1,f=e.memoizedState,o.state=f,hi(e,n,o,s);var v=e.memoizedState;l!==h||f!==v||$e.current||It?(typeof y=="function"&&(fa(e,r,y,n),v=e.memoizedState),(u=It||Lc(e,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return ya(t,e,r,n,i,s)}function ya(t,e,r,n,s,i){_h(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Tc(e,r,!1),Et(t,e,i);n=e.stateNode,Am.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=rn(e,t.child,null,i),e.child=rn(e,null,l,i)):ke(t,e,l,i),e.memoizedState=n.state,s&&Tc(e,r,!0),e.child}function bh(t){var e=t.stateNode;e.pendingContext?Cc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cc(t,e.context,!1),yl(t,e.containerInfo)}function Wc(t,e,r,n,s){return tn(),dl(s),e.flags|=256,ke(t,e,r,n),e.child}var va={dehydrated:null,treeContext:null,retryLane:0};function xa(t){return{baseLanes:t,cachePool:null,transitions:null}}function jh(t,e,r){var n=e.pendingProps,s=ee.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),J(ee,s&1),t===null)return da(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fi(o,n,0,null),t=mr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xa(r),e.memoizedState=va,t):Sl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Rm(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Jt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jt(l,i):(i=mr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?xa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=va,n}return i=t.child,t=i.sibling,n=Jt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Sl(t,e){return e=Fi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ts(t,e,r,n){return n!==null&&dl(n),rn(e,t.child,null,r),t=Sl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rm(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=ko(Error(T(422))),Ts(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Fi({mode:"visible",children:n.children},s,0,null),i=mr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&rn(e,t.child,null,o),e.child.memoizedState=xa(o),e.memoizedState=va,i);if(!(e.mode&1))return Ts(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(T(419)),n=ko(i,n,void 0),Ts(t,e,o,n)}if(l=(o&t.childLanes)!==0,Pe||l){if(n=he,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nt(t,s),rt(n,t,s,-1))}return $l(),n=ko(Error(T(421))),Ts(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Km.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,De=Wt(s.nextSibling),Le=e,Z=!0,et=null,t!==null&&(Fe[Be++]=_t,Fe[Be++]=bt,Fe[Be++]=yr,_t=t.id,bt=t.overflow,yr=e),e=Sl(e,n.children),e.flags|=4096,e)}function Vc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ha(t.return,e,r)}function So(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function kh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ke(t,e,n.children,r),n=ee.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vc(t,r,e);else if(t.tag===19)Vc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(J(ee,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&fi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),So(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}So(e,!0,r,null,i);break;case"together":So(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Et(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=Jt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Jt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Im(t,e,r){switch(e.tag){case 3:bh(e),tn();break;case 5:Qd(e);break;case 1:Oe(e.type)&&ai(e);break;case 4:yl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;J(ui,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(J(ee,ee.current&1),e.flags|=128,null):r&e.child.childLanes?jh(t,e,r):(J(ee,ee.current&1),t=Et(t,e,r),t!==null?t.sibling:null);J(ee,ee.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return kh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(ee,ee.current),n)break;return null;case 22:case 23:return e.lanes=0,wh(t,e,r)}return Et(t,e,r)}var Sh,wa,Nh,Eh;Sh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wa=function(){};Nh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,fr(ut.current);var i=null;switch(r){case"input":s=Bo(t,s),n=Bo(t,n),i=[];break;case"select":s=re({},s,{value:void 0}),n=re({},n,{value:void 0}),i=[];break;case"textarea":s=Wo(t,s),n=Wo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ii)}Ko(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Eh=function(t,e,r,n){r!==n&&(e.flags|=4)};function xn(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Dm(t,e,r){var n=e.pendingProps;switch(ul(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return Oe(e.type)&&oi(),xe(e),null;case 3:return n=e.stateNode,nn(),Y($e),Y(_e),xl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Es(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(Ca(et),et=null))),wa(t,e),xe(e),null;case 5:vl(e);var s=fr(Xn.current);if(r=e.type,t!==null&&e.stateNode!=null)Nh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(T(166));return xe(e),null}if(t=fr(ut.current),Es(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[at]=e,n[Qn]=i,t=(e.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<Sn.length;s++)Q(Sn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":tc(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":nc(n,i),Q("invalid",n)}Ko(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ns(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ns(n.textContent,l,t),s=["children",""+l]):zn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",n)}switch(r){case"input":vs(n),rc(n,i,!0);break;case"textarea":vs(n),sc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ii)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=td(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[at]=e,t[Qn]=n,Sh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Go(r,n),r){case"dialog":Q("cancel",t),Q("close",t),s=n;break;case"iframe":case"object":case"embed":Q("load",t),s=n;break;case"video":case"audio":for(s=0;s<Sn.length;s++)Q(Sn[s],t);s=n;break;case"source":Q("error",t),s=n;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=n;break;case"details":Q("toggle",t),s=n;break;case"input":tc(t,n),s=Bo(t,n),Q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=re({},n,{value:void 0}),Q("invalid",t);break;case"textarea":nc(t,n),s=Wo(t,n),Q("invalid",t);break;default:s=n}Ko(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sd(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rd(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Fn(t,c):typeof c=="number"&&Fn(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Q("scroll",t):c!=null&&Ja(t,i,c,o))}switch(r){case"input":vs(t),rc(t,n,!1);break;case"textarea":vs(t),sc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Vr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Vr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ii)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)Eh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(T(166));if(r=fr(Xn.current),fr(ut.current),Es(e)){if(n=e.stateNode,r=e.memoizedProps,n[at]=e,(i=n.nodeValue!==r)&&(t=Le,t!==null))switch(t.tag){case 3:Ns(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ns(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[at]=e,e.stateNode=n}return xe(e),null;case 13:if(Y(ee),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&De!==null&&e.mode&1&&!(e.flags&128))Wd(),tn(),e.flags|=98560,i=!1;else if(i=Es(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[at]=e}else tn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),i=!1}else et!==null&&(Ca(et),et=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?ue===0&&(ue=3):$l())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return nn(),wa(t,e),t===null&&Gn(e.stateNode.containerInfo),xe(e),null;case 10:return pl(e.type._context),xe(e),null;case 17:return Oe(e.type)&&oi(),xe(e),null;case 19:if(Y(ee),i=e.memoizedState,i===null)return xe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)xn(i,!1);else{if(ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fi(t),o!==null){for(e.flags|=128,xn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return J(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&se()>on&&(e.flags|=128,n=!0,xn(i,!1),e.lanes=4194304)}else{if(!n)if(t=fi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Z)return xe(e),null}else 2*se()-i.renderingStartTime>on&&r!==1073741824&&(e.flags|=128,n=!0,xn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=se(),e.sibling=null,r=ee.current,J(ee,n?r&1|2:r&1),e):(xe(e),null);case 22:case 23:return Pl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ie&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Lm(t,e){switch(ul(e),e.tag){case 1:return Oe(e.type)&&oi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nn(),Y($e),Y(_e),xl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vl(e),null;case 13:if(Y(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));tn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(ee),null;case 4:return nn(),null;case 10:return pl(e.type._context),null;case 22:case 23:return Pl(),null;case 24:return null;default:return null}}var Ps=!1,we=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,R=null;function Hr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ne(t,e,n)}else r.current=null}function _a(t,e,r){try{r()}catch(n){ne(t,e,n)}}var Kc=!1;function Um(t,e){if(sa=ri,t=Od(),ll(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=o),f===i&&++d===n&&(c=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ia={focusedElem:t,selectionRange:r},ri=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,P=v.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ye(e.type,b),P);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){ne(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=Kc,Kc=!1,v}function An(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_a(e,r,i)}s=s.next}while(s!==n)}}function Ui(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ba(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Ch(t){var e=t.alternate;e!==null&&(t.alternate=null,Ch(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[at],delete e[Qn],delete e[la],delete e[_m],delete e[bm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Th(t){return t.tag===5||t.tag===3||t.tag===4}function Gc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Th(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ja(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ii));else if(n!==4&&(t=t.child,t!==null))for(ja(t,e,r),t=t.sibling;t!==null;)ja(t,e,r),t=t.sibling}function ka(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ka(t,e,r),t=t.sibling;t!==null;)ka(t,e,r),t=t.sibling}var me=null,Xe=!1;function $t(t,e,r){for(r=r.child;r!==null;)Ph(t,e,r),r=r.sibling}function Ph(t,e,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount($i,r)}catch{}switch(r.tag){case 5:we||Hr(r,e);case 6:var n=me,s=Xe;me=null,$t(t,e,r),me=n,Xe=s,me!==null&&(Xe?(t=me,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):me.removeChild(r.stateNode));break;case 18:me!==null&&(Xe?(t=me,r=r.stateNode,t.nodeType===8?vo(t.parentNode,r):t.nodeType===1&&vo(t,r),Wn(t)):vo(me,r.stateNode));break;case 4:n=me,s=Xe,me=r.stateNode.containerInfo,Xe=!0,$t(t,e,r),me=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_a(r,e,o),s=s.next}while(s!==n)}$t(t,e,r);break;case 1:if(!we&&(Hr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ne(r,e,l)}$t(t,e,r);break;case 21:$t(t,e,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,$t(t,e,r),we=n):$t(t,e,r);break;default:$t(t,e,r)}}function Jc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Mm),e.forEach(function(n){var s=Gm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Je(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:me=l.stateNode,Xe=!1;break e;case 3:me=l.stateNode.containerInfo,Xe=!0;break e;case 4:me=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(me===null)throw Error(T(160));Ph(i,o,s),me=null,Xe=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ne(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$h(e,t),e=e.sibling}function $h(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Je(e,t),st(t),n&4){try{An(3,t,t.return),Ui(3,t)}catch(b){ne(t,t.return,b)}try{An(5,t,t.return)}catch(b){ne(t,t.return,b)}}break;case 1:Je(e,t),st(t),n&512&&r!==null&&Hr(r,r.return);break;case 5:if(Je(e,t),st(t),n&512&&r!==null&&Hr(r,r.return),t.flags&32){var s=t.stateNode;try{Fn(s,"")}catch(b){ne(t,t.return,b)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Zu(s,i),Go(l,o);var u=Go(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?sd(s,h):d==="dangerouslySetInnerHTML"?rd(s,h):d==="children"?Fn(s,h):Ja(s,d,h,u)}switch(l){case"input":qo(s,i);break;case"textarea":ed(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Vr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Vr(s,!!i.multiple,i.defaultValue,!0):Vr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qn]=i}catch(b){ne(t,t.return,b)}}break;case 6:if(Je(e,t),st(t),n&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){ne(t,t.return,b)}}break;case 3:if(Je(e,t),st(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wn(e.containerInfo)}catch(b){ne(t,t.return,b)}break;case 4:Je(e,t),st(t);break;case 13:Je(e,t),st(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cl=se())),n&4&&Jc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(we=(u=we)||d,Je(e,t),we=u):Je(e,t),st(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,y=f.child,f.tag){case 0:case 11:case 14:case 15:An(4,f,f.return);break;case 1:Hr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){ne(n,r,b)}}break;case 5:Hr(f,f.return);break;case 22:if(f.memoizedState!==null){Yc(h);continue}}y!==null?(y.return=f,R=y):Yc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nd("display",o))}catch(b){ne(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){ne(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Je(e,t),st(t),n&4&&Jc(t);break;case 21:break;default:Je(e,t),st(t)}}function st(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Th(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Fn(s,""),n.flags&=-33);var i=Gc(t);ka(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Gc(t);ja(t,l,o);break;default:throw Error(T(161))}}catch(c){ne(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zm(t,e,r){R=t,Oh(t)}function Oh(t,e,r){for(var n=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ps;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||we;l=Ps;var u=we;if(Ps=o,(we=c)&&!u)for(R=s;R!==null;)o=R,c=o.child,o.tag===22&&o.memoizedState!==null?Xc(s):c!==null?(c.return=o,R=c):Xc(s);for(;i!==null;)R=i,Oh(i),i=i.sibling;R=s,Ps=l,we=u}Qc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Qc(t)}}function Qc(t){for(;R!==null;){var e=R;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||Ui(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!we)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ye(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Rc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Rc(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Wn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}we||e.flags&512&&ba(e)}catch(f){ne(e,e.return,f)}}if(e===t){R=null;break}if(r=e.sibling,r!==null){r.return=e.return,R=r;break}R=e.return}}function Yc(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var r=e.sibling;if(r!==null){r.return=e.return,R=r;break}R=e.return}}function Xc(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ui(4,e)}catch(c){ne(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){ne(e,s,c)}}var i=e.return;try{ba(e)}catch(c){ne(e,i,c)}break;case 5:var o=e.return;try{ba(e)}catch(c){ne(e,o,c)}}}catch(c){ne(e,e.return,c)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var Fm=Math.ceil,gi=Tt.ReactCurrentDispatcher,Nl=Tt.ReactCurrentOwner,We=Tt.ReactCurrentBatchConfig,W=0,he=null,ie=null,ge=0,Ie=0,Wr=Zt(0),ue=0,rs=null,xr=0,zi=0,El=0,Rn=null,Ce=null,Cl=0,on=1/0,vt=null,yi=!1,Sa=null,Kt=null,$s=!1,Ft=null,vi=0,In=0,Na=null,Ks=-1,Gs=0;function Se(){return W&6?se():Ks!==-1?Ks:Ks=se()}function Gt(t){return t.mode&1?W&2&&ge!==0?ge&-ge:km.transition!==null?(Gs===0&&(Gs=gd()),Gs):(t=K,t!==0||(t=window.event,t=t===void 0?16:jd(t.type)),t):1}function rt(t,e,r,n){if(50<In)throw In=0,Na=null,Error(T(185));as(t,r,n),(!(W&2)||t!==he)&&(t===he&&(!(W&2)&&(zi|=r),ue===4&&Lt(t,ge)),Ae(t,n),r===1&&W===0&&!(e.mode&1)&&(on=se()+500,Di&&er()))}function Ae(t,e){var r=t.callbackNode;kp(t,e);var n=ti(t,t===he?ge:0);if(n===0)r!==null&&ac(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ac(r),e===1)t.tag===0?jm(Zc.bind(null,t)):Bd(Zc.bind(null,t)),xm(function(){!(W&6)&&er()}),r=null;else{switch(yd(n)){case 1:r=el;break;case 4:r=pd;break;case 16:r=ei;break;case 536870912:r=md;break;default:r=ei}r=zh(r,Ah.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ah(t,e){if(Ks=-1,Gs=0,W&6)throw Error(T(327));var r=t.callbackNode;if(Yr()&&t.callbackNode!==r)return null;var n=ti(t,t===he?ge:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=xi(t,n);else{e=n;var s=W;W|=2;var i=Ih();(he!==t||ge!==e)&&(vt=null,on=se()+500,pr(t,e));do try{Hm();break}catch(l){Rh(t,l)}while(!0);fl(),gi.current=i,W=s,ie!==null?e=0:(he=null,ge=0,e=ue)}if(e!==0){if(e===2&&(s=Zo(t),s!==0&&(n=s,e=Ea(t,s))),e===1)throw r=rs,pr(t,0),Lt(t,n),Ae(t,se()),r;if(e===6)Lt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Bm(s)&&(e=xi(t,n),e===2&&(i=Zo(t),i!==0&&(n=i,e=Ea(t,i))),e===1))throw r=rs,pr(t,0),Lt(t,n),Ae(t,se()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(T(345));case 2:lr(t,Ce,vt);break;case 3:if(Lt(t,n),(n&130023424)===n&&(e=Cl+500-se(),10<e)){if(ti(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Se(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=aa(lr.bind(null,t,Ce,vt),e);break}lr(t,Ce,vt);break;case 4:if(Lt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-tt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fm(n/1960))-n,10<n){t.timeoutHandle=aa(lr.bind(null,t,Ce,vt),n);break}lr(t,Ce,vt);break;case 5:lr(t,Ce,vt);break;default:throw Error(T(329))}}}return Ae(t,se()),t.callbackNode===r?Ah.bind(null,t):null}function Ea(t,e){var r=Rn;return t.current.memoizedState.isDehydrated&&(pr(t,e).flags|=256),t=xi(t,e),t!==2&&(e=Ce,Ce=r,e!==null&&Ca(e)),t}function Ca(t){Ce===null?Ce=t:Ce.push.apply(Ce,t)}function Bm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lt(t,e){for(e&=~El,e&=~zi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-tt(e),n=1<<r;t[r]=-1,e&=~n}}function Zc(t){if(W&6)throw Error(T(327));Yr();var e=ti(t,0);if(!(e&1))return Ae(t,se()),null;var r=xi(t,e);if(t.tag!==0&&r===2){var n=Zo(t);n!==0&&(e=n,r=Ea(t,n))}if(r===1)throw r=rs,pr(t,0),Lt(t,e),Ae(t,se()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lr(t,Ce,vt),Ae(t,se()),null}function Tl(t,e){var r=W;W|=1;try{return t(e)}finally{W=r,W===0&&(on=se()+500,Di&&er())}}function wr(t){Ft!==null&&Ft.tag===0&&!(W&6)&&Yr();var e=W;W|=1;var r=We.transition,n=K;try{if(We.transition=null,K=1,t)return t()}finally{K=n,We.transition=r,W=e,!(W&6)&&er()}}function Pl(){Ie=Wr.current,Y(Wr)}function pr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,vm(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(ul(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&oi();break;case 3:nn(),Y($e),Y(_e),xl();break;case 5:vl(n);break;case 4:nn();break;case 13:Y(ee);break;case 19:Y(ee);break;case 10:pl(n.type._context);break;case 22:case 23:Pl()}r=r.return}if(he=t,ie=t=Jt(t.current,null),ge=Ie=e,ue=0,rs=null,El=zi=xr=0,Ce=Rn=null,hr!==null){for(e=0;e<hr.length;e++)if(r=hr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}hr=null}return t}function Rh(t,e){do{var r=ie;try{if(fl(),Hs.current=mi,pi){for(var n=te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pi=!1}if(vr=0,de=le=te=null,On=!1,Zn=0,Nl.current=null,r===null||r.return===null){ue=1,rs=e,ie=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=zc(o);if(y!==null){y.flags&=-257,Fc(y,o,l,i,e),y.mode&1&&Uc(i,u,e),e=y,c=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(c),e.updateQueue=b}else v.add(c);break e}else{if(!(e&1)){Uc(i,u,e),$l();break e}c=Error(T(426))}}else if(Z&&l.mode&1){var P=zc(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Fc(P,o,l,i,e),dl(sn(c,l));break e}}i=c=sn(c,l),ue!==4&&(ue=2),Rn===null?Rn=[i]:Rn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=yh(i,c,e);Ac(i,p);break e;case 1:l=c;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kt===null||!Kt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=vh(i,l,e);Ac(i,_);break e}}i=i.return}while(i!==null)}Lh(r)}catch(E){e=E,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function Ih(){var t=gi.current;return gi.current=mi,t===null?mi:t}function $l(){(ue===0||ue===3||ue===2)&&(ue=4),he===null||!(xr&268435455)&&!(zi&268435455)||Lt(he,ge)}function xi(t,e){var r=W;W|=2;var n=Ih();(he!==t||ge!==e)&&(vt=null,pr(t,e));do try{qm();break}catch(s){Rh(t,s)}while(!0);if(fl(),W=r,gi.current=n,ie!==null)throw Error(T(261));return he=null,ge=0,ue}function qm(){for(;ie!==null;)Dh(ie)}function Hm(){for(;ie!==null&&!mp();)Dh(ie)}function Dh(t){var e=Uh(t.alternate,t,Ie);t.memoizedProps=t.pendingProps,e===null?Lh(t):ie=e,Nl.current=null}function Lh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Lm(r,e),r!==null){r.flags&=32767,ie=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ue=6,ie=null;return}}else if(r=Dm(r,e,Ie),r!==null){ie=r;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);ue===0&&(ue=5)}function lr(t,e,r){var n=K,s=We.transition;try{We.transition=null,K=1,Wm(t,e,r,n)}finally{We.transition=s,K=n}return null}function Wm(t,e,r,n){do Yr();while(Ft!==null);if(W&6)throw Error(T(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Sp(t,i),t===he&&(ie=he=null,ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$s||($s=!0,zh(ei,function(){return Yr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=K;K=1;var l=W;W|=4,Nl.current=null,Um(t,r),$h(r,t),dm(ia),ri=!!sa,ia=sa=null,t.current=r,zm(r),gp(),W=l,K=o,We.transition=i}else t.current=r;if($s&&($s=!1,Ft=t,vi=s),i=t.pendingLanes,i===0&&(Kt=null),xp(r.stateNode),Ae(t,se()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yi)throw yi=!1,t=Sa,Sa=null,t;return vi&1&&t.tag!==0&&Yr(),i=t.pendingLanes,i&1?t===Na?In++:(In=0,Na=t):In=0,er(),null}function Yr(){if(Ft!==null){var t=yd(vi),e=We.transition,r=K;try{if(We.transition=null,K=16>t?16:t,Ft===null)var n=!1;else{if(t=Ft,Ft=null,vi=0,W&6)throw Error(T(331));var s=W;for(W|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:An(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,y=d.return;if(Ch(d),d===u){R=null;break}if(f!==null){f.return=y,R=f;break}R=y}}}var v=i.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var P=b.sibling;b.sibling=null,b=P}while(b!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:An(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,R=p;break e}R=i.return}}var m=t.current;for(R=m;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=m;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ui(9,l)}}catch(E){ne(l,l.return,E)}if(l===o){R=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,R=_;break e}R=l.return}}if(W=s,er(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot($i,t)}catch{}n=!0}return n}finally{K=r,We.transition=e}}return!1}function eu(t,e,r){e=sn(r,e),e=yh(t,e,1),t=Vt(t,e,1),e=Se(),t!==null&&(as(t,1,e),Ae(t,e))}function ne(t,e,r){if(t.tag===3)eu(t,t,r);else for(;e!==null;){if(e.tag===3){eu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kt===null||!Kt.has(n))){t=sn(r,t),t=vh(e,t,1),e=Vt(e,t,1),t=Se(),e!==null&&(as(e,1,t),Ae(e,t));break}}e=e.return}}function Vm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&r,he===t&&(ge&r)===r&&(ue===4||ue===3&&(ge&130023424)===ge&&500>se()-Cl?pr(t,0):El|=r),Ae(t,e)}function Mh(t,e){e===0&&(t.mode&1?(e=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):e=1);var r=Se();t=Nt(t,e),t!==null&&(as(t,e,r),Ae(t,r))}function Km(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Mh(t,r)}function Gm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(e),Mh(t,r)}var Uh;Uh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||$e.current)Pe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pe=!1,Im(t,e,r);Pe=!!(t.flags&131072)}else Pe=!1,Z&&e.flags&1048576&&qd(e,ci,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Vs(t,e),t=e.pendingProps;var s=en(e,_e.current);Qr(e,r),s=_l(null,e,n,t,s,r);var i=bl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(n)?(i=!0,ai(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gl(e),s.updater=Mi,e.stateNode=s,s._reactInternals=e,pa(e,n,t,r),e=ya(null,e,n,!0,i,r)):(e.tag=0,Z&&i&&cl(e),ke(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Vs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Qm(n),t=Ye(n,t),s){case 0:e=ga(null,e,n,t,r);break e;case 1:e=Hc(null,e,n,t,r);break e;case 11:e=Bc(null,e,n,t,r);break e;case 14:e=qc(null,e,n,Ye(n.type,t),r);break e}throw Error(T(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),ga(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Hc(t,e,n,s,r);case 3:e:{if(bh(e),t===null)throw Error(T(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Jd(t,e),hi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sn(Error(T(423)),e),e=Wc(t,e,n,r,s);break e}else if(n!==s){s=sn(Error(T(424)),e),e=Wc(t,e,n,r,s);break e}else for(De=Wt(e.stateNode.containerInfo.firstChild),Le=e,Z=!0,et=null,r=Kd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tn(),n===s){e=Et(t,e,r);break e}ke(t,e,n,r)}e=e.child}return e;case 5:return Qd(e),t===null&&da(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,oa(n,s)?o=null:i!==null&&oa(n,i)&&(e.flags|=32),_h(t,e),ke(t,e,o,r),e.child;case 6:return t===null&&da(e),null;case 13:return jh(t,e,r);case 4:return yl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rn(e,null,n,r):ke(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Bc(t,e,n,s,r);case 7:return ke(t,e,e.pendingProps,r),e.child;case 8:return ke(t,e,e.pendingProps.children,r),e.child;case 12:return ke(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,J(ui,n._currentValue),n._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!$e.current){e=Et(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=jt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ha(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ha(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ke(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Qr(e,r),s=Ke(s),n=n(s),e.flags|=1,ke(t,e,n,r),e.child;case 14:return n=e.type,s=Ye(n,e.pendingProps),s=Ye(n.type,s),qc(t,e,n,s,r);case 15:return xh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Vs(t,e),e.tag=1,Oe(n)?(t=!0,ai(e)):t=!1,Qr(e,r),gh(e,n,s),pa(e,n,s,r),ya(null,e,n,!0,t,r);case 19:return kh(t,e,r);case 22:return wh(t,e,r)}throw Error(T(156,e.tag))};function zh(t,e){return fd(t,e)}function Jm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,e,r,n){return new Jm(t,e,r,n)}function Ol(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qm(t){if(typeof t=="function")return Ol(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ya)return 11;if(t===Xa)return 14}return 2}function Jt(t,e){var r=t.alternate;return r===null?(r=He(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Js(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Ol(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ir:return mr(r.children,s,i,e);case Qa:o=8,s|=8;break;case Mo:return t=He(12,r,e,s|2),t.elementType=Mo,t.lanes=i,t;case Uo:return t=He(13,r,e,s),t.elementType=Uo,t.lanes=i,t;case zo:return t=He(19,r,e,s),t.elementType=zo,t.lanes=i,t;case Qu:return Fi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gu:o=10;break e;case Ju:o=9;break e;case Ya:o=11;break e;case Xa:o=14;break e;case Rt:o=16,n=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=He(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function mr(t,e,r,n){return t=He(7,t,n,e),t.lanes=r,t}function Fi(t,e,r,n){return t=He(22,t,n,e),t.elementType=Qu,t.lanes=r,t.stateNode={isHidden:!1},t}function No(t,e,r){return t=He(6,t,null,e),t.lanes=r,t}function Eo(t,e,r){return e=He(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ym(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oo(0),this.expirationTimes=oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Al(t,e,r,n,s,i,o,l,c){return t=new Ym(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=He(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gl(i),t}function Xm(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Fh(t){if(!t)return Yt;t=t._reactInternals;e:{if(br(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(Oe(r))return Fd(t,r,e)}return e}function Bh(t,e,r,n,s,i,o,l,c){return t=Al(r,n,!0,t,s,i,o,l,c),t.context=Fh(null),r=t.current,n=Se(),s=Gt(r),i=jt(n,s),i.callback=e??null,Vt(r,i,s),t.current.lanes=s,as(t,s,n),Ae(t,n),t}function Bi(t,e,r,n){var s=e.current,i=Se(),o=Gt(s);return r=Fh(r),e.context===null?e.context=r:e.pendingContext=r,e=jt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vt(s,e,o),t!==null&&(rt(t,s,o,i),qs(t,s,o)),o}function wi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Rl(t,e){tu(t,e),(t=t.alternate)&&tu(t,e)}function Zm(){return null}var qh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Il(t){this._internalRoot=t}qi.prototype.render=Il.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Bi(t,e,null,null)};qi.prototype.unmount=Il.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wr(function(){Bi(null,t,null,null)}),e[St]=null}};function qi(t){this._internalRoot=t}qi.prototype.unstable_scheduleHydration=function(t){if(t){var e=wd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Dt.length&&e!==0&&e<Dt[r].priority;r++);Dt.splice(r,0,t),r===0&&bd(t)}};function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ru(){}function e0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=wi(o);i.call(u)}}var o=Bh(e,n,t,0,null,!1,!1,"",ru);return t._reactRootContainer=o,t[St]=o.current,Gn(t.nodeType===8?t.parentNode:t),wr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=wi(c);l.call(u)}}var c=Al(t,0,!1,null,null,!1,!1,"",ru);return t._reactRootContainer=c,t[St]=c.current,Gn(t.nodeType===8?t.parentNode:t),wr(function(){Bi(e,c,r,n)}),c}function Wi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=wi(o);l.call(c)}}Bi(e,o,t,s)}else o=e0(r,e,t,s,n);return wi(o)}vd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=kn(e.pendingLanes);r!==0&&(tl(e,r|1),Ae(e,se()),!(W&6)&&(on=se()+500,er()))}break;case 13:wr(function(){var n=Nt(t,1);if(n!==null){var s=Se();rt(n,t,1,s)}}),Rl(t,1)}};rl=function(t){if(t.tag===13){var e=Nt(t,134217728);if(e!==null){var r=Se();rt(e,t,134217728,r)}Rl(t,134217728)}};xd=function(t){if(t.tag===13){var e=Gt(t),r=Nt(t,e);if(r!==null){var n=Se();rt(r,t,e,n)}Rl(t,e)}};wd=function(){return K};_d=function(t,e){var r=K;try{return K=t,e()}finally{K=r}};Qo=function(t,e,r){switch(e){case"input":if(qo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Ii(n);if(!s)throw Error(T(90));Xu(n),qo(n,s)}}}break;case"textarea":ed(t,r);break;case"select":e=r.value,e!=null&&Vr(t,!!r.multiple,e,!1)}};ad=Tl;ld=wr;var t0={usingClientEntryPoint:!1,Events:[cs,Ur,Ii,id,od,Tl]},wn={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r0={bundleType:wn.bundleType,version:wn.version,rendererPackageName:wn.rendererPackageName,rendererConfig:wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dd(t),t===null?null:t.stateNode},findFiberByHostInstance:wn.findFiberByHostInstance||Zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{$i=Os.inject(r0),ct=Os}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0;Ue.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dl(e))throw Error(T(200));return Xm(t,e,null,r)};Ue.createRoot=function(t,e){if(!Dl(t))throw Error(T(299));var r=!1,n="",s=qh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Al(t,1,!1,null,null,r,!1,n,s),t[St]=e.current,Gn(t.nodeType===8?t.parentNode:t),new Il(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=dd(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return wr(t)};Ue.hydrate=function(t,e,r){if(!Hi(e))throw Error(T(200));return Wi(null,t,e,!0,r)};Ue.hydrateRoot=function(t,e,r){if(!Dl(t))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=qh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Bh(e,null,t,1,r??null,s,!1,i,o),t[St]=e.current,Gn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new qi(e)};Ue.render=function(t,e,r){if(!Hi(e))throw Error(T(200));return Wi(null,t,e,!1,r)};Ue.unmountComponentAtNode=function(t){if(!Hi(t))throw Error(T(40));return t._reactRootContainer?(wr(function(){Wi(null,null,t,!1,function(){t._reactRootContainer=null,t[St]=null})}),!0):!1};Ue.unstable_batchedUpdates=Tl;Ue.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hi(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Wi(t,e,r,!1,n)};Ue.version="18.3.1-next-f1338f8080-20240426";function Hh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hh)}catch(t){console.error(t)}}Hh(),Hu.exports=Ue;var n0=Hu.exports,Wh,nu=n0;Wh=nu.createRoot,nu.hydrateRoot;let s0={data:""},i0=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||s0,o0=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a0=/\/\*[^]*?\*\/|  +/g,su=/\n+/g,Mt=(t,e)=>{let r="",n="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Mt(o,i):i+"{"+Mt(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=Mt(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Mt.p?Mt.p(i,o):i+":"+o+";")}return r+(e&&s?e+"{"+s+"}":s)+n},mt={},Vh=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Vh(t[r]);return e}return t},l0=(t,e,r,n,s)=>{let i=Vh(t),o=mt[i]||(mt[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!mt[o]){let c=i!==t?t:(u=>{let d,h,f=[{}];for(;d=o0.exec(u.replace(a0,""));)d[4]?f.shift():d[3]?(h=d[3].replace(su," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(su," ").trim();return f[0]})(t);mt[o]=Mt(s?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&mt.g?mt.g:null;return r&&(mt.g=mt[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(mt[o],e,n,l),o},c0=(t,e,r)=>t.reduce((n,s,i)=>{let o=e[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Mt(l,""):l===!1?"":l}return n+s+(o??"")},"");function Vi(t){let e=this||{},r=t.call?t(e.p):t;return l0(r.unshift?r.raw?c0(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,i0(e.target),e.g,e.o,e.k)}let Kh,Ta,Pa;Vi.bind({g:1});let Ct=Vi.bind({k:1});function u0(t,e,r,n){Mt.p=e,Kh=t,Ta=r,Pa=n}function tr(t,e){let r=this||{};return function(){let n=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:Ta&&Ta()},l),r.o=/ *go\d+/.test(c),l.className=Vi.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),Pa&&u[0]&&Pa(l),Kh(u,l)}return s}}var d0=t=>typeof t=="function",_i=(t,e)=>d0(t)?t(e):t,h0=(()=>{let t=0;return()=>(++t).toString()})(),Gh=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),f0=20,Ll="default",Jh=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return Jh(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Qs=[],Qh={toasts:[],pausedAt:void 0,settings:{toastLimit:f0}},lt={},Yh=(t,e=Ll)=>{lt[e]=Jh(lt[e]||Qh,t),Qs.forEach(([r,n])=>{r===e&&n(lt[e])})},Xh=t=>Object.keys(lt).forEach(e=>Yh(t,e)),p0=t=>Object.keys(lt).find(e=>lt[e].toasts.some(r=>r.id===t)),Ki=(t=Ll)=>e=>{Yh(e,t)},m0={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},g0=(t={},e=Ll)=>{let[r,n]=C.useState(lt[e]||Qh),s=C.useRef(lt[e]);C.useEffect(()=>(s.current!==lt[e]&&n(lt[e]),Qs.push([e,n]),()=>{let o=Qs.findIndex(([l])=>l===e);o>-1&&Qs.splice(o,1)}),[e]);let i=r.toasts.map(o=>{var l,c,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||m0[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:i}},y0=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||h0()}),ds=t=>(e,r)=>{let n=y0(e,t,r);return Ki(n.toasterId||p0(n.id))({type:2,toast:n}),n.id},ce=(t,e)=>ds("blank")(t,e);ce.error=ds("error");ce.success=ds("success");ce.loading=ds("loading");ce.custom=ds("custom");ce.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Ki(e)(r):Xh(r)};ce.dismissAll=t=>ce.dismiss(void 0,t);ce.remove=(t,e)=>{let r={type:4,toastId:t};e?Ki(e)(r):Xh(r)};ce.removeAll=t=>ce.remove(void 0,t);ce.promise=(t,e,r)=>{let n=ce.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?_i(e.success,s):void 0;return i?ce.success(i,{id:n,...r,...r==null?void 0:r.success}):ce.dismiss(n),s}).catch(s=>{let i=e.error?_i(e.error,s):void 0;i?ce.error(i,{id:n,...r,...r==null?void 0:r.error}):ce.dismiss(n)}),t};var v0=1e3,x0=(t,e="default")=>{let{toasts:r,pausedAt:n}=g0(t,e),s=C.useRef(new Map).current,i=C.useCallback((h,f=v0)=>{if(s.has(h))return;let y=setTimeout(()=>{s.delete(h),o({type:4,toastId:h})},f);s.set(h,y)},[]);C.useEffect(()=>{if(n)return;let h=Date.now(),f=r.map(y=>{if(y.duration===1/0)return;let v=(y.duration||0)+y.pauseDuration-(h-y.createdAt);if(v<0){y.visible&&ce.dismiss(y.id);return}return setTimeout(()=>ce.dismiss(y.id,e),v)});return()=>{f.forEach(y=>y&&clearTimeout(y))}},[r,n,e]);let o=C.useCallback(Ki(e),[e]),l=C.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=C.useCallback((h,f)=>{o({type:1,toast:{id:h,height:f}})},[o]),u=C.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=C.useCallback((h,f)=>{let{reverseOrder:y=!1,gutter:v=8,defaultPosition:b}=f||{},P=r.filter(g=>(g.position||b)===(h.position||b)&&g.height),p=P.findIndex(g=>g.id===h.id),m=P.filter((g,_)=>_<p&&g.visible).length;return P.filter(g=>g.visible).slice(...y?[m+1]:[0,m]).reduce((g,_)=>g+(_.height||0)+v,0)},[r]);return C.useEffect(()=>{r.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=s.get(h.id);f&&(clearTimeout(f),s.delete(h.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},w0=Ct`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_0=Ct`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,b0=Ct`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,j0=tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_0} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${b0} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k0=Ct`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S0=tr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${k0} 1s linear infinite;
`,N0=Ct`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,E0=Ct`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,C0=tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${E0} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,T0=tr("div")`
  position: absolute;
`,P0=tr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$0=Ct`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O0=tr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$0} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,A0=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?C.createElement(O0,null,e):e:r==="blank"?null:C.createElement(P0,null,C.createElement(S0,{...n}),r!=="loading"&&C.createElement(T0,null,r==="error"?C.createElement(j0,{...n}):C.createElement(C0,{...n})))},R0=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,I0=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,D0="0%{opacity:0;} 100%{opacity:1;}",L0="0%{opacity:1;} 100%{opacity:0;}",M0=tr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,U0=tr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,z0=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=Gh()?[D0,L0]:[R0(r),I0(r)];return{animation:e?`${Ct(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ct(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F0=C.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?z0(t.position||e||"top-center",t.visible):{opacity:0},i=C.createElement(A0,{toast:t}),o=C.createElement(U0,{...t.ariaProps},_i(t.message,t));return C.createElement(M0,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):C.createElement(C.Fragment,null,i,o))});u0(C.createElement);var B0=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=C.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return C.createElement("div",{ref:i,className:e,style:r},s)},q0=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gh()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},H0=Vi`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,As=16,W0=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=x0(r,i);return C.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:As,left:As,right:As,bottom:As,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||e,f=u.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),y=q0(h,f);return C.createElement(B0,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?H0:"",style:y},d.type==="custom"?_i(d.message,d):s?s(d):C.createElement(F0,{toast:d,position:h}))}))},$=ce;const V0="modulepreload",K0=function(t){return"/"+t},iu={},hs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=K0(c),c in iu)return;iu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":V0,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},G0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>dn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ml extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class J0 extends Ml{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ou extends Ml{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class au extends Ml{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $a;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($a||($a={}));var Q0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Y0{constructor(e,{headers:r={},customFetch:n,region:s=$a.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=G0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Q0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(b=>{throw new J0(b)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new ou(h);if(!h.ok)throw new au(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield h.json():y==="application/octet-stream"?v=yield h.blob():y==="text/event-stream"?v=h:y==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof au||s instanceof ou?s.context:void 0}}})}}var Te={},Ul={},Gi={},fs={},Ji={},Qi={},X0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},an=X0();const Z0=an.fetch,Zh=an.fetch.bind(an),ef=an.Headers,eg=an.Request,tg=an.Response,dn=Object.freeze(Object.defineProperty({__proto__:null,Headers:ef,Request:eg,Response:tg,default:Zh,fetch:Z0},Symbol.toStringTag,{value:"Module"})),rg=$f(dn);var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});let ng=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Yi.default=ng;var tf=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});const sg=tf(rg),ig=tf(Yi);let og=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=sg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),P=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&P&&P.length>1&&(h=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,y="OK")}catch{i.status===404&&b===""?(f=204,y="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new ig.default(u)}return{error:u,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Qi.default=og;var ag=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});const lg=ag(Qi);let cg=class extends lg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ji.default=cg;var ug=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});const dg=ug(Ji);let hg=class extends dg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};fs.default=hg;var fg=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gi,"__esModule",{value:!0});const _n=fg(fs);let pg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new _n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new _n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _n.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new _n.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new _n.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gi.default=pg;var Xi={},Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.version=void 0;Zi.version="0.0.0-automated";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.DEFAULT_HEADERS=void 0;const mg=Zi;Xi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mg.version}`};var rf=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ul,"__esModule",{value:!0});const gg=rf(Gi),yg=rf(fs),vg=Xi;let xg=class nf{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},vg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new gg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new yg.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ul.default=xg;var hn=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Te,"__esModule",{value:!0});Te.PostgrestError=Te.PostgrestBuilder=Te.PostgrestTransformBuilder=Te.PostgrestFilterBuilder=Te.PostgrestQueryBuilder=Te.PostgrestClient=void 0;const sf=hn(Ul);Te.PostgrestClient=sf.default;const of=hn(Gi);Te.PostgrestQueryBuilder=of.default;const af=hn(fs);Te.PostgrestFilterBuilder=af.default;const lf=hn(Ji);Te.PostgrestTransformBuilder=lf.default;const cf=hn(Qi);Te.PostgrestBuilder=cf.default;const uf=hn(Yi);Te.PostgrestError=uf.default;var wg=Te.default={PostgrestClient:sf.default,PostgrestQueryBuilder:of.default,PostgrestFilterBuilder:af.default,PostgrestTransformBuilder:lf.default,PostgrestBuilder:cf.default,PostgrestError:uf.default};const{PostgrestClient:_g,PostgrestQueryBuilder:Mx,PostgrestFilterBuilder:Ux,PostgrestTransformBuilder:zx,PostgrestBuilder:Fx,PostgrestError:Bx}=wg;class bg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jg="2.15.1",kg=`realtime-js/${jg}`,Sg="1.0.0",Oa=1e4,Ng=1e3,Eg=100;var Dn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dn||(Dn={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var Aa;(function(t){t.websocket="websocket"})(Aa||(Aa={}));var ur;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ur||(ur={}));class Cg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class df{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const lu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Tg(o,t,e,s),i),{})},Tg=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?hf(i,o):Ra(o)},hf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ag(e,r)}switch(t){case G.bool:return Pg(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return $g(e);case G.json:case G.jsonb:return Og(e);case G.timestamp:return Rg(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Ra(e);default:return Ra(e)}},Ra=t=>t,Pg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$g=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Og=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ag=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>hf(e,l))}return t},Rg=t=>typeof t=="string"?t.replace(" ","T"):t,ff=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Co{constructor(e,r,n={},s=Oa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cu||(cu={}));class Ln{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ln.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ln.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ln.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(P=>P.presence_ref),y=h.map(P=>P.presence_ref),v=d.filter(P=>y.indexOf(P.presence_ref)<0),b=h.filter(P=>f.indexOf(P.presence_ref)<0);v.length>0&&(l[u]=v),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(uu||(uu={}));var Mn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Mn||(Mn={}));var xt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class zl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Co(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new df(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ln(this),this.broadcastEndpointURL=ff(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Mn.PRESENCE]&&this.bindings[Mn.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(xt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(xt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){e==null||e(xt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,P=[];for(let p=0;p<b;p++){const m=v[p],{filter:{event:g,schema:_,table:E,filter:N}}=m,w=f&&f[p];if(w&&w.event===g&&w.schema===_&&w.table===E&&w.filter===N)P.push(Object.assign(Object.assign({},m),{id:w.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(xt.SUBSCRIBED);return}}).receive("error",f=>{this.state=oe.errored,e==null||e(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===oe.joined&&e===Mn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Co(this,Ze.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Co(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Eg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ze;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,b,P;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((P=(b=y.filter)===null||b===void 0?void 0:b.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,b,P,p,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,E=(v=y.filter)===null||v===void 0?void 0:v.event;return _&&((b=r.ids)===null||b===void 0?void 0:b.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const _=(m=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:b,table:P,commit_timestamp:p,type:m,errors:g}=v;f=Object.assign(Object.assign({},{schema:b,table:P,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&zl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=lu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=lu(e.columns,e.old_record)),r}}const du=()=>{},Rs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ig=[1e3,2e3,5e3,1e4],Dg=1e4,Lg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mg{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oa,this.transport=null,this.heartbeatIntervalMs=Rs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=du,this.ref=0,this.reconnectTimer=null,this.logger=du,this.conn=null,this.sendBuffer=[],this.serializer=new Cg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>hs(async()=>{const{default:l}=await Promise.resolve().then(()=>dn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Aa.websocket}`,this.httpEndpoint=ff(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sg}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return ur.Connecting;case Dn.open:return ur.Open;case Dn.closing:return ur.Closing;default:return ur.Closed}}isConnected(){return this.connectionState()===ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new zl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ng,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Lg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:kg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new df(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Oa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Rs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>Ig[d-1]||Dg,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Fl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ug extends Fl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ia extends Fl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var zg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const pf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>dn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Fg=()=>zg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>dn),void 0)).Response:Response}),Da=t=>{if(Array.isArray(t))return t.map(r=>Da(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Da(n)}),e},Bg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var jr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const To=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qg=(t,e,r)=>jr(void 0,void 0,void 0,function*(){const n=yield Fg();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Ug(To(s),i,o))}).catch(s=>{e(new Ia(To(s),s))}):e(new Ia(To(t),t))}),Hg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Bg(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ps(t,e,r,n,s,i){return jr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Hg(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>qg(c,l,n))})})}function bi(t,e,r,n){return jr(this,void 0,void 0,function*(){return ps(t,"GET",e,r,n)})}function ot(t,e,r,n,s){return jr(this,void 0,void 0,function*(){return ps(t,"POST",e,n,s,r)})}function La(t,e,r,n,s){return jr(this,void 0,void 0,function*(){return ps(t,"PUT",e,n,s,r)})}function Wg(t,e,r,n){return jr(this,void 0,void 0,function*(){return ps(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mf(t,e,r,n,s){return jr(this,void 0,void 0,function*(){return ps(t,"DELETE",e,n,s,r)})}var je=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Vg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=pf(s)}uploadOrUpdate(e,r,n,s){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},hu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?La:ot)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(e,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:hu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield La(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ot(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Fl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return je(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ot(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return je(this,void 0,void 0,function*(){try{const s=yield ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}download(e,r){return je(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield bi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}info(e){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield bi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Da(n),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}exists(e){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Wg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ae(n)&&n instanceof Ia){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vg),r),{prefix:e||""});return{data:yield ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}listV2(e,r){return je(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Gg="2.11.0",Jg={"X-Client-Info":`storage-js/${Gg}`};var Er=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Qg{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Jg),r),this.fetch=pf(n)}listBuckets(){return Er(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Er(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Er(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield mf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}}class Yg extends Qg{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Kg(this.url,this.headers,e,this.fetch)}}const Xg="2.55.0";let Nn="";typeof Deno<"u"?Nn="deno":typeof document<"u"?Nn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nn="react-native":Nn="node";const Zg={"X-Client-Info":`supabase-js-${Nn}/${Xg}`},ey={headers:Zg},ty={schema:"public"},ry={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ny={};var sy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const iy=t=>{let e;return t?e=t:typeof fetch>"u"?e=Zh:e=fetch,(...r)=>e(...r)},oy=()=>typeof Headers>"u"?ef:Headers,ay=(t,e,r)=>{const n=iy(r),s=oy();return(i,o)=>sy(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var ly=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function cy(t){return t.endsWith("/")?t:t+"/"}function uy(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ly(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const gf="2.71.1",Or=30*1e3,Ma=3,Po=Ma*Or,dy="http://localhost:9999",hy="supabase.auth.token",fy={"X-Client-Info":`gotrue-js/${gf}`},Ua="X-Supabase-Api-Version",yf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},py=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,my=10*60*1e3;class Bl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gy extends Bl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yy(t){return z(t)&&t.name==="AuthApiError"}class vf extends Bl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class rr extends Bl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class At extends rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vy(t){return z(t)&&t.name==="AuthSessionMissingError"}class Is extends rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ds extends rr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ls extends rr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xy(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class fu extends rr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class za extends rr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function $o(t){return z(t)&&t.name==="AuthRetryableFetchError"}class pu extends rr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Fa extends rr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mu=` 	
\r=`.split(""),wy=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mu.length;e+=1)t[mu[e].charCodeAt(0)]=-2;for(let e=0;e<ji.length;e+=1)t[ji[e].charCodeAt(0)]=e;return t})();function gu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ji[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ji[n]),e.queuedBits-=6}}function xf(t,e,r){const n=wy[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function yu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{jy(o,n,r)};for(let o=0;o<t.length;o+=1)xf(t.charCodeAt(o),s,i);return e.join("")}function _y(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function by(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}_y(n,e)}}function jy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ky(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)xf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Sy(t){const e=[];return by(t,r=>e.push(r)),new Uint8Array(e)}function Ny(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>gu(s,r,n)),gu(null,r,n),e.join("")}function Ey(t){return Math.round(Date.now()/1e3)+t}function Cy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",ir={tested:!1,writable:!1},wf=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ir.tested)return ir.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ir.tested=!0,ir.writable=!0}catch{ir.tested=!0,ir.writable=!1}return ir.writable};function Ty(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const _f=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>dn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Py=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ar=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},or=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ot=async(t,e)=>{await t.removeItem(e)};class eo{constructor(){this.promise=new eo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}eo.promiseConstructor=Promise;function Oo(t){const e=t.split(".");if(e.length!==3)throw new Fa("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!py.test(e[n]))throw new Fa("JWT not in base64url format");return{header:JSON.parse(yu(e[0])),payload:JSON.parse(yu(e[1])),signature:ky(e[2]),raw:{header:e[0],payload:e[1]}}}async function $y(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Oy(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Ay(t){return("0"+t.toString(16)).substr(-2)}function Ry(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Ay).join("")}async function Iy(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Iy(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cr(t,e,r=!1){const n=Ry();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ar(t,`${e}-code-verifier`,s);const i=await Dy(n);return[i,n===i?"plain":"s256"]}const Ly=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function My(t){const e=t.headers.get(Ua);if(!e||!e.match(Ly))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Uy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(t){if(!Fy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ao(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vu(t){return JSON.parse(JSON.stringify(t))}var By=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const cr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qy=[502,503,504];async function xu(t){var e;if(!Py(t))throw new za(cr(t),0);if(qy.includes(t.status))throw new za(cr(t),t.status);let r;try{r=await t.json()}catch(i){throw new vf(cr(i),i)}let n;const s=My(t);if(s&&s.getTime()>=yf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pu(cr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new At}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new pu(cr(r),t.status,r.weak_password.reasons);throw new gy(cr(r),t.status||500,n)}const Hy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function q(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ua]||(i[Ua]=yf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Wy(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Wy(t,e,r,n,s,i){const o=Hy(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new za(cr(c),0)}if(l.ok||await xu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await xu(c)}}function yt(t){var e;let r=null;Jy(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Ey(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function wu(t){const e=yt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ut(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Vy(t){return{data:t,error:null}}function Ky(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=By(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Gy(t){return t}function Jy(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ro=["global","local","others"];var Qy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Yy{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=_f(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Ro[0]){if(Ro.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ro.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ut})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Qy(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ky,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ut})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Gy});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(v.split(";")[1].split("=")[1]);u[`${P}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Tr(e);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ut})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Tr(e);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ut})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Tr(e);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ut})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Tr(e.userId);try{const{data:r,error:n}=await q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Tr(e.userId),Tr(e.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}function _u(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Xy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pr={debug:!!(globalThis&&wf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zy extends bf{}async function ev(t,e,r){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Zy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Xy();const tv={url:dy,storageKey:hy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bu(t,e,r){return await r()}const $r={};class ns{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Yy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_f(s.fetch),this.lock=s.lock||bu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ev:this.lock=bu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:wf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_u(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=_u(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=$r[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=$r[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ty(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xy(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new vf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:yt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Cr(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:yt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:yt})}else throw new Ds("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wu})}else throw new Ds("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Is}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,c,u,d,h,f,y;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:P,wallet:p,statement:m,options:g}=e;let _;if(Qe())if(typeof p=="object")_=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const E=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),m?{statement:m}:null));let w;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")w=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)w=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)v=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),b=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=N}}try{const{data:P,error:p}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Ny(b)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:yt});if(p)throw p;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Is}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:p})}catch(P){if(z(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(e){const r=await or(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yt});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Is}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Is}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Cr(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ds("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Cr(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Vy})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new At;const{error:s}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ds("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Po:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await or(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ao()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ut}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(r){if(z(r))return vy(r)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new At;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Cr(this.storage,this.storageKey));const{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ut});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new At;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Oo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new At;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Qe())throw new Ls("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ls(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ls("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fu("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Ls("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:b,error:P}=await this._getUser(i);if(P)throw P;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(yy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Cy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Cr(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Oy(async s=>(s>0&&await $y(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&$o(i)&&Date.now()+o-n<Or})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await or(this.storage,this.storageKey);if(s&&this.userStorage){let o=await or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ar(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ao()}else if(s&&!s.user&&!s.user){const o=await or(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ot(this.storage,this.storageKey+"-user"),await Ar(this.storage,this.storageKey,s)):s.user=Ao()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Po;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Po}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),$o(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),z(i)){const o={session:null,error:i};return $o(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ar(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=vu(s);await Ar(this.storage,this.storageKey,i)}else{const s=vu(r);await Ar(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Or}ms, refresh threshold is ${Ma} ticks`),s<=Ma&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Cr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Oo(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+my>s)return n;const{data:i,error:o}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Oo(n);r!=null&&r.allowExpired||Uy(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=zy(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Sy(`${l}.${c}`)))throw new Fa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}ns.nextInstanceID=0;const rv=ns;class nv extends rv{constructor(e){super(e)}}var sv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class iv{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=cy(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:ty,realtime:ny,auth:Object.assign(Object.assign({},ry),{storageKey:u}),global:ey},h=uy(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=ay(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new _g(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Yg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Y0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return sv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Mg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ov=(t,e,r)=>new iv(t,e,r);function av(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}av()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lv="https://jymcqdvmbtushfmnionf.supabase.co",cv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp5bWNxZHZtYnR1c2hmbW5pb25mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3NTg5NDAsImV4cCI6MjA3MzMzNDk0MH0.SQ-uKvSPzhundlH6PRLXKbpHEXkwtCwP9X7Twmscafo",V=ov(lv,cv);class uv{getKey(e){return`healthSystem_${e}`}get(e){const r=localStorage.getItem(e);return r?JSON.parse(r):[]}set(e,r){localStorage.setItem(e,JSON.stringify(r))}getUsers(){return this.get(this.getKey("users"))}saveUser(e){const r=this.getUsers(),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("users"),r)}getUserById(e){return this.getUsers().find(n=>n.id===e)||null}getUserByEmail(e){return this.getUsers().find(n=>n.email===e)||null}getMedications(e){return this.get(this.getKey("medications")).filter(r=>r.userId===e)}saveMedication(e){const r=this.get(this.getKey("medications")),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("medications"),r)}deleteMedication(e){const r=this.get(this.getKey("medications"));this.set(this.getKey("medications"),r.filter(n=>n.id!==e))}getAppointments(e){return this.get(this.getKey("appointments")).filter(r=>r.userId===e)}saveAppointment(e){const r=this.get(this.getKey("appointments")),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("appointments"),r)}deleteAppointment(e){const r=this.get(this.getKey("appointments"));this.set(this.getKey("appointments"),r.filter(n=>n.id!==e))}getActivities(e){return this.get(this.getKey("activities")).filter(r=>r.userId===e)}saveActivity(e){const r=this.get(this.getKey("activities")),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("activities"),r)}getRecommendations(e){return this.get(this.getKey("recommendations")).filter(r=>r.userId===e)}saveRecommendation(e){const r=this.get(this.getKey("recommendations")),n=r.findIndex(s=>s.id===e.id);n>=0?r[n]=e:r.push(e),this.set(this.getKey("recommendations"),r)}}const X=new uv;class dv{getStorageKey(e){return`healthSystem_${e}`}get(e){const r=localStorage.getItem(e);return r?JSON.parse(r):[]}set(e,r){localStorage.setItem(e,JSON.stringify(r))}getUserPoints(e){const r=this.getStorageKey(`user_points_${e}`),n=localStorage.getItem(r);if(n)return JSON.parse(n);const s={total_points:0,available_points:0,total_earned:0,total_redeemed:0,premium_until:null};return localStorage.setItem(r,JSON.stringify(s)),s}updateUserPoints(e,r){const s={...this.getUserPoints(e),...r},i=this.getStorageKey(`user_points_${e}`);return localStorage.setItem(i,JSON.stringify(s)),s}addSharePoints(e,r,n="generic"){const i=this.getUserPoints(e),o=new Date().toISOString().split("T")[0],l=this.get(this.getStorageKey("shares"));if(l.filter(v=>v.user_id===e&&v.shared_at.startsWith(o)).some(v=>v.advertisement_id===r))return{points:i,isNewPremium:!1};const d={id:`share_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,user_id:e,advertisement_id:r,share_type:n,points_earned:10,shared_at:new Date().toISOString()};l.push(d),this.set(this.getStorageKey("shares"),l);const h=this.updateUserPoints(e,{total_points:i.total_points+10,available_points:i.available_points+10,total_earned:i.total_earned+10*.1}),f=l.filter(v=>v.user_id===e&&v.shared_at.startsWith(o));let y=!1;if(f.length>=3&&!this.isPremiumActive(e)){const v=new Date;v.setHours(v.getHours()+24),this.updateUserPoints(e,{...h,premium_until:v.toISOString()}),y=!0}return{points:h,isNewPremium:y}}redeemReward(e,r,n){const s=this.getUserPoints(e);if(s.available_points<n)return{success:!1,message:"Pontos insuficientes"};const i={id:`redemption_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,user_id:e,reward_id:r,points_spent:n,money_value:n*.1,status:"pending",redeemed_at:new Date().toISOString()},o=this.get(this.getStorageKey("redemptions"));return o.push(i),this.set(this.getStorageKey("redemptions"),o),this.updateUserPoints(e,{available_points:s.available_points-n,total_redeemed:s.total_redeemed+n*.1}),{success:!0,message:"Recompensa resgatada com sucesso!"}}getUserRedemptions(e){return this.get(this.getStorageKey("redemptions")).filter(n=>n.user_id===e)}getUserShares(e){return this.get(this.getStorageKey("shares")).filter(n=>n.user_id===e)}isPremiumActive(e){const r=this.getUserPoints(e);return r.premium_until?new Date(r.premium_until)>new Date:!1}getPremiumDaysLeft(e){const r=this.getUserPoints(e);if(!r.premium_until)return 0;const n=new Date(r.premium_until),s=new Date;if(n<=s)return 0;const i=n.getTime()-s.getTime(),o=Math.ceil(i/(1e3*60*60*24));return Math.max(0,o)}}const ju=new dv,jf=C.createContext(void 0);function Pt(){const t=C.useContext(jf);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function hv({children:t}){const[e,r]=C.useState(null),[n,s]=C.useState(!0),i=(e==null?void 0:e.email)==="webxrio@gmail.com"||(e==null?void 0:e.email)==="admin@healthsystem.com";C.useEffect(()=>{V.auth.getSession().then(({data:{session:f}})=>{var y;if(f!=null&&f.user){const v=X.getUserById(f.user.id);if(v)r(v);else{const b={id:f.user.id,email:f.user.email,name:((y=f.user.user_metadata)==null?void 0:y.name)||"Usuário",age:25,plan:"free",points:0,premiumDays:0,createdAt:new Date().toISOString(),profile:{weight:70,height:170,activityLevel:"moderate",healthGoals:[],allergies:[],medications:[],preferences:{exerciseTypes:[],dietType:"balanced",notifications:!0}}};X.saveUser(b),r(b)}}s(!1)});const{data:{subscription:h}}=V.auth.onAuthStateChange(async(f,y)=>{if(y!=null&&y.user){const v=X.getUserById(y.user.id);r(v)}else r(null);s(!1)});return()=>h.unsubscribe()},[]);const d={user:e,loading:n,signIn:async(h,f)=>{try{if(h==="webxrio@gmail.com"&&f==="487001@#$Valeria"){try{const{error:b}=await V.auth.signInWithPassword({email:h,password:f});if(!b){$.success("Login realizado com sucesso!");return}}catch{console.log("Supabase auth failed, using local demo")}const v={id:"demo-admin",email:"webxrio@gmail.com",name:"Rodrilan - Desenvolvedor",age:30,plan:"premium",points:1e3,premiumDays:365,createdAt:new Date().toISOString(),profile:{weight:75,height:175,activityLevel:"high",healthGoals:["Manter forma física","Vida saudável"],allergies:[],medications:[],preferences:{exerciseTypes:["Musculação","Corrida"],dietType:"balanced",notifications:!0}}};X.saveUser(v),r(v),$.success("Login realizado com sucesso!");return}if(h==="user@example.com"&&f==="user123"){const v={id:"demo-user",email:"user@example.com",name:"Usuário Demo",age:25,plan:"free",points:150,premiumDays:0,createdAt:new Date().toISOString(),profile:{weight:70,height:170,activityLevel:"moderate",healthGoals:["Perder peso","Exercitar-se mais"],allergies:[],medications:[],preferences:{exerciseTypes:["Caminhada","Yoga"],dietType:"balanced",notifications:!0}}};X.saveUser(v),r(v),$.success("Login realizado com sucesso!");return}const{error:y}=await V.auth.signInWithPassword({email:h,password:f});if(y){const v=X.getUsers().find(b=>b.email===h);if(v){r(v),$.success("Login realizado com sucesso!");return}throw y}$.success("Login realizado com sucesso!")}catch(y){throw $.error("Erro no login: "+y.message),y}},signUp:async(h,f,y,v)=>{try{const{data:b,error:P}=await V.auth.signUp({email:h,password:f,options:{data:{name:y}}});if(P){const p={id:`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,email:h,name:y,age:v,plan:"free",points:0,premiumDays:0,createdAt:new Date().toISOString(),profile:{weight:70,height:170,activityLevel:"moderate",healthGoals:[],allergies:[],medications:[],preferences:{exerciseTypes:[],dietType:"balanced",notifications:!0}}};X.saveUser(p),r(p),$.success("Conta criada com sucesso!");return}if(b.user){const p={id:b.user.id,email:h,name:y,age:v,plan:"free",points:0,premiumDays:0,createdAt:new Date().toISOString(),profile:{weight:70,height:170,activityLevel:"moderate",healthGoals:[],allergies:[],medications:[],preferences:{exerciseTypes:[],dietType:"balanced",notifications:!0}}};X.saveUser(p),r(p),$.success("Conta criada com sucesso!")}}catch(b){throw $.error("Erro no cadastro: "+b.message),b}},signOut:async()=>{try{r(null),$.success("Logout realizado com sucesso!");try{await V.auth.signOut()}catch{}}catch(h){throw $.error("Erro no logout: "+h.message),h}},updateUser:h=>{if(e){const f={...e,...h};if(X.saveUser(f),r(f),h.points!==void 0){const y=ju.getUserPoints(e.id);y.total_points!==h.points&&ju.updateUserPoints(e.id,{total_points:h.points,available_points:h.points-(y.total_points-y.available_points)})}}},isAdmin:i};return a.jsx(jf.Provider,{value:d,children:t})}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pv=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),ku=t=>{const e=pv(t);return e.charAt(0).toUpperCase()+e.slice(1)},kf=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),mv=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>C.createElement("svg",{ref:c,...gv,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:kf("lucide",s),...!i&&!mv(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>C.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=(t,e)=>{const r=C.forwardRef(({className:n,...s},i)=>C.createElement(yv,{ref:i,iconNode:e,className:kf(`lucide-${fv(ku(t))}`,`lucide-${t}`,n),...s}));return r.displayName=ku(t),r};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ba=F("activity",vv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Sf=F("bell",xv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],_v=F("brain",wv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qe=F("calendar",bv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Un=F("circle-check-big",jv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ss=F("clock",kv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Io=F("coins",Sv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Su=F("crown",Nv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Nf=F("download",Ev);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Nu=F("eye-off",Cv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eu=F("eye",Tv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cu=F("file-text",Pv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ov=F("funnel",$v);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Rv=F("gift",Av);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Tu=F("graduation-cap",Iv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ki=F("heart",Dv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Mv=F("house",Lv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],zv=F("image",Uv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Bv=F("lightbulb",Fv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Pu=F("link",qv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ef=F("lock",Hv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vv=F("log-out",Wv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ql=F("mail",Kv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cf=F("map-pin",Gv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Qv=F("menu",Jv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Xv=F("palette",Yv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ex=F("phone",Zv);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Si=F("pill",tx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ni=F("plus",rx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sx=F("save",nx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tf=F("search",ix);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hl=F("settings",ox);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Pf=F("share-2",ax);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ei=F("shield",lx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],is=F("square-pen",cx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],dx=F("stethoscope",ux);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xr=F("trash-2",hx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],px=F("triangle-alert",fx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ci=F("trophy",mx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ti=F("user",gx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$u=F("users",yx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xx=F("x",vx);function wx({children:t,activeTab:e,onTabChange:r}){var f,y;const{user:n,signOut:s,isAdmin:i}=Pt(),[o,l]=C.useState(!1),c=async()=>{try{await s()}catch{$.error("Erro ao fazer logout")}},u=[{id:"dashboard",label:"Dashboard",icon:Mv},{id:"medications",label:"Medicamentos",icon:Si},{id:"appointments",label:"Compromissos",icon:qe},{id:"rewards",label:"Recompensas",icon:Ci},{id:"profile",label:"Perfil",icon:Ti},{id:"settings",label:"Configurações",icon:Hl}];i&&u.push({id:"admin",label:"Admin",icon:Ei});const d=(n==null?void 0:n.plan)==="premium"?"Premium":"Gratuito",h=(n==null?void 0:n.plan)==="premium"?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100";return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${o?"translate-x-0":"-translate-x-full"}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ki,{className:"h-8 w-8 text-red-500"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Top Saúde"}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${h}`,children:d})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:a.jsx(xx,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"flex-1 px-4 py-6",children:a.jsx("nav",{className:"space-y-2",children:u.map(v=>{const b=v.icon;return a.jsxs("button",{onClick:()=>{r(v.id),l(!1)},className:`
                    w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors
                    ${e===v.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                  `,children:[a.jsx(b,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:v.label})]},v.id)})})}),a.jsxs("div",{className:"p-4 border-t",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:n==null?void 0:n.name}),a.jsx("p",{className:"text-xs text-gray-500",children:n==null?void 0:n.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-bold text-blue-600",children:[(n==null?void 0:n.points)||0," pts"]}),(n==null?void 0:n.plan)==="premium"&&(n==null?void 0:n.premiumDays)>0&&a.jsxs("p",{className:"text-xs text-yellow-600",children:[n.premiumDays," dias premium"]})]})]}),a.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(Vv,{className:"h-4 w-4"}),a.jsx("span",{children:"Sair"})]})]})]}),a.jsxs("div",{className:"flex-1 lg:ml-0",children:[a.jsx("header",{className:"bg-white shadow-sm border-b px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>l(!0),className:"lg:hidden text-gray-500 hover:text-gray-700",children:a.jsx(Qv,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:((f=u.find(v=>v.id===e))==null?void 0:f.label)||"Dashboard"}),a.jsx("p",{className:"text-sm text-gray-600",children:(n==null?void 0:n.plan)==="premium"?"Conta Premium Ativa":"Conta Gratuita"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Sf,{className:"h-6 w-6 text-gray-400 hover:text-gray-600 cursor-pointer"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-medium",children:(y=n==null?void 0:n.name)==null?void 0:y.charAt(0).toUpperCase()})})})]})]})}),a.jsx("main",{className:"flex-1 overflow-auto p-6",children:t})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)})]})}function _x(){const[t,e]=C.useState(!0),[r,n]=C.useState({email:"",password:"",name:"",age:""}),[s,i]=C.useState(!1),{signIn:o,signUp:l}=Pt(),c=async d=>{d.preventDefault(),i(!0);try{if(t)await o(r.email,r.password);else{if(!r.name||!r.age){$.error("Por favor, preencha todos os campos");return}await l(r.email,r.password,r.name,parseInt(r.age))}}catch{}finally{i(!1)}},u=d=>{n(h=>({...h,[d.target.name]:d.target.value}))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl",children:a.jsx(ki,{className:"h-8 w-8 text-white"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rotina Inteligente"}),a.jsx("p",{className:"text-gray-600",children:t?"Entre em sua conta":"Crie sua conta e comece sua jornada saudável"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[!t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{id:"name",name:"name",type:"text",required:!t,value:r.name,onChange:u,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Seu nome completo"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-2",children:"Idade"}),a.jsxs("div",{className:"relative",children:[a.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{id:"age",name:"age",type:"number",min:"1",max:"120",required:!t,value:r.age,onChange:u,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Sua idade"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ql,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:u,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"seu@email.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:u,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Sua senha",minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Processando...":t?"Entrar":"Criar Conta"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>e(!t),className:"text-blue-600 hover:text-blue-800 font-medium",children:t?"Não tem conta? Cadastre-se":"Já tem conta? Entre aqui"})}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.jsx("strong",{children:"Crie sua conta Grátis:"})}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"suporte:"})," webxrio@gmail.com / 21-97961-8766"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Direito reservado:"})," Webx-Rio / Desenvolvimento"]}),a.jsx("p",{className:"text-blue-600 font-medium",children:" Rotina inteligente"})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx(ki,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),a.jsx("p",{children:"Saúde Integral"})]}),a.jsxs("div",{children:[a.jsx(qe,{className:"h-6 w-6 text-blue-500 mx-auto mb-2"}),a.jsx("p",{children:"Lembretes"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"h-6 w-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mb-2",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"AI"})}),a.jsx("p",{children:"IA Personalizada"})]})]})})]})})}class gt{static generateRecommendations(e,r,n){const s=[];return this.getBaseRecommendations(e).forEach(o=>{s.push({id:`ai_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e.id,...o,date:new Date().toISOString(),implemented:!1})}),s}static getBaseRecommendations(e){const{profile:r}=e,n=[];return r.activityLevel==="low"?n.push({type:"exercise",title:"Caminhada Leve de 15 Minutos",description:"Comece com uma caminhada leve no seu bairro. Exercícios de baixo impacto são ideais para iniciantes.",priority:"high",category:"Exercício Iniciante"}):r.activityLevel==="moderate"&&n.push({type:"exercise",title:"Treino de Força 3x por Semana",description:"Incorpore exercícios de musculação para fortalecer músculos e ossos.",priority:"medium",category:"Exercício Moderado"}),r.weight/(r.height/100)**2>25&&n.push({type:"nutrition",title:"Reduzir Carboidratos Refinados",description:"Substitua pães brancos, doces e refrigerantes por opções integrais e água.",priority:"high",category:"Nutrição para Peso Saudável"}),n.push({type:"wellness",title:"Meditação Matinal de 10 Minutos",description:"Pratique mindfulness ao acordar para reduzir stress e melhorar o foco.",priority:"medium",category:"Bem-estar Mental"}),e.age<18?n.push({type:"sleep",title:"Durma 8-9 Horas por Noite",description:"Adolescentes precisam de mais sono para desenvolvimento adequado.",priority:"high",category:"Sono Jovem"}):n.push({type:"sleep",title:"Mantenha 7-8 Horas de Sono",description:"Adultos precisam de sono consistente para recuperação e saúde mental.",priority:"high",category:"Sono Adulto"}),n}static generatePersonalizedTip(e){const r=[`${e.name}, lembre-se de beber pelo menos 2 litros de água hoje!`,`Que tal uma pausa de 5 minutos para alongar, ${e.name}?`,`${e.name}, você já praticou gratidão hoje? Pense em 3 coisas boas!`,`Hora de se mover, ${e.name}! Uma caminhada rápida pode energizar seu dia.`,`${e.name}, respire fundo 3 vezes para reduzir o stress.`];return r[Math.floor(Math.random()*r.length)]}static calculateRecommendationScore(e,r){const n=r.filter(i=>i.completed).length,s=r.length;return s===0?0:Math.round(n/s*100)}}const Do=()=>{const{user:t}=Pt(),[e,r]=C.useState(0),[n,s]=C.useState(!0),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState([]),[h,f]=C.useState([]),[y,v]=C.useState([]),[b,P]=C.useState([]),[p,m]=C.useState(""),g=["Experimente compartilhar em grupos de WhatsApp para mais alcance.","Adicione descrições personalizadas para engajar mais pessoas.","Use imagens claras e chamativas para destacar seus anúncios."],_=["🚶 Caminhe 20 minutos após o almoço.","💧 Beba 2 litros de água hoje.","🧘 Faça alongamentos rápidos a cada 2 horas.","🍎 Coma uma fruta como lanche da tarde.","😴 Tente dormir pelo menos 7h esta noite."],E=async()=>{if(t)try{s(!0);const{data:S,error:D}=await V.from("user_profiles").select("points").eq("id",t.id).single();if(D)console.warn("Warning ao carregar pontos:",D.message||D),e!==0&&r(0);else{const B=(S==null?void 0:S.points)??0;B!==e&&r(B)}}catch(S){console.error("Erro inesperado loadSharePoints:",S)}finally{s(!1)}},N=async()=>{try{const{data:S,error:D}=await V.from("rewards").select("*").eq("active",!0).order("points_required",{ascending:!0});D?(console.warn("Erro ao buscar rewards:",D.message||D),o([])):o(S||[])}catch(S){console.error("Erro inesperado loadRewards:",S),o([])}},w=()=>{if(t)try{d(X.getActivities(t.id)),f(X.getRecommendations(t.id)),v(X.getMedications(t.id)),P(X.getAppointments(t.id))}catch(S){console.error("Erro loadLocalData:",S)}},x=()=>{if(t)try{if(gt&&gt.generatePersonalizedTip){const S=gt.generatePersonalizedTip(t);m(S)}else m("Mantenha hábitos saudáveis — durma bem e hidrate-se.")}catch(S){console.error("Erro generateDailyTip:",S),m("Mantenha hábitos saudáveis — durma bem e hidrate-se.")}},I=()=>{if(t)try{if(gt&&gt.generateRecommendations){const S=gt.generateRecommendations(t,u,y);S.forEach(D=>X.saveRecommendation(D)),f(S)}}catch(S){console.error("Erro generateRecommendations:",S)}};C.useEffect(()=>{t&&(w(),x(),E(),N(),(X.getRecommendations(t.id)||[]).length===0&&I())},[t]),C.useEffect(()=>{if(!t)return;const S=setInterval(()=>{E()},5e3);return()=>clearInterval(S)},[t]);const L=S=>{const D=u.find(Re=>Re.id===S);if(!D||D.completed)return;const B={...D,completed:!0};try{X.saveActivity(B),d(Re=>Re.map(fe=>fe.id===S?B:fe)),$.success("Atividade concluída com sucesso!")}catch(Re){console.error("Erro ao salvar atividade:",Re),$.error("Erro ao concluir atividade")}},k=()=>{try{if(gt&&gt.generateHealthSuggestion&&t){const S=gt.generateHealthSuggestion(t);c(D=>[...D,S])}else{const S=_[Math.floor(Math.random()*_.length)];c(D=>[...D,S])}$.success("Nova atividade de saúde gerada!")}catch(S){console.error("Erro gerar sugestão saúde:",S),$.error("Erro ao gerar sugestão")}},U=async S=>{if(!t){$.error("Você precisa estar logado para resgatar.");return}if(e<S.points_required){$.error("Pontos insuficientes.");return}try{const{error:D}=await V.from("user_rewards").insert({user_id:t.id,reward_id:S.id,points_spent:S.points_required,money_value:S.points_required*.1,status:"pending"});if(D){console.error("Erro insert user_rewards:",D),$.error("Erro ao registrar resgate");return}try{const{error:B}=await V.rpc("increment_user_points",{user_id_input:t.id,points_to_add:-S.points_required});B&&console.warn("RPC decrement não disponível:",B.message||B)}catch(B){console.warn("RPC decrement falhou:",B)}c(B=>[...B,`💡 Sugestão após resgate: aproveite seu benefício (${S.name}).`]),await E(),$.success(`Recompensa "${S.name}" resgatada!`)}catch(D){console.error("Erro handleRedeem:",D),$.error("Erro inesperado ao resgatar")}},be=(i||[]).filter(S=>e>=(S.points_required||0)).sort((S,D)=>S.points_required-D.points_required).slice(0,3),dt=(e*.1).toFixed(2),kr=u.filter(S=>new Date(S.date).toDateString()===new Date().toDateString()),nr=kr.filter(S=>S.completed).length,sr=b.filter(S=>new Date(S.date).toDateString()===new Date().toDateString()),O=y.filter(S=>!S.completed),M=[{icon:Ba,label:"Atividades Hoje",value:`${nr}/${kr.length}`,color:"bg-blue-500"},{icon:qe,label:"Compromissos",value:sr.length,color:"bg-green-500"},{icon:Si,label:"Medicamentos",value:O.length,color:"bg-purple-500"},{icon:Pf,label:"Pontos (Compart.)",value:n?"...":e,color:"bg-yellow-500"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Olá, ",(t==null?void 0:t.name)||"Usuário","! 👋"]}),a.jsx("p",{className:"text-blue-100 mb-2",children:p||"Mantenha hábitos saudáveis."}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bv,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm",children:"Dica do dia"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-3xl font-bold",children:n?"...":e}),a.jsxs("div",{className:"text-blue-100 text-sm",children:["pontos (compart.) • R$ ",dt]})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:M.map((S,D)=>{const B=S.icon;return a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:S.label}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:S.value})]}),a.jsx("div",{className:`p-3 rounded-lg ${S.color}`,children:a.jsx(B,{className:"h-6 w-6 text-white"})})]})},D)})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h2",{className:"text-lg font-semibold",children:"🎁 Recompensas Disponíveis"})}),be.length===0?a.jsx("p",{className:"text-gray-500",children:"Nenhuma recompensa disponível para o seu saldo."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:be.map(S=>a.jsxs("div",{className:"border rounded-lg p-3 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:S.name}),S.description&&a.jsx("p",{className:"text-sm text-gray-600",children:S.description})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("span",{className:"font-medium",children:[S.points_required," pts"]}),a.jsx("button",{onClick:()=>U(S),className:"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Resgatar"})]})]},S.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"🤖 Sugestões com IA"}),a.jsx("button",{onClick:k,className:"text-sm text-blue-600 hover:underline",children:"➕ Gerar atividade de saúde"})]}),a.jsx("ul",{className:"list-disc pl-6 space-y-2 text-gray-700",children:l.length===0?g.map((S,D)=>a.jsx("li",{children:S},D)):l.map((S,D)=>a.jsx("li",{children:S},D))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h2",{className:"text-lg font-semibold",children:"📌 Minhas Atividades"})}),u.length===0?a.jsx("p",{className:"text-gray-500",children:"Nenhuma atividade registrada."}):a.jsx("div",{className:"space-y-3",children:u.map(S=>a.jsxs("div",{className:`p-3 rounded-lg border flex justify-between items-center ${S.completed?"bg-gray-100 line-through":"bg-white"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-full ${S.completed?"bg-green-100":"bg-gray-200"}`,children:S.completed?a.jsx(Un,{className:"h-4 w-4 text-green-600"}):a.jsx(ss,{className:"h-4 w-4 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.description}),S.date&&a.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.date).toLocaleString()})]})]}),!S.completed&&a.jsx("button",{onClick:()=>L(S.id),className:"text-blue-600 hover:underline text-sm",children:"Concluir"})]},S.id))})]})]})},bx=[{id:"ad-1",name:"Farmácia Saúde Total",category:"Farmácia",image_url:"https://images.pexels.com/photos/305568/pexels-photo-305568.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Rua das Flores, 123 - Centro",whatsapp:"5511999887766",link:"https://farmaciasaudetotal.com.br",active:!0,created_at:new Date().toISOString()},{id:"ad-2",name:"Academia Corpo Sano",category:"Fitness e Exercícios",image_url:"https://images.pexels.com/photos/1552252/pexels-photo-1552252.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Av. Principal, 456 - Bairro Novo",whatsapp:"5511888776655",link:"https://academiacorposano.com.br",active:!0,created_at:new Date().toISOString()},{id:"ad-3",name:"Clínica Dr. Bem-Estar",category:"Clínicas e Consultórios",image_url:"https://images.pexels.com/photos/263402/pexels-photo-263402.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Rua da Saúde, 789 - Vila Médica",whatsapp:"5511777665544",link:"https://clinicabemestar.com.br",active:!0,created_at:new Date().toISOString()},{id:"ad-4",name:"Restaurante Vida Natural",category:"Alimentação",image_url:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Praça Verde, 321 - Eco Bairro",whatsapp:"5511666554433",link:"https://vidanatural.com.br",active:!0,created_at:new Date().toISOString()},{id:"ad-5",name:"Spa Relaxamento Total",category:"Beleza e Estética",image_url:"https://images.pexels.com/photos/3757942/pexels-photo-3757942.jpeg?auto=compress&cs=tinysrgb&w=512",address:"Rua do Bem-Estar, 654 - Centro Zen",whatsapp:"5511555443322",link:"https://sparelaxamento.com.br",active:!0,created_at:new Date().toISOString()}],jx=[{id:"reward-1",name:"Desconto 10% Farmácia",description:"Desconto de 10% em medicamentos na Farmácia Saúde Total",points_required:50,link:"https://farmaciasaudetotal.com.br/desconto",image_url:"https://images.pexels.com/photos/305568/pexels-photo-305568.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-2",name:"Aula Grátis na Academia",description:"Uma aula experimental gratuita na Academia Corpo Sano",points_required:100,link:"https://academiacorposano.com.br/gratis",image_url:"https://images.pexels.com/photos/1552252/pexels-photo-1552252.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-3",name:"Consulta com Desconto",description:"20% de desconto em consulta na Clínica Dr. Bem-Estar",points_required:150,link:"https://clinicabemestar.com.br/desconto",image_url:"https://images.pexels.com/photos/263402/pexels-photo-263402.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-4",name:"Refeição Saudável",description:"Prato principal grátis no Restaurante Vida Natural",points_required:200,link:"https://vidanatural.com.br/gratis",image_url:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-5",name:"Sessão de Relaxamento",description:"Massagem relaxante de 30 minutos no Spa Relaxamento Total",points_required:300,link:"https://sparelaxamento.com.br/massagem",image_url:"https://images.pexels.com/photos/3757942/pexels-photo-3757942.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"reward-6",name:"Vale Compras R$ 50",description:"Vale compras de R$ 50,00 para usar em qualquer estabelecimento parceiro",points_required:500,link:null,image_url:"https://images.pexels.com/photos/164527/pexels-photo-164527.jpeg?auto=compress&cs=tinysrgb&w=512",active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];function kx(){const[t,e]=C.useState("ads"),[r,n]=C.useState([]),[s,i]=C.useState([]),[o,l]=C.useState([]),[c,u]=C.useState(!0),[d,h]=C.useState(!0),[f,y]=C.useState(!1),[v,b]=C.useState(!1),[P,p]=C.useState(null),[m,g]=C.useState(null),[_,E]=C.useState({name:"",category:"",image_url:"",address:"",whatsapp:"",link:"",active:!0}),[N,w]=C.useState({name:"",description:"",points_required:50,link:"",image_url:"",active:!0});C.useEffect(()=>{x()},[]);const x=async()=>{u(!0);try{await Promise.all([I(),L()])}catch(j){console.error("Erro ao carregar dados:",j.message),$.error("Erro ao carregar dados")}finally{u(!1)}},I=async()=>{try{const{data:j,error:A}=await V.from("advertisements").select("*").order("created_at",{ascending:!1});if(A)throw A;n(j||[]),h(!0)}catch{console.log("Usando dados offline para anúncios"),n(bx),h(!1)}},L=async()=>{try{const{data:j,error:A}=await V.from("rewards").select("*").order("created_at",{ascending:!1});if(A)throw A;i(j||[]),h(!0)}catch{console.log("Usando dados offline para recompensas"),i(jx),h(!1)}},k=async()=>{try{const{data:j,error:A}=await V.from("share_tracking").select(`
          *,
          user_profiles!inner(name, email),
          advertisements(name, category)
        `).order("shared_at",{ascending:!1}).limit(100);if(A)throw A;l(j||[])}catch(j){console.log("Erro ao carregar relatórios:",j),l([])}},U=()=>{const j=o.map(pe=>{var Wl,Vl,Kl,Gl;return{usuario:((Wl=pe.user_profiles)==null?void 0:Wl.name)||"N/A",email:((Vl=pe.user_profiles)==null?void 0:Vl.email)||"N/A",anuncio:((Kl=pe.advertisements)==null?void 0:Kl.name)||"N/A",categoria:((Gl=pe.advertisements)==null?void 0:Gl.category)||"N/A",tipo:pe.share_type,pontos:pe.points_earned,data:new Date(pe.shared_at).toLocaleString("pt-BR")}}),A=[["Usuário","Email","Anúncio","Categoria","Tipo","Pontos","Data"],...j.map(pe=>[pe.usuario,pe.email,pe.anuncio,pe.categoria,pe.tipo,pe.pontos,pe.data])].map(pe=>pe.join(",")).join(`
`),Sr=new Blob([A],{type:"text/csv;charset=utf-8;"}),pt=document.createElement("a"),ms=URL.createObjectURL(Sr);pt.setAttribute("href",ms),pt.setAttribute("download",`relatorio-compartilhamentos-${new Date().toISOString().split("T")[0]}.csv`),pt.style.visibility="hidden",document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),$.success("Relatório baixado com sucesso!")},be=async()=>{if(confirm("Tem certeza que deseja excluir todos os registros de compartilhamento?")){if(!d){$.error("Funcionalidade disponível apenas online");return}try{const{error:j}=await V.from("share_tracking").delete().neq("id","");if(j)throw j;$.success("Registros excluídos com sucesso!"),k()}catch(j){console.error("Erro ao excluir registros:",j.message),$.error(`Erro ao excluir registros: ${j.message}`)}}},dt=async j=>{if(j.preventDefault(),!d){$.error("Funcionalidade disponível apenas online");return}try{if(P){const{error:A}=await V.from("advertisements").update(_).eq("id",P.id);if(A)throw A;$.success("Anúncio atualizado com sucesso!")}else{const{error:A}=await V.from("advertisements").insert([{..._,active:!0}]);if(A)throw A;$.success("Anúncio criado com sucesso!")}B(),x()}catch(A){console.error("Erro ao salvar anúncio:",A.message,A.details),$.error(`Erro ao salvar anúncio: ${A.message}`)}},kr=async j=>{if(j.preventDefault(),!d){$.error("Funcionalidade disponível apenas online");return}try{if(m){const{error:A}=await V.from("rewards").update(N).eq("id",m.id);if(A)throw A;$.success("Recompensa atualizada com sucesso!")}else{const{error:A}=await V.from("rewards").insert([{...N,active:!0}]);if(A)throw A;$.success("Recompensa criada com sucesso!")}Re(),x()}catch(A){console.error("Erro ao salvar recompensa:",A.message),$.error(`Erro ao salvar recompensa: ${A.message}`)}},nr=j=>{p(j),E({name:j.name,category:j.category,image_url:j.image_url,address:j.address,whatsapp:j.whatsapp,link:j.link||"",active:j.active}),y(!0)},sr=j=>{g(j),w({name:j.name,description:j.description||"",points_required:j.points_required,link:j.link||"",image_url:j.image_url||"",active:j.active}),b(!0)},O=async j=>{if(confirm("Tem certeza que deseja excluir este anúncio?")){if(!d){$.error("Funcionalidade disponível apenas online");return}try{const{error:A}=await V.from("advertisements").delete().eq("id",j);if(A)throw A;$.success("Anúncio excluído com sucesso!"),x()}catch(A){console.error("Erro ao excluir anúncio:",A.message,A.details),$.error(`Erro ao excluir anúncio: ${A.message}`)}}},M=async j=>{if(confirm("Tem certeza que deseja excluir esta recompensa?")){if(!d){$.error("Funcionalidade disponível apenas online");return}try{const{error:A}=await V.from("rewards").delete().eq("id",j);if(A)throw A;$.success("Recompensa excluída com sucesso!"),x()}catch(A){console.error("Erro ao excluir recompensa:",A.message),$.error(`Erro ao excluir recompensa: ${A.message}`)}}},S=async j=>{if(!d){$.error("Funcionalidade disponível apenas online");return}try{const{error:A}=await V.from("advertisements").update({active:!j.active}).eq("id",j.id);if(A)throw A;$.success(`Anúncio ${j.active?"desativado":"ativado"} com sucesso!`),x()}catch(A){console.error("Erro ao alterar status do anúncio:",A.message,A.details),$.error(`Erro ao alterar status: ${A.message}`)}},D=async j=>{if(!d){$.error("Funcionalidade disponível apenas online");return}try{const{error:A}=await V.from("rewards").update({active:!j.active}).eq("id",j.id);if(A)throw A;$.success(`Recompensa ${j.active?"desativada":"ativada"} com sucesso!`),x()}catch(A){console.error("Erro ao alterar status da recompensa:",A.message),$.error(`Erro ao alterar status: ${A.message}`)}},B=()=>{E({name:"",category:"",image_url:"",address:"",whatsapp:"",link:"",active:!0}),p(null),y(!1)},Re=()=>{w({name:"",description:"",points_required:50,link:"",image_url:"",active:!0}),g(null),b(!1)},fe=j=>{E(A=>({...A,[j.target.name]:j.target.value}))},ht=j=>{const A=j.target.type==="number"?parseInt(j.target.value):j.target.value;w(Sr=>({...Sr,[j.target.name]:A}))},ft=["Saúde e Bem-estar","Alimentação","Fitness e Exercícios","Beleza e Estética","Farmácia","Clínicas e Consultórios","Produtos Naturais","Equipamentos Médicos","Outros"];return c?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel Administrativo"}),a.jsxs("p",{className:"text-gray-600",children:["Gerencie anúncios e recompensas",!d&&a.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Modo Offline - Apenas Visualização"})]})]}),a.jsx("div",{className:"flex space-x-3",children:t==="ads"?a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ni,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Anúncio"})]}):a.jsxs("button",{onClick:()=>b(!0),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[a.jsx(Ni,{className:"h-5 w-5"}),a.jsx("span",{children:"Nova Recompensa"})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-1",children:a.jsxs("div",{className:"flex space-x-1",children:[a.jsxs("button",{onClick:()=>e("ads"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${t==="ads"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(zv,{className:"h-5 w-5"}),a.jsxs("span",{children:["Anúncios (",r.length,")"]})]}),a.jsxs("button",{onClick:()=>e("rewards"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${t==="rewards"?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Rv,{className:"h-5 w-5"}),a.jsxs("span",{children:["Recompensas (",s.length,")"]})]}),a.jsxs("button",{onClick:()=>e("reports"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${t==="reports"?"bg-green-100 text-green-700":"text-gray-600 hover:bg-gray-100"}`,children:[a.jsx(Cu,{className:"h-5 w-5"}),a.jsxs("span",{children:["Relatórios (",o.length,")"]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:P?"Editar Anúncio":"Novo Anúncio"}),a.jsxs("form",{onSubmit:dt,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome *"}),a.jsx("input",{type:"text",name:"name",required:!0,value:_.name,onChange:fe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do estabelecimento"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),a.jsxs("select",{name:"category",required:!0,value:_.category,onChange:fe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Selecione uma categoria"}),ft.map(j=>a.jsx("option",{value:j,children:j},j))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem *"}),a.jsx("input",{type:"url",name:"image_url",required:!0,value:_.image_url,onChange:fe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://exemplo.com/logo.png"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço *"}),a.jsx("input",{type:"text",name:"address",required:!0,value:_.address,onChange:fe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Rua, número, bairro, cidade"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp *"}),a.jsx("input",{type:"tel",name:"whatsapp",required:!0,value:_.whatsapp,onChange:fe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"5511999999999"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link (opcional)"}),a.jsx("input",{type:"url",name:"link",value:_.link,onChange:fe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://seusite.com"})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[P?"Atualizar":"Criar"," Anúncio"]}),a.jsx("button",{type:"button",onClick:B,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})}),v&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"Editar Recompensa":"Nova Recompensa"}),a.jsxs("form",{onSubmit:kr,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome *"}),a.jsx("input",{type:"text",name:"name",required:!0,value:N.name,onChange:ht,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Nome da recompensa"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),a.jsx("textarea",{name:"description",value:N.description,onChange:ht,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Descrição da recompensa",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pontos Necessários *"}),a.jsx("input",{type:"number",name:"points_required",required:!0,min:"1",value:N.points_required,onChange:ht,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"50"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Valor: R$ ",((N.points_required||0)*.1).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem"}),a.jsx("input",{type:"url",name:"image_url",value:N.image_url,onChange:ht,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://exemplo.com/imagem.png"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link (opcional)"}),a.jsx("input",{type:"url",name:"link",value:N.link,onChange:ht,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://seusite.com/oferta"})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:[m?"Atualizar":"Criar"," Recompensa"]}),a.jsx("button",{type:"button",onClick:Re,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})}),t==="ads"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(j=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:j.image_url,alt:j.name,className:"w-full h-48 object-cover",onError:A=>{A.target.src="https://via.placeholder.com/512"}}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("button",{onClick:()=>S(j),className:`p-2 rounded-full ${j.active?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:j.active?a.jsx(Eu,{className:"h-4 w-4"}):a.jsx(Nu,{className:"h-4 w-4"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:j.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${j.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:j.active?"Ativo":"Inativo"})]}),a.jsx("p",{className:"text-sm text-blue-600 mb-2",children:j.category}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cf,{className:"h-4 w-4"}),a.jsx("span",{children:j.address})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ex,{className:"h-4 w-4"}),a.jsx("span",{children:j.whatsapp})]}),j.link&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pu,{className:"h-4 w-4"}),a.jsx("a",{href:j.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 truncate",children:"Visitar site"})]})]}),a.jsxs("div",{className:"flex space-x-2 mt-4",children:[a.jsxs("button",{onClick:()=>nr(j),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:[a.jsx(is,{className:"h-4 w-4"}),a.jsx("span",{children:"Editar"})]}),a.jsxs("button",{onClick:()=>O(j.id),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[a.jsx(Xr,{className:"h-4 w-4"}),a.jsx("span",{children:"Excluir"})]})]})]})]},j.id))}),t==="reports"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Ações do Relatório"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:U,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Nf,{className:"h-5 w-5"}),a.jsx("span",{children:"Baixar CSV"})]}),a.jsxs("button",{onClick:be,className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:[a.jsx(Xr,{className:"h-5 w-5"}),a.jsx("span",{children:"Limpar Dados"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($u,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Total de Compartilhamentos"})]}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:o.length})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Io,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-900",children:"Pontos Distribuídos"})]}),a.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:o.reduce((j,A)=>j+(A.points_earned||0),0)})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qe,{className:"h-5 w-5 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Hoje"})]}),a.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:o.filter(j=>new Date(j.shared_at).toDateString()===new Date().toDateString()).length})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($u,{className:"h-5 w-5 text-yellow-600"}),a.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"Usuários Únicos"})]}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:new Set(o.map(j=>j.user_id)).size})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Relatório de Compartilhamentos"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Últimos 100 compartilhamentos registrados"})]}),o.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Cu,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nenhum compartilhamento registrado"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuário"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Anúncio"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontos"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(j=>{var A,Sr,pt,ms;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:((A=j.user_profiles)==null?void 0:A.name)||"N/A"}),a.jsx("div",{className:"text-sm text-gray-500",children:((Sr=j.user_profiles)==null?void 0:Sr.email)||"N/A"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:((pt=j.advertisements)==null?void 0:pt.name)||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:((ms=j.advertisements)==null?void 0:ms.category)||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j.share_type==="whatsapp"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:j.share_type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Io,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:j.points_earned||0})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.shared_at).toLocaleString("pt-BR")})]},j.id)})})]})})]})]}),t==="rewards"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(j=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:j.image_url||"https://via.placeholder.com/512x300?text=Recompensa",alt:j.name,className:"w-full h-48 object-cover",onError:A=>{A.target.src="https://via.placeholder.com/512x300?text=Recompensa"}}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("button",{onClick:()=>D(j),className:`p-2 rounded-full ${j.active?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:j.active?a.jsx(Eu,{className:"h-4 w-4"}):a.jsx(Nu,{className:"h-4 w-4"})})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:j.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${j.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:j.active?"Ativo":"Inativo"})]}),j.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:j.description}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Io,{className:"h-4 w-4 text-yellow-500"}),a.jsxs("span",{children:[j.points_required," pontos"]})]}),a.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",(j.points_required*.1).toFixed(2)]})]}),j.link&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pu,{className:"h-4 w-4"}),a.jsx("a",{href:j.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 truncate",children:"Ver oferta"})]})]}),a.jsxs("div",{className:"flex space-x-2 mt-4",children:[a.jsxs("button",{onClick:()=>sr(j),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-colors",children:[a.jsx(is,{className:"h-4 w-4"}),a.jsx("span",{children:"Editar"})]}),a.jsxs("button",{onClick:()=>M(j.id),className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[a.jsx(Xr,{className:"h-4 w-4"}),a.jsx("span",{children:"Excluir"})]})]})]})]},j.id))})]})}const Sx=()=>{const{user:t}=Pt(),[e,r]=C.useState("share"),[n,s]=C.useState([]),[i,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState(null),[h,f]=C.useState(!1),y=async()=>{if(!t)return null;try{const p={id:t.id},{data:m,error:g}=await V.from("user_profiles").upsert(p,{returning:"representation"}).single();return g?(console.error("Erro upsert user_profiles:",g),$.error("Erro ao garantir perfil do usuário: "+(g.message||g)),null):(d(m),m)}catch(p){return console.error("Erro inesperado ensureUserProfile:",p),$.error("Erro inesperado ao garantir perfil do usuário"),null}},v=async()=>{if(t)try{const{data:p,error:m}=await V.from("user_profiles").select("*").eq("id",t.id).single();return m?(console.warn("fetchUserProfile warning:",m),await y()):(d(p),p)}catch(p){return console.error("Erro fetchUserProfile:",p),await y()}};C.useEffect(()=>{(async()=>{if(t){if(f(!0),await v(),e==="share"){const{data:m,error:g}=await V.from("advertisements").select("*").eq("active",!0);g?console.error("Erro fetch ads:",g):o(m||[])}if(e==="rewards"){const{data:m,error:g}=await V.from("rewards").select("*").eq("active",!0).order("points_required",{ascending:!0});g?console.error("Erro fetch rewards:",g):s(m||[])}if(e==="history"){const{data:m,error:g}=await V.from("user_rewards").select("*, rewards(name)").eq("user_id",t.id).order("created_at",{ascending:!1});g?console.error("Erro fetch history:",g):c(m||[])}f(!1)}})()},[e,t]);const b=async p=>{if(!t){$.error("Você precisa estar logado para compartilhar");return}try{await y();const m=(p.category||"").slice(0,140)||"Confira essa oferta!",g=`Oi! Encontrei uma oferta incrível: ${p.name}
${m}

📱 WhatsApp: ${p.whatsapp||"Não informado"}
🌐 Site: ${p.link||"Não disponível"}

💡 Compartilhado por mim via- Sistema Inteligente`;if(p.whatsapp){const x=`https://wa.me/${p.whatsapp.replace(/\D/g,"")}?text=${encodeURIComponent(g)}`;window.open(x,"_blank")}else p.link&&window.open(p.link,"_blank");const{data:_,error:E}=await V.from("share_tracking").insert({user_id:t.id,advertisement_id:p.id,share_type:p.whatsapp?"whatsapp":"link",points_earned:10});if(E){console.error("Erro insert share_tracking:",E),$.error("Erro ao registrar compartilhamento: "+(E.message||E));return}const{data:N,error:w}=await V.rpc("increment_user_points",{user_id_input:t.id,points_to_add:10});if(w){console.error("Erro RPC increment_user_points:",w),$.error("Erro ao atualizar pontos: "+(w.message||w));return}await v(),$.success("✅ +10 pontos! Compartilhamento registrado!")}catch(m){console.error("Erro handleShare:",m),$.error("Erro inesperado ao compartilhar")}},P=async p=>{if(t){if(await y(),!u){$.error("Perfil do usuário não encontrado");return}if((u.points||0)<p.points_required){$.error("❌ Pontos insuficientes.");return}try{const{data:m,error:g}=await V.from("user_rewards").insert({user_id:t.id,reward_id:p.id,points_spent:p.points_required,money_value:p.points_required*.1,status:"pending"});if(g){console.error("Erro insert user_rewards:",g),$.error("Erro ao registrar resgate: "+(g.message||g));return}const{data:_,error:E}=await V.rpc("increment_user_points",{user_id_input:t.id,points_to_add:-p.points_required});if(E){console.error("Erro RPC decrement:",E),$.error("Erro ao atualizar pontos: "+(E.message||E));return}await v(),$.success("🎉 Recompensa resgatada!"),setTimeout(()=>{if(p.link)window.open(p.link,"_blank");else{const N=`🎉 Olá! Acabei de resgatar a recompensa "${p.name}" pelo Top Saúde - Sistema Inteligente!

💰 Valor: ${p.points_required} pontos (R$ ${(p.points_required*.1).toFixed(2)})
📝 Descrição: ${p.description||"Recompensa especial"}

Como posso utilizar minha recompensa?

Obrigado! 😊`,w=`https://wa.me/5521979618766?text=${encodeURIComponent(N)}`;window.open(w,"_blank")}},1500)}catch(m){console.error("Erro handleRedeem:",m),$.error("Erro ao resgatar recompensa")}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex space-x-4 border-b pb-2",children:[a.jsx("button",{onClick:()=>r("share"),className:e==="share"?"font-bold text-blue-600":"",children:"📱 Compartilhar"}),a.jsx("button",{onClick:()=>r("rewards"),className:e==="rewards"?"font-bold text-blue-600":"",children:"🎁 Recompensas"}),a.jsx("button",{onClick:()=>r("history"),className:e==="history"?"font-bold text-blue-600":"",children:"🕒 Histórico"}),a.jsx("button",{onClick:()=>r("earnings"),className:e==="earnings"?"font-bold text-blue-600":"",children:"💰 Ganhos"})]}),e==="share"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(p=>a.jsxs("div",{className:"border rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[a.jsx("img",{src:p.image_url,alt:p.name,className:"w-full h-48 object-cover",onError:m=>{m.target.src="https://placehold.co/400x300?text=Imagem+Indisponível"}}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-gray-900",children:p.name}),a.jsxs("button",{onClick:()=>b(p),className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors mt-4",children:[a.jsx(Pf,{className:"h-4 w-4"}),a.jsx("span",{children:"Compartilhar (+10 pts)"})]})]})]},p.id))}),e==="rewards"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(p=>a.jsxs("div",{className:"border rounded-xl p-4 text-center",children:[a.jsx("img",{src:p.image_url||"https://placehold.co/400x300?text=Recompensa",alt:p.name,className:"w-full h-40 object-cover mb-4"}),a.jsx("h3",{className:"font-bold",children:p.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:p.description}),a.jsxs("p",{className:"font-semibold text-blue-600",children:[p.points_required," pts"]}),a.jsx("button",{onClick:()=>P(p),className:"mt-3 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Resgatar"})]},p.id))}),e==="history"&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-4",children:"Histórico de Resgates"}),l.length===0?a.jsx("p",{className:"text-gray-500",children:"Nenhum resgate ainda."}):a.jsx("ul",{className:"space-y-2",children:l.map(p=>{var m;return a.jsxs("li",{className:"p-3 border rounded-lg flex justify-between",children:[a.jsx("span",{children:((m=p.rewards)==null?void 0:m.name)||"Recompensa"}),a.jsxs("span",{className:"text-sm text-gray-500",children:["-",p.points_spent," pts"]})]},p.id)})})]}),e==="earnings"&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-4",children:"Resumo Financeiro"}),a.jsxs("p",{children:["Total de pontos: ",(u==null?void 0:u.points)??0]}),a.jsxs("p",{children:["Saldo em R$: R$ ",(((u==null?void 0:u.points)??0)*.1).toFixed(2)]})]})]})};function Nx(){const{user:t,updateUser:e}=Pt(),[r,n]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(null),[c,u]=C.useState(""),[d,h]=C.useState({name:"",dosage:"",frequency:"daily",times:["08:00"],startDate:new Date().toISOString().split("T")[0],endDate:"",notes:""});C.useEffect(()=>{t&&f()},[t]);const f=()=>{if(!t)return;const x=X.getMedications(t.id);n(x)},y=x=>{if(x.preventDefault(),!t)return;const I={id:(o==null?void 0:o.id)||`med_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:t.id,name:d.name,dosage:d.dosage,frequency:d.frequency,times:d.times,startDate:d.startDate,endDate:d.endDate||void 0,notes:d.notes||void 0,completed:(o==null?void 0:o.completed)||!1};X.saveMedication(I),f(),p(),$.success(o?"Medicamento atualizado!":"Medicamento adicionado!")},v=x=>{l(x),h({name:x.name,dosage:x.dosage,frequency:x.frequency,times:x.times,startDate:x.startDate,endDate:x.endDate||"",notes:x.notes||""}),i(!0)},b=x=>{confirm("Tem certeza que deseja excluir este medicamento?")&&(X.deleteMedication(x),f(),$.success("Medicamento excluído!"))},P=x=>{const I={...x,completed:!x.completed};X.saveMedication(I),f(),x.completed||(e({points:((t==null?void 0:t.points)||0)+15}),$.success("+15 pontos! Medicamento tomado!"))},p=()=>{h({name:"",dosage:"",frequency:"daily",times:["08:00"],startDate:new Date().toISOString().split("T")[0],endDate:"",notes:""}),l(null),i(!1)},m=()=>{h(x=>({...x,times:[...x.times,"12:00"]}))},g=x=>{h(I=>({...I,times:I.times.filter((L,k)=>k!==x)}))},_=(x,I)=>{h(L=>({...L,times:L.times.map((k,U)=>U===x?I:k)}))},E=r.filter(x=>x.name.toLowerCase().includes(c.toLowerCase())||x.dosage.toLowerCase().includes(c.toLowerCase())),N=E.filter(x=>!x.endDate||new Date(x.endDate)>=new Date),w=E.filter(x=>x.endDate&&new Date(x.endDate)<new Date);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicamentos"}),a.jsx("p",{className:"text-gray-600",children:"Gerencie seus medicamentos e horários"})]}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ni,{className:"h-5 w-5"}),a.jsx("span",{children:"Adicionar Medicamento"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Tf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar medicamentos...",value:c,onChange:x=>u(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Medicamentos Ativos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.length})]}),a.jsx(Si,{className:"h-8 w-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Próximas Doses"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.reduce((x,I)=>x+I.times.length,0)})]}),a.jsx(ss,{className:"h-8 w-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Tratamentos Concluídos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]}),a.jsx(Un,{className:"h-8 w-8 text-purple-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Medicamentos Ativos"}),N.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Si,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nenhum medicamento ativo"})]}):a.jsx("div",{className:"space-y-4",children:N.map(x=>a.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:x.name}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:x.dosage})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qe,{className:"h-4 w-4"}),a.jsxs("span",{children:["Frequência: ",x.frequency==="daily"?"Diário":x.frequency]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ss,{className:"h-4 w-4"}),a.jsxs("span",{children:["Horários: ",x.times.join(", ")]})]})]}),x.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2 italic",children:x.notes}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:x.times.map((I,L)=>a.jsxs("button",{onClick:()=>P(x),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${x.completed?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:[I," ",x.completed?"✓":"⏰"]},L))})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>v(x),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(is,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>b(x.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(Xr,{className:"h-4 w-4"})})]})]})},x.id))})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:o?"Editar Medicamento":"Novo Medicamento"}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Medicamento *"}),a.jsx("input",{type:"text",required:!0,value:d.name,onChange:x=>h(I=>({...I,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Paracetamol"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosagem *"}),a.jsx("input",{type:"text",required:!0,value:d.dosage,onChange:x=>h(I=>({...I,dosage:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 500mg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequência *"}),a.jsxs("select",{required:!0,value:d.frequency,onChange:x=>h(I=>({...I,frequency:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"daily",children:"Diário"}),a.jsx("option",{value:"weekly",children:"Semanal"}),a.jsx("option",{value:"monthly",children:"Mensal"}),a.jsx("option",{value:"as-needed",children:"Conforme necessário"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horários"}),a.jsxs("div",{className:"space-y-2",children:[d.times.map((x,I)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"time",value:x,onChange:L=>_(I,L.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.times.length>1&&a.jsx("button",{type:"button",onClick:()=>g(I),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:a.jsx(Xr,{className:"h-4 w-4"})})]},I)),a.jsx("button",{type:"button",onClick:m,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Adicionar Horário"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Início *"}),a.jsx("input",{type:"date",required:!0,value:d.startDate,onChange:x=>h(I=>({...I,startDate:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Fim (opcional)"}),a.jsx("input",{type:"date",value:d.endDate,onChange:x=>h(I=>({...I,endDate:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),a.jsx("textarea",{value:d.notes,onChange:x=>h(I=>({...I,notes:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Observações sobre o medicamento..."})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Atualizar":"Adicionar"," Medicamento"]}),a.jsx("button",{type:"button",onClick:p,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})})]})}function Ex(){const{user:t,updateUser:e}=Pt(),[r,n]=C.useState([]),[s,i]=C.useState(!1),[o,l]=C.useState(null),[c,u]=C.useState(""),[d,h]=C.useState("all"),[f,y]=C.useState({type:"medical",title:"",date:new Date().toISOString().split("T")[0],time:"09:00",location:"",notes:"",recurring:!1,recurringFrequency:"weekly",recurringInterval:1});C.useEffect(()=>{t&&v()},[t]);const v=()=>{if(!t)return;const k=X.getAppointments(t.id);n(k)},b=k=>{if(k.preventDefault(),!t)return;const U={id:(o==null?void 0:o.id)||`app_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:t.id,type:f.type,title:f.title,date:f.date,time:f.time,location:f.location||void 0,notes:f.notes||void 0,completed:(o==null?void 0:o.completed)||!1,recurring:f.recurring?{frequency:f.recurringFrequency,interval:f.recurringInterval}:void 0};X.saveAppointment(U),v(),g(),$.success(o?"Compromisso atualizado!":"Compromisso adicionado!")},P=k=>{var U,be;l(k),y({type:k.type,title:k.title,date:k.date,time:k.time,location:k.location||"",notes:k.notes||"",recurring:!!k.recurring,recurringFrequency:((U=k.recurring)==null?void 0:U.frequency)||"weekly",recurringInterval:((be=k.recurring)==null?void 0:be.interval)||1}),i(!0)},p=k=>{confirm("Tem certeza que deseja excluir este compromisso?")&&(X.deleteAppointment(k),v(),$.success("Compromisso excluído!"))},m=k=>{const U={...k,completed:!k.completed};X.saveAppointment(U),v(),k.completed||(e({points:((t==null?void 0:t.points)||0)+25}),$.success("+25 pontos! Compromisso concluído!"))},g=()=>{y({type:"medical",title:"",date:new Date().toISOString().split("T")[0],time:"09:00",location:"",notes:"",recurring:!1,recurringFrequency:"weekly",recurringInterval:1}),l(null),i(!1)},_=k=>{switch(k){case"medical":return dx;case"dental":return Ba;case"psychology":return _v;case"physiotherapy":return Ba;case"school":return Tu;case"study":return Tu;default:return qe}},E=k=>{switch(k){case"medical":return"bg-red-100 text-red-700";case"dental":return"bg-blue-100 text-blue-700";case"psychology":return"bg-purple-100 text-purple-700";case"physiotherapy":return"bg-green-100 text-green-700";case"school":return"bg-yellow-100 text-yellow-700";case"study":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},N=k=>{switch(k){case"medical":return"Médico";case"dental":return"Dentista";case"psychology":return"Psicólogo";case"physiotherapy":return"Fisioterapia";case"school":return"Escola";case"study":return"Estudo";default:return k}},w=r.filter(k=>{var dt;const U=k.title.toLowerCase().includes(c.toLowerCase())||((dt=k.location)==null?void 0:dt.toLowerCase().includes(c.toLowerCase())),be=d==="all"||k.type===d;return U&&be}),x=w.filter(k=>new Date(`${k.date}T${k.time}`)>=new Date&&!k.completed),I=w.filter(k=>new Date(`${k.date}T${k.time}`)<new Date||k.completed),L=[{value:"all",label:"Todos"},{value:"medical",label:"Médico"},{value:"dental",label:"Dentista"},{value:"psychology",label:"Psicólogo"},{value:"physiotherapy",label:"Fisioterapia"},{value:"school",label:"Escola"},{value:"study",label:"Estudo"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Compromissos"}),a.jsx("p",{className:"text-gray-600",children:"Gerencie consultas, estudos e compromissos"})]}),a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ni,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Compromisso"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Tf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar compromissos...",value:c,onChange:k=>u(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ov,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("select",{value:d,onChange:k=>h(k.target.value),className:"pl-10 pr-8 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:L.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Próximos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),a.jsx(qe,{className:"h-8 w-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Hoje"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(k=>k.date===new Date().toISOString().split("T")[0]).length})]}),a.jsx(ss,{className:"h-8 w-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Concluídos"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.length})]}),a.jsx(Un,{className:"h-8 w-8 text-purple-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Este Mês"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(k=>new Date(k.date).getMonth()===new Date().getMonth()).length})]}),a.jsx(qe,{className:"h-8 w-8 text-yellow-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Próximos Compromissos"}),x.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(qe,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Nenhum compromisso próximo"})]}):a.jsx("div",{className:"space-y-4",children:x.map(k=>{const U=_(k.type);return a.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(U,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:k.title}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E(k.type)}`,children:N(k.type)}),k.recurring&&a.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:"Recorrente"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qe,{className:"h-4 w-4"}),a.jsx("span",{children:new Date(k.date).toLocaleDateString("pt-BR")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ss,{className:"h-4 w-4"}),a.jsx("span",{children:k.time})]}),k.location&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cf,{className:"h-4 w-4"}),a.jsx("span",{children:k.location})]})]}),k.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-2 italic",children:k.notes}),a.jsx("div",{className:"flex items-center space-x-4 mt-3",children:a.jsx("button",{onClick:()=>m(k),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${k.completed?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:k.completed?a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"h-4 w-4 inline mr-1"}),"Concluído"]}):"Marcar como Concluído"})})]})]}),a.jsxs("div",{className:"flex space-x-2 ml-4",children:[a.jsx("button",{onClick:()=>P(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(is,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>p(k.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(Xr,{className:"h-4 w-4"})})]})]})},k.id)})})]}),I.length>0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Histórico"}),a.jsx("div",{className:"space-y-3",children:I.slice(0,5).map(k=>{const U=_(k.type);return a.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-gray-200 rounded-lg",children:a.jsx(U,{className:"h-4 w-4 text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:k.title}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E(k.type)}`,children:N(k.type)}),k.completed&&a.jsx(Un,{className:"h-4 w-4 text-green-600"})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(k.date).toLocaleDateString("pt-BR")," às ",k.time]})]})]},k.id)})})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:o?"Editar Compromisso":"Novo Compromisso"}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Compromisso *"}),a.jsxs("select",{required:!0,value:f.type,onChange:k=>y(U=>({...U,type:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"medical",children:"Consulta Médica"}),a.jsx("option",{value:"dental",children:"Consulta Odontológica"}),a.jsx("option",{value:"psychology",children:"Consulta Psicológica"}),a.jsx("option",{value:"physiotherapy",children:"Fisioterapia"}),a.jsx("option",{value:"school",children:"Compromisso Escolar"}),a.jsx("option",{value:"study",children:"Horário de Estudo"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título *"}),a.jsx("input",{type:"text",required:!0,value:f.title,onChange:k=>y(U=>({...U,title:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Consulta com Dr. Silva"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data *"}),a.jsx("input",{type:"date",required:!0,value:f.date,onChange:k=>y(U=>({...U,date:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horário *"}),a.jsx("input",{type:"time",required:!0,value:f.time,onChange:k=>y(U=>({...U,time:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Local"}),a.jsx("input",{type:"text",value:f.location,onChange:k=>y(U=>({...U,location:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Hospital São Lucas, Sala 205"})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:f.recurring,onChange:k=>y(U=>({...U,recurring:k.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Compromisso recorrente"})]})}),f.recurring&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequência"}),a.jsxs("select",{value:f.recurringFrequency,onChange:k=>y(U=>({...U,recurringFrequency:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"daily",children:"Diário"}),a.jsx("option",{value:"weekly",children:"Semanal"}),a.jsx("option",{value:"monthly",children:"Mensal"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intervalo"}),a.jsx("input",{type:"number",min:"1",value:f.recurringInterval,onChange:k=>y(U=>({...U,recurringInterval:parseInt(k.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),a.jsx("textarea",{value:f.notes,onChange:k=>y(U=>({...U,notes:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Observações sobre o compromisso..."})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Atualizar":"Adicionar"," Compromisso"]}),a.jsx("button",{type:"button",onClick:g,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})})]})}function Cx(){var E,N;const{user:t,updateUser:e}=Pt(),[r,n]=C.useState(!1),[s,i]=C.useState({name:(t==null?void 0:t.name)||"",age:(t==null?void 0:t.age)||25,weight:(t==null?void 0:t.profile.weight)||70,height:(t==null?void 0:t.profile.height)||170,activityLevel:(t==null?void 0:t.profile.activityLevel)||"moderate",healthGoals:(t==null?void 0:t.profile.healthGoals)||[],allergies:(t==null?void 0:t.profile.allergies)||[],medications:(t==null?void 0:t.profile.medications)||[],exerciseTypes:(t==null?void 0:t.profile.preferences.exerciseTypes)||[],dietType:(t==null?void 0:t.profile.preferences.dietType)||"balanced",notifications:(t==null?void 0:t.profile.preferences.notifications)||!0}),[o,l]=C.useState(""),[c,u]=C.useState("");C.useState("");const[d,h]=C.useState(""),f=()=>{if(!t)return;const w={...t,name:s.name,age:s.age,profile:{...t.profile,weight:s.weight,height:s.height,activityLevel:s.activityLevel,healthGoals:s.healthGoals,allergies:s.allergies,medications:s.medications,preferences:{...t.profile.preferences,exerciseTypes:s.exerciseTypes,dietType:s.dietType,notifications:s.notifications}}};e(w),n(!1),$.success("Perfil atualizado com sucesso!")},y=(w,x,I)=>{x.trim()&&(i(L=>({...L,[w]:[...L[w],x.trim()]})),I(""))},v=(w,x)=>{i(I=>({...I,[w]:I[w].filter((L,k)=>k!==x)}))},b=()=>{const w=s.height/100;return(s.weight/(w*w)).toFixed(1)},P=w=>w<18.5?{label:"Abaixo do peso",color:"text-blue-600"}:w<25?{label:"Peso normal",color:"text-green-600"}:w<30?{label:"Sobrepeso",color:"text-yellow-600"}:{label:"Obesidade",color:"text-red-600"},p=parseFloat(b()),m=P(p),g=[{value:"low",label:"Baixo",description:"Pouco ou nenhum exercício"},{value:"moderate",label:"Moderado",description:"Exercício 1-3 vezes por semana"},{value:"high",label:"Alto",description:"Exercício 4+ vezes por semana"}],_=[{value:"balanced",label:"Balanceada"},{value:"vegetarian",label:"Vegetariana"},{value:"vegan",label:"Vegana"},{value:"keto",label:"Cetogênica"},{value:"mediterranean",label:"Mediterrânea"},{value:"low-carb",label:"Low Carb"}];return t?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Perfil"}),a.jsx("p",{className:"text-gray-600",children:"Gerencie suas informações pessoais e preferências"})]}),a.jsx("div",{className:"flex space-x-3",children:r?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:f,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(sx,{className:"h-5 w-5"}),a.jsx("span",{children:"Salvar"})]}),a.jsx("button",{onClick:()=>n(!1),className:"flex items-center space-x-2 bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]}):a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(is,{className:"h-5 w-5"}),a.jsx("span",{children:"Editar Perfil"})]})})]}),a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"h-20 w-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:a.jsx(Ti,{className:"h-10 w-10"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-2xl font-bold mb-1",children:t.name}),a.jsx("p",{className:"text-blue-100 mb-2",children:t.email}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Su,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:t.plan==="premium"?"Premium":"Gratuito"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ci,{className:"h-5 w-5"}),a.jsxs("span",{className:"font-medium",children:[t.points," pontos"]})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(Ti,{className:"h-5 w-5"}),a.jsx("span",{children:"Informações Pessoais"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome"}),r?a.jsx("input",{type:"text",value:s.name,onChange:w=>i(x=>({...x,name:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):a.jsx("p",{className:"text-gray-900",children:t.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ql,{className:"h-4 w-4 text-gray-400"}),a.jsx("p",{className:"text-gray-900",children:t.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Idade"}),r?a.jsx("input",{type:"number",min:"1",max:"120",value:s.age,onChange:w=>i(x=>({...x,age:parseInt(w.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):a.jsxs("p",{className:"text-gray-900",children:[t.age," anos"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Peso (kg)"}),r?a.jsx("input",{type:"number",min:"1",value:s.weight,onChange:w=>i(x=>({...x,weight:parseFloat(w.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):a.jsxs("p",{className:"text-gray-900",children:[t.profile.weight," kg"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Altura (cm)"}),r?a.jsx("input",{type:"number",min:"1",value:s.height,onChange:w=>i(x=>({...x,height:parseFloat(w.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):a.jsxs("p",{className:"text-gray-900",children:[t.profile.height," cm"]})]})]}),a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"IMC"}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-lg font-bold text-gray-900",children:b()}),a.jsx("p",{className:`text-sm ${m.color}`,children:m.label})]})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(ki,{className:"h-5 w-5"}),a.jsx("span",{children:"Perfil de Saúde"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nível de Atividade"}),r?a.jsx("select",{value:s.activityLevel,onChange:w=>i(x=>({...x,activityLevel:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:g.map(w=>a.jsxs("option",{value:w.value,children:[w.label," - ",w.description]},w.value))}):a.jsx("p",{className:"text-gray-900",children:(E=g.find(w=>w.value===t.profile.activityLevel))==null?void 0:E.label})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Dieta"}),r?a.jsx("select",{value:s.dietType,onChange:w=>i(x=>({...x,dietType:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:_.map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))}):a.jsx("p",{className:"text-gray-900",children:(N=_.find(w=>w.value===t.profile.preferences.dietType))==null?void 0:N.label})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objetivos de Saúde"}),r?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Adicionar objetivo...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),y("healthGoals",o,l))}}),a.jsx("button",{type:"button",onClick:()=>y("healthGoals",o,l),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"+"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.healthGoals.map((w,x)=>a.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:[a.jsx("span",{children:w}),a.jsx("button",{onClick:()=>v("healthGoals",x),className:"text-green-600 hover:text-green-800",children:"×"})]},x))})]}):a.jsx("div",{className:"flex flex-wrap gap-2",children:t.profile.healthGoals.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum objetivo definido"}):t.profile.healthGoals.map((w,x)=>a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:w},x))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alergias"}),r?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:c,onChange:w=>u(w.target.value),placeholder:"Adicionar alergia...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),y("allergies",c,u))}}),a.jsx("button",{type:"button",onClick:()=>y("allergies",c,u),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"+"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.allergies.map((w,x)=>a.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:[a.jsx("span",{children:w}),a.jsx("button",{onClick:()=>v("allergies",x),className:"text-red-600 hover:text-red-800",children:"×"})]},x))})]}):a.jsx("div",{className:"flex flex-wrap gap-2",children:t.profile.allergies.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma alergia registrada"}):t.profile.allergies.map((w,x)=>a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:w},x))})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(Hl,{className:"h-5 w-5"}),a.jsx("span",{children:"Preferências"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipos de Exercício Preferidos"}),r?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:d,onChange:w=>h(w.target.value),placeholder:"Ex: Caminhada, Natação...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),y("exerciseTypes",d,h))}}),a.jsx("button",{type:"button",onClick:()=>y("exerciseTypes",d,h),className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"+"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.exerciseTypes.map((w,x)=>a.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:[a.jsx("span",{children:w}),a.jsx("button",{onClick:()=>v("exerciseTypes",x),className:"text-purple-600 hover:text-purple-800",children:"×"})]},x))})]}):a.jsx("div",{className:"flex flex-wrap gap-2",children:t.profile.preferences.exerciseTypes.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma preferência definida"}):t.profile.preferences.exerciseTypes.map((w,x)=>a.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:w},x))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notificações"}),r?a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:s.notifications,onChange:w=>i(x=>({...x,notifications:w.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Receber notificações"})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ei,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-gray-900",children:t.profile.preferences.notifications?"Ativadas":"Desativadas"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estatísticas da Conta"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(qe,{className:"h-8 w-8 text-blue-600"})}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.points}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pontos Totais"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(Ci,{className:"h-8 w-8 text-green-600"})}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.floor((new Date().getTime()-new Date(t.createdAt).getTime())/(1e3*60*60*24))}),a.jsx("p",{className:"text-sm text-gray-600",children:"Dias no App"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-16 w-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(Su,{className:"h-8 w-8 text-purple-600"})}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.plan==="premium"?t.premiumDays:0}),a.jsx("p",{className:"text-sm text-gray-600",children:"Dias Premium"})]})]})]})]}):null}function Tx(){const{user:t,updateUser:e}=Pt(),[r,n]=C.useState({notifications:(t==null?void 0:t.profile.preferences.notifications)||!0,emailNotifications:!0,pushNotifications:!0,soundEnabled:!0,darkMode:!1,autoBackup:!0,dataSharing:!1,reminderTime:"08:00"}),[s,i]=C.useState(!1),o=(d,h)=>{n(f=>({...f,[d]:h})),d==="notifications"&&t&&e({profile:{...t.profile,preferences:{...t.profile.preferences,notifications:h}}}),$.success("Configuração atualizada!")},l=()=>{if(!t)return;const d={profile:t,medications:JSON.parse(localStorage.getItem("healthSystem_medications")||"[]"),appointments:JSON.parse(localStorage.getItem("healthSystem_appointments")||"[]"),activities:JSON.parse(localStorage.getItem("healthSystem_activities")||"[]"),recommendations:JSON.parse(localStorage.getItem("healthSystem_recommendations")||"[]")},h=JSON.stringify(d,null,2),f=new Blob([h],{type:"application/json"}),y=URL.createObjectURL(f),v=document.createElement("a");v.href=y,v.download=`healthlife-backup-${new Date().toISOString().split("T")[0]}.json`,v.click(),URL.revokeObjectURL(y),$.success("Dados exportados com sucesso!")},c=()=>{t&&(localStorage.removeItem("healthSystem_medications"),localStorage.removeItem("healthSystem_appointments"),localStorage.removeItem("healthSystem_activities"),localStorage.removeItem("healthSystem_recommendations"),localStorage.removeItem(`shareCount_${t.id}`),e({points:0}),i(!1),$.success("Todos os dados foram removidos!"))},u=[{title:"Notificações",icon:Sf,settings:[{key:"notifications",label:"Notificações Gerais",description:"Receber lembretes e alertas do sistema",type:"toggle"},{key:"emailNotifications",label:"Notificações por Email",description:"Receber emails sobre compromissos importantes",type:"toggle"},{key:"pushNotifications",label:"Notificações Push",description:"Receber notificações no dispositivo",type:"toggle"},{key:"soundEnabled",label:"Sons de Notificação",description:"Reproduzir sons para alertas",type:"toggle"}]},{title:"Aparência",icon:Xv,settings:[{key:"darkMode",label:"Modo Escuro",description:"Usar tema escuro para reduzir cansaço visual",type:"toggle"}]},{title:"Privacidade e Dados",icon:Ei,settings:[{key:"autoBackup",label:"Backup Automático",description:"Fazer backup automático dos seus dados",type:"toggle"},{key:"dataSharing",label:"Compartilhamento de Dados",description:"Permitir uso anônimo de dados para melhorias",type:"toggle"}]}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurações"}),a.jsx("p",{className:"text-gray-600",children:"Personalize sua experiência no HealthLife"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(Ei,{className:"h-5 w-5"}),a.jsx("span",{children:"Informações da Conta"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ql,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),a.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.email})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ef,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Plano"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"font-medium text-gray-900",children:(t==null?void 0:t.plan)==="premium"?"Premium":"Gratuito"}),(t==null?void 0:t.plan)==="premium"&&a.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:[t.premiumDays," dias restantes"]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ci,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pontos Totais"}),a.jsx("p",{className:"font-medium text-gray-900",children:(t==null?void 0:t.points)||0})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Hl,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Membro desde"}),a.jsx("p",{className:"font-medium text-gray-900",children:t?new Date(t.createdAt).toLocaleDateString("pt-BR"):""})]})]})]})]})]}),u.map(d=>{const h=d.icon;return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(h,{className:"h-5 w-5"}),a.jsx("span",{children:d.title})]}),a.jsx("div",{className:"space-y-4",children:d.settings.map(f=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:f.label}),a.jsx("p",{className:"text-sm text-gray-600",children:f.description})]}),f.type==="toggle"&&a.jsx("button",{onClick:()=>o(f.key,!r[f.key]),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r[f.key]?"bg-blue-600":"bg-gray-200"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r[f.key]?"translate-x-6":"translate-x-1"}`})})]},f.key))})]},d.title)}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[a.jsx(Nf,{className:"h-5 w-5"}),a.jsx("span",{children:"Gerenciamento de Dados"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Exportar Dados"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Baixar uma cópia de todos os seus dados"})]}),a.jsx("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Exportar"})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-900",children:"Limpar Todos os Dados"}),a.jsx("p",{className:"text-sm text-red-600",children:"Remover permanentemente todos os dados locais"})]}),a.jsx("button",{onClick:()=>i(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Limpar Dados"})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(px,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Confirmar Exclusão"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Esta ação irá remover permanentemente todos os seus dados locais. Esta ação não pode ser desfeita."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>i(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:c,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar Exclusão"})]})]})})})]})}function Px(){const{user:t,loading:e,isAdmin:r}=Pt(),[n,s]=C.useState("dashboard");if(e)return a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Carregando Rotina inteligente..."})]})});if(!t)return a.jsx(_x,{});const i=()=>{try{switch(n){case"dashboard":return a.jsx(Do,{});case"medications":return a.jsx(Nx,{});case"appointments":return a.jsx(Ex,{});case"rewards":return a.jsx(Sx,{});case"profile":return a.jsx(Cx,{});case"settings":return a.jsx(Tx,{});case"admin":return r?a.jsx(kx,{}):a.jsx(Do,{});default:return a.jsx(Do,{})}}catch(o){return console.error("Erro ao renderizar conteúdo:",o),a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Erro ao carregar página"}),a.jsx("p",{className:"text-gray-600",children:"Tente recarregar a página ou selecionar outra aba."}),a.jsx("button",{onClick:()=>s("dashboard"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar ao Dashboard"})]})}};return a.jsx(wx,{activeTab:n,onTabChange:s,children:i()})}function $x(){try{return a.jsxs(hv,{children:[a.jsx(Px,{}),a.jsx(W0,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})}catch(t){return console.error("Erro crítico na aplicação:",t),a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-lg",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Erro na Aplicação"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado. Tente recarregar a página."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Recarregar Página"})]})})}}function Ox({children:t}){try{return a.jsx(a.Fragment,{children:t})}catch(e){return console.error("Erro na aplicação:",e),a.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[a.jsx("h1",{children:"Erro na aplicação"}),a.jsx("p",{children:"Verifique o console para mais detalhes"})]})}}const Ou=document.getElementById("root");Ou?Wh(Ou).render(a.jsx(C.StrictMode,{children:a.jsx(Ox,{children:a.jsx($x,{})})})):console.error("Elemento root não encontrado");
